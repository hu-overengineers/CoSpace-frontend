(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{317:function(e,t,a){},449:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(21),r=a.n(i),s=(a(317),a(287)),o=a(555),l=a(549),d=a(34),u=a(29),j=a(6),b=a(93),m=a(501),h=a(16),g=a(503),O=a(504),p=a(46),x=a(451),f=a(265),v=a.n(f),C=a(266),y=a.n(C),w=a(293),N=a.p+"static/media/logo.08e987d0.png",S=a(505),k=a(15),T=a.n(k),I=Object({NODE_ENV:"production",PUBLIC_URL:"/CoSpace-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_BASE_URL||"http://localhost:8080",E="/auth",R="/subclub",B="/subclub/statistics",L="/moderator",W="/event",D="/post",q="/review",A="/member",P="/admin",U="/reports",M="/delete-report",F="/enrolled-subclubs",H="/private-message",G="/search",J=function(e){var t=V.getJwtToken();return{headers:{Authorization:"Bearer ".concat(t),Accept:"application/json","Content-Type":"application/json"},params:e}},_=function(e){localStorage.setItem("username",e)},z=function(){return localStorage.getItem("auth_roles")},V={login:function(e,t){return _(e),T.a.post(I+"/auth/login",{username:e,password:t})},register:function(e){return T.a.post(I+"/auth/register",e)},logout:function(){localStorage.removeItem("login_token"),localStorage.removeItem("auth_roles")},loginWithToken:function(){return T.a.post(I+"/auth/login_with_token",{},J())},saveJwtToken:function(e){localStorage.setItem("login_token",e)},getJwtToken:function(){return localStorage.getItem("login_token")},hasJwtToken:function(){return null!=localStorage.getItem("login_token")},getUsername:function(){return localStorage.getItem("username")},removeUsername:function(){localStorage.removeItem("username")},resetPassword:function(e){return T.a.post(I+E+"/reset-password",null,{params:{email:e}})},changePasswordWithToken:function(e,t){return T.a.post(I+E+"/change-password-token",null,{params:{token:t,newPassword:e}})},isAdmin:function(){return"ADMIN"in z()},saveAuthRoles:function(e){localStorage.setItem("auth_roles",e)},getAuthRoles:z},Q=a(1),Y=Object(m.a)((function(e){return{grow:{flexGrow:1},title:{flexGrow:0,marginLeft:e.spacing(1)},search:Object(b.a)({flexGrow:1,position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(h.c)(e.palette.text.primary,.05),"&:hover":{backgroundColor:Object(h.c)(e.palette.text.primary,.2)},width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(50),marginRight:e.spacing(50),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},searchInputRoot:{color:"inherit"},searchInput:Object(b.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),logo:{maxWidth:"50px"},appBar:{}}}));function $(){var e=Y(),t=Object(u.f)(),a=Object(n.useState)(""),c=Object(j.a)(a,2),i=c[0],r=c[1];return Object(Q.jsx)("div",{className:e.grow,children:Object(Q.jsx)(g.a,{position:"fixed",variant:"outlined",className:e.appBar,children:Object(Q.jsxs)(O.a,{children:[Object(Q.jsx)("img",{src:N,style:{cursor:"pointer"},alt:"CoSpace",className:e.logo,color:"#00e3aa",onClick:function(){return t.push("/")}}),Object(Q.jsx)(p.a,{variant:"h6",style:{color:"#00e3aa",fontWeight:"bold",cursor:"pointer"},className:e.title,onClick:function(){return t.push("/feed/Popular")},children:"CoSpace"}),Object(Q.jsxs)("div",{className:e.search,children:[Object(Q.jsx)("div",{className:e.searchIcon,children:Object(Q.jsx)(v.a,{})}),Object(Q.jsx)(w.a,{placeholder:"Search anything\u2026",classes:{root:e.searchInputRoot,input:e.searchInput},onChange:function(e){r(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&(e.preventDefault(),t.push("/search/".concat(i)))},inputProps:{"aria-label":"search"}})]}),Object(Q.jsx)(x.a,{onClick:function(){t.push("/pm")},children:Object(Q.jsx)(S.a,{})}),Object(Q.jsx)(x.a,{onClick:function(){V.hasJwtToken()?t.push("/profile/"+V.getUsername()):t.push("/sign-up")},children:Object(Q.jsx)(y.a,{})})]})})})}var K=a(557),X=Object(m.a)((function(e){return{toolbar:e.mixins.toolbar}}));function Z(e){var t=X();return Object(Q.jsxs)(K.a,{children:[Object(Q.jsx)($,{}),Object(Q.jsxs)(K.a,{children:[Object(Q.jsx)("div",{className:t.toolbar}),e.children]})]})}var ee=a(67),te=a(508),ae=a(509),ne=a(458),ce=a(113),ie=a.n(ce),re=a(267),se=a(506),oe=function(){return T.a.get(I+"/club/all")},le=function(){var e=Object(re.a)(ie.a.mark((function e(t){var a,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:return a=e.sent,n=[],a.data.forEach((function(e){e.children=t.filter((function(t){return t.parentName===e.name})),n.push(e)})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de={getClubs:oe,getSubClubs:function(){return T.a.get(I+"/subclub/all")},parseSubClubs:le,getSubClubStatistics:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(se.a)(new Date,7),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;return T.a.get(I+B,{params:{subClubName:e,start:t.toISOString(),end:a.toISOString()}})},getEvents:function(e){return T.a.get(I+"/subclub/events",{params:{subClubName:e}})},getSubClubQuestions:function(e){return T.a.get(I+"/subclub/questionnaire-sub",J({subClubName:e}))}},ue=function(){return T.a.get(I+A+F,J())},je=function(e){return T.a.post(I+"/subclub/enroll-subclub",e,J())},be=function(e,t){return T.a.get(I+D+"/by-author",{params:{username:e,subClubName:t}})},me=function(e){return T.a.get(I+R+"/common-subclubs",J({username:e}))},he=function(){return T.a.get(I+A+"/attended-events",J())},ge=function(e){return T.a.post(I+"/subclub/attend-event",null,J({eventId:e}))},Oe=function(e,t,a){var n={subClubName:t,clubName:e};return T.a.post(I+A+"/request-subclub",n,J())},pe=function(e){return T.a.post(I+"/subclub/mod-request",{},J({subClubName:e}))},xe=function(e){return T.a.get(I+A,{params:{username:e}})},fe=a(567),ve=a(178),Ce=a(510),ye=a(269),we=a.n(ye),Ne=a(268),Se=a.n(Ne),ke=a(507),Te=Object(m.a)((function(e){return{divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionBody:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionRoot:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},sectionClub:{height:216,flexGrow:1,maxWidth:400},root:{},treeViewTitleContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},treeViewTitleIconContainer:{marginTop:e.spacing(.5),marginBottom:e.spacing(0),marginLeft:e.spacing(2),marginRight:e.spacing(0)}}})),Ie=Object(m.a)((function(e){return{root:{color:e.palette.text.primary,"&:hover > $content":{backgroundColor:e.palette.action.hover},"&:focus > $content":{backgroundColor:"#afffea",color:"var(--tree-view-color)"},"&$selected > $content":{backgroundColor:"#00e3aa",color:"var(--tree-view-color)"},"&:focus > $content $label, &:hover > $content $label, &$selected > $content $label":{backgroundColor:"transparent"}},content:{color:e.palette.text.secondary,paddingTop:e.spacing(1),paddingBottom:e.spacing(1),paddingRight:e.spacing(1),fontWeight:e.typography.fontWeightMedium},group:{marginLeft:0,"& $content":{paddingLeft:e.spacing(2)}},expanded:{},selected:{},label:{fontWeight:"inherit",color:"inherit",marginLeft:e.spacing(2)},iconContainer:{marginLeft:e.spacing(1)}}}));function Ee(e,t,a){return Object(Q.jsx)(fe.a,{className:t.root,onClick:function(){a(e)},onLabelClick:function(e){e.preventDefault()},nodeId:e.text,label:Object(Q.jsx)(K.a,{className:t.treeItemText,children:e.text}),classes:{root:t.root,content:t.content,expanded:t.expanded,selected:t.selected,group:t.group,label:t.label,iconContainer:t.iconContainer},children:Array.isArray(e.children)?e.children.map((function(e){return Ee(e,t,a)})):null},e.text)}function Re(e){var t=e.title,a=e.titleIcon,n=e.menuItems,c=e.callbackOnTreeItemClick,i=e.expandIcon,r=e.collapseIcon,s=e.defaultExpanded,o=e.expanded,l=e.selected,d=e.defaultSelected,u=e.emptyText,j=void 0===u?"There's nothing to look here.":u,b=Te(),m=Ie();return void 0===i&&(i=Object(Q.jsx)(Se.a,{className:m.treeItemIcon})),void 0===r&&(r=Object(Q.jsx)(K.a,{children:Object(Q.jsx)(we.a,{className:m.treeItemIcon})})),void 0===a&&(a=Object(Q.jsx)(ke.a,{})),Object(Q.jsx)(ve.a,{variant:"outlined",children:Object(Q.jsxs)(K.a,{className:b.sectionRoot,children:[Object(Q.jsxs)(te.a,{container:!0,children:[Object(Q.jsx)(K.a,{item:!0,className:b.treeViewTitleIconContainer,children:a},1),Object(Q.jsx)(te.a,{item:!0,className:b.treeViewTitleContainer,children:Object(Q.jsx)(p.a,{variant:"h6",className:b.sectionTitle,children:t})},2)]}),Object(Q.jsx)(ae.a,{className:b.divider}),Object(Q.jsx)(Ce.a,{defaultCollapseIcon:r,defaultExpanded:s,expanded:o,defaultSelected:d,selected:l,defaultExpandIcon:i,children:n&&0!==n.length?n.map((function(e,t){return Ee(e,m,c)})):Object(Q.jsx)(p.a,{className:m.label,children:j})})]})})}var Be=a(511),Le=Object(m.a)((function(e){return{treeItemIcon:{marginLeft:e.spacing(2)}}}));function We(e){var t=e.clubs,a=e.selected,n=e.callbackOnTreeItemClick,c=e.title,i=void 0===c?"Clubs & Sub-clubs":c,r=e.titleIcon,s=void 0===r?Object(Q.jsx)(ke.a,{}):r,o=Le(),l={};t.forEach((function e(t){l[t.name]=t,Array.isArray(t.children)&&t.children.forEach(e)})),console.log(l);var d=function e(t){return{text:t.name,children:Array.isArray(t.children)?t.children.map((function(t){return e(t)})):null}},u=t.map((function(e){return d(e)}));return Object(Q.jsx)(Re,{title:i,titleIcon:s,selected:a,expandIcon:Object(Q.jsx)(Be.a,{className:o.treeItemIcon}),collapseIcon:Object(Q.jsx)(Be.a,{className:o.treeItemIcon}),expanded:u.map((function(e){return e.text})),menuItems:u,callbackOnTreeItemClick:function(e){console.log("Menu Item:"),console.log(e),console.log("Club Obj:"),console.log(l[e.text]),n(l[e.text])}})}var De=a(570),qe=a(525),Ae=a(526),Pe=a(527),Ue=a(528),Me=a(529),Fe=a(530),He=a(513),Ge=a(512),Je=a(565),_e=a(157),ze=a.n(_e),Ve=a(514),Qe=Object(m.a)((function(e){return{divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},feedNameContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},avatarContainer:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2)},avatar:{color:e.palette.getContrastText("#00e3aa"),backgroundColor:"#00e3aa"},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionBody:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionRoot:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},dateCreatedContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},buttonContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},button:{flexGrow:1,marginRight:e.spacing(1),marginLeft:e.spacing(1)}}}));function Ye(e){var t=e.feedInfo,a=Qe(),n=Object(u.f)();return Object(Q.jsx)(ve.a,{variant:"outlined",children:Object(Q.jsxs)(K.a,{className:a.sectionRoot,children:[Object(Q.jsxs)(te.a,{container:!0,children:[Object(Q.jsx)(te.a,{item:!0,className:a.avatarContainer,children:Object(Q.jsxs)(Je.a,{className:a.avatar,children:[" ",t.name[0].toUpperCase()," "]})},1),Object(Q.jsx)(te.a,{item:!0,className:a.feedNameContainer,children:Object(Q.jsx)(p.a,{variant:"h5",children:t.name})},2)]}),Object(Q.jsx)(ae.a,{className:a.divider}),Object(Q.jsx)(p.a,{className:a.sectionBody,children:t.details}),!t.isCustom&&Object(Q.jsxs)(K.a,{children:[t.parentName&&Object(Q.jsxs)(K.a,{children:[Object(Q.jsx)(ae.a,{className:a.divider}),Object(Q.jsxs)(te.a,{container:!0,justify:"center",children:[Object(Q.jsx)(te.a,{item:!0,children:Object(Q.jsxs)(Ge.a,{children:[Object(Q.jsx)(p.a,{variant:"h6",children:t.numberOfMembers}),Object(Q.jsx)(p.a,{variant:"body1",children:"members"})]})},1),Object(Q.jsx)(te.a,{item:!0,children:Object(Q.jsxs)(Ge.a,{children:[Object(Q.jsx)(p.a,{variant:"h6",children:t.numberOfPostsInLastWeek}),Object(Q.jsx)(p.a,{variant:"body1",children:"posts last week"})]})},2)]})]}),Object(Q.jsx)(ae.a,{className:a.divider}),Object(Q.jsxs)(te.a,{container:!0,className:a.dateCreatedContainer,children:[Object(Q.jsx)(te.a,{item:!0,children:Object(Q.jsxs)(Ge.a,{children:[Object(Q.jsx)(ze.a,{})," "]})},1),Object(Q.jsx)(te.a,{item:!0,children:Object(Q.jsx)(p.a,{variant:"body1",children:"Created, ".concat(new Date(t.created).toLocaleString(navigator.language,{year:"numeric",month:"long",day:"numeric"}))})},2)]}),t.moderatorUsername===V.getUsername()&&Object(Q.jsxs)(K.a,{children:[Object(Q.jsx)(ae.a,{className:a.divider}),Object(Q.jsx)(te.a,{container:!0,className:a.buttonContainer,children:Object(Q.jsx)(He.a,{variant:"outlined",color:"primary",className:a.button,startIcon:Object(Q.jsx)(Ve.a,{}),onClick:function(e){n.push("/mod")},children:"MODERATOR PANEL"})})]})]})]})})}var $e=Object(m.a)((function(e){return{divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionBody:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionRoot:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));function Ke(e){var t=e.events,a=$e();return Object(Q.jsx)(ve.a,{variant:"outlined",children:Object(Q.jsxs)(K.a,{className:a.sectionRoot,children:[Object(Q.jsx)(p.a,{variant:"h6",className:a.sectionTitle,children:"Events"}),Object(Q.jsx)(ae.a,{className:a.divider}),Object(Q.jsx)(p.a,{className:a.sectionBody,children:t})]})})}var Xe=a(40),Ze=a(158),et=a(159),tt=a(160),at=a(174),nt=a(517),ct=a(563),it=a(519),rt=a(516),st=a(515),ot=a(128),lt=a(272),dt=a(273),ut=a.n(dt),jt=(a(435),function(e,t,a,n){return T.a.get(I+D+"/feed",{params:{name:e,page:t,size:a,start:function(){switch(n){case"today":return Object(se.a)(new Date,1).toISOString();case"new":return Object(se.a)(new Date,30).toISOString();case"top":return Object(se.a)(new Date,7).toISOString()}}(),end:(new Date).toISOString(),sort:function(){switch(n){case"today":return"voting,desc";case"new":return"created,desc";case"top":return"voting,desc"}}()}})}),bt=function(e){return T.a.post(I+"/post/create",e,J())},mt=function(e,t,a){return T.a.post(I+"/post/report",{author:e,content:t,postId:a},J())},ht=function(e){return T.a.post(I+"/post/upvote",null,J({postId:e}))},gt=function(e){return T.a.post(I+"/post/downvote",null,J({postId:e}))},Ot=function(e){return T.a.get(I+D,{params:{postId:e}})},pt=function(e){return T.a.post(I+"/post/delete-own-by-id",null,J({id:e}))},xt=function(e){Object(tt.a)(a,e);var t=Object(at.a)(a);function a(e){var n;return Object(Ze.a)(this,a),(n=t.call(this,e)).onEditorStateChange=function(e){n.setState({editorState:e})},n.onTitleChange=function(e){n.setState({title:e.target.value})},n.handleClose=function(){n.resetForm(),n.props.setOpen(!1)},n.share=function(){var e={title:n.state.title,content:ut()(Object(ot.convertToRaw)(n.state.editorState.getCurrentContent())),parentName:n.props.subclub.name};bt(e).then((function(e){n.props.newPostEvent(),console.log("post created on dialog")})),n.handleClose()},n.resetForm=function(){n.setState({title:""}),n.setState({editorState:ot.EditorState.createEmpty()})},n.border_props={padding:1,borderColor:"grey.500"},n.state={editorState:ot.EditorState.createEmpty(),title:""},n}return Object(et.a)(a,[{key:"render",value:function(){var e=this.state.editorState;return Object(Q.jsx)("div",{children:Object(Q.jsxs)(ct.a,{open:this.props.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md",children:[Object(Q.jsx)(st.a,{id:"form-dialog-title",children:"Create Post"}),Object(Q.jsxs)(rt.a,{style:{height:"600px"},children:[Object(Q.jsx)(nt.a,{autoFocus:!0,margin:"dense",value:this.state.title,label:"Title",variant:"outlined",type:"input",onChange:this.onTitleChange,fullWidth:!0}),Object(Q.jsx)(K.a,Object(Xe.a)(Object(Xe.a)({border:1},this.border_props),{},{children:Object(Q.jsx)(lt.Editor,{style:{height:"auto"},editorState:e,placeholder:"Content",editorStyle:{height:"400px"},onEditorStateChange:this.onEditorStateChange})}))]}),Object(Q.jsxs)(it.a,{children:[Object(Q.jsx)(He.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(Q.jsx)(He.a,{onClick:this.share,color:"primary",children:"Share"})]})]})})}}]),a}(n.Component),ft=a(291),vt=a(520),Ct=a(460),yt=a(569),wt=a(521),Nt=a(522),St=a(523),kt=a(524),Tt=a(568),It=Object(m.a)((function(e){return{root:{margin:e.spacing(0),padding:e.spacing(0)},listItem:{alignItems:"flex-start",margin:e.spacing(0),padding:e.spacing(0)},listItemText:{margin:e.spacing(0),padding:e.spacing(0)},iconAttended:{color:e.palette.primary.main},iconUnattended:{color:e.palette.text},iconButton:{margin:e.spacing(0)},chips:{marginTop:e.spacing(1),display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}}}));function Et(e){var t=e.event,a=e.attendCallback,n=It();return Object(Q.jsx)(K.a,{className:n.root,children:Object(Q.jsxs)(ft.a,{className:n.listItem,children:[Object(Q.jsx)(vt.a,{children:Object(Q.jsx)(x.a,{variant:"outlined",className:n.iconButton,onClick:function(){return a(t.id)},children:t.hasAttended?Object(Q.jsx)(wt.a,{className:n.iconAttended}):Object(Q.jsx)(Nt.a,{className:n.iconUnattended})})}),Object(Q.jsx)(Ct.a,{className:n.listItemText,primary:t.title,secondary:Object(Q.jsx)(c.a.Fragment,{c:!0,children:Object(Q.jsxs)(ne.a,{children:[Object(Q.jsx)(p.a,{component:"span",variant:"body2",color:"textPrimary",children:"".concat(Object(Tt.a)(new Date(t.date),new Date).toString())},0),Object(Q.jsx)(K.a,{children:t.details},1),Object(Q.jsxs)(K.a,{className:n.chips,children:[t.isOnline&&Object(Q.jsx)(yt.a,{variant:"outlined",size:"small",color:"primary",label:"Online",icon:Object(Q.jsx)(St.a,{})}),Object(Q.jsx)(yt.a,{variant:"outlined",size:"small",color:"primary",label:t.location,onClick:t.location.includes("http")?function(){return function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}(t.location)}:null,icon:Object(Q.jsx)(kt.a,{})})]},2)]})})})]},t.id)})}var Rt=Object(m.a)((function(e){return{paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},question:{marginBottom:e.spacing(1)}}}));function Bt(e){var t=e.children;return Object(Q.jsx)(te.a,{item:!0,xs:12,sm:6,md:6,children:t})}function Lt(e){var t=Rt();return Object(Q.jsx)("div",{children:Object(Q.jsxs)(te.a,{container:!0,spacing:1,children:[Object(Q.jsx)(te.a,{item:!0,sm:12,className:t.question,children:e.question}),Object(Q.jsx)(Bt,{children:e.answer1}),Object(Q.jsx)(Bt,{children:e.answer2}),Object(Q.jsx)(Bt,{children:e.answer3}),Object(Q.jsx)(Bt,{children:e.answer4})]})})}var Wt=Object(m.a)((function(e){return{paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.primary},question:{marginBottom:e.spacing(1)}}}));function Dt(e){var t=e.id,a=e.answerText,n=e.locked,c=e.callBack;return Object(Q.jsx)(He.a,{size:"medium",variant:n?"contained":"outlined",color:"primary",fullWidth:!0,onClick:function(){c(t)},disableElevation:!0,children:a})}function qt(e){var t=e.question,a=e.callBackOnChange,i=Wt(),r=c.a.useState([!1,!1,!1,!1]),s=Object(j.a)(r,2),o=s[0],l=s[1],d=c.a.useState(),u=Object(j.a)(d,2),b=u[0],m=u[1];function h(e){var t=Object(ee.a)(o);t[e]=!0,b!==e&&(t[b]=!1),l(t),m(e)}return Object(n.useEffect)((function(){void 0!==b&&a(t.id,t["answer"+(b+1).toString()])}),[b]),Object(Q.jsx)(Lt,{question:Object(Q.jsxs)(ve.a,{elevation:3,variant:"outlined",className:i.paper,children:[" ",t.content," "]}),answer1:Object(Q.jsx)(Dt,{id:0,answerText:t.answer1,callBack:h,locked:o[0]}),answer2:Object(Q.jsx)(Dt,{id:1,answerText:t.answer2,callBack:h,locked:o[1]}),answer3:Object(Q.jsx)(Dt,{id:2,answerText:t.answer3,callBack:h,locked:o[2]}),answer4:Object(Q.jsx)(Dt,{id:3,answerText:t.answer4,callBack:h,locked:o[3]})})}var At=Object(m.a)((function(e){return{questionBox:{margin:e.spacing(5),marginTop:e.spacing(0)},divider:{marginTop:e.spacing(5)}}}));function Pt(e){var t=e.questions,a=e.callBackOnAnswer,c=At(),i=Object(n.useState)(t.map((function(e){return{id:e.id,groundTruth:"",parentName:e.parentName}}))),r=Object(j.a)(i,2),s=r[0],o=r[1];Object(n.useEffect)((function(){a(s)}),[]);var l=function(e,t){console.log(s);var n=s.findIndex((function(t){return t.id===e})),c=s[n];c.groundTruth=t;var i=Object(ee.a)(s);i[n]=c,o(i),a(s)};return Object(Q.jsx)(te.a,{style:{},children:t.map((function(e,a){return Object(Q.jsxs)(K.a,{className:c.questionBox,children:[Object(Q.jsxs)("h2",{style:{padding:"10px"},children:["Question ",a+1]}),Object(Q.jsx)(qt,{question:e,callBackOnChange:l}),a+1!==t.length&&Object(Q.jsx)(ae.a,{className:c.divider})]},"q"+a.toString())}))})}function Ut(){return Object(Q.jsxs)(K.a,{padding:"50px",children:[Object(Q.jsx)("p",{children:"For enrolling a subclub, you have to take the subclub questionnaire."}),Object(Q.jsx)("p",{children:"If your score is higher than %50, then you can enroll."}),Object(Q.jsx)("p",{children:"After reading the following rules, click to the next button for taking the questionnaire"}),Object(Q.jsx)("h3",{style:{paddingTop:"50px",paddingBottom:"20px"},children:"Enterence Rules"}),Object(Q.jsxs)("ul",{children:[Object(Q.jsx)("li",{children:"Do not use internet or any other resources."}),Object(Q.jsx)("li",{children:"Give answer for all the questions, empty answers will be considered as wrong."}),Object(Q.jsx)("li",{children:"After submittion there will be not editing for answers."})]})]})}function Mt(e){var t,a,n=e.response;e.setEnrolled;if(void 0===(n=n[0])["Interest Rate"])t="#ff8a93",a="Sorry, you failed before so you cannot enroll again!";else{var c=n["Interest Rate"];c>=50?(t="#00e3aa",a="Congrats! You are successfully enrolled with score: "+c):(t="#ff8a93",a="Sorry, you failed with score: "+c)}return Object(Q.jsx)(te.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{height:"50vh"},children:Object(Q.jsx)(ve.a,{elevation:3,variant:"outlined",style:{width:"75%",textAlign:"center",padding:"50px",backgroundColor:t},children:a})})}function Ft(e){var t=e.clickedSubClub,a=e.open,c=e.setOpenDialog,i=e.setEnrolled,r=Object(n.useState)(!1),s=Object(j.a)(r,2),o=s[0],l=s[1],d=Object(n.useState)([]),u=Object(j.a)(d,2),b=u[0],m=u[1],h=Object(n.useState)([]),g=Object(j.a)(h,2),O=g[0],p=g[1],x=Object(n.useState)(!1),f=Object(j.a)(x,2),v=f[0],C=f[1],y=Object(n.useState)(),w=Object(j.a)(y,2),N=w[0],S=w[1];Object(n.useEffect)((function(){de.getSubClubQuestions(t.name).then((function(e){m(e.data)}))}),[]);var k=function(e){l(!1),c(!1)};return Object(Q.jsxs)(ct.a,{open:a,onClose:k,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md",children:[Object(Q.jsxs)(st.a,{id:"form-dialog-title",children:["Enrolling to ",t.name]}),Object(Q.jsxs)(rt.a,{style:{height:"600px"},children:[!o&&Object(Q.jsx)(Ut,{}),o&&Object(Q.jsxs)(K.a,{margin:"10px",children:[!v&&Object(Q.jsx)(Pt,{questions:b,callBackOnAnswer:p}),v&&Object(Q.jsx)(Mt,{response:N,setEnrolled:i})]})]}),Object(Q.jsxs)(it.a,{children:[Object(Q.jsx)(He.a,{onClick:k,color:"primary",children:"Exit"}),!v&&Object(Q.jsx)(He.a,{onClick:function(e){o?(console.log("given answers on submit",O),je(O).then((function(e){console.log("Response: "+e.data),"Success"===e.data[0].Message?i(!0):i(!1),S(e.data)})).finally((function(){C(!0)}))):l(!0)},color:"primary",children:"Next"})]})]})}var Ht=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function Gt(e){var t=e.open,a=e.setOpenDialog,c=e.club,i=Object(n.useState)(""),r=Object(j.a)(i,2),s=r[0],o=r[1],l=Object(n.useState)(""),d=Object(j.a)(l,2),u=d[0],b=d[1],m=Object(n.useState)(!1),h=Object(j.a)(m,2),g=h[0],O=h[1],p=Object(n.useState)(!1),x=Object(j.a)(p,2),f=x[0],v=x[1],C=function(e){a(!1)};return Object(Q.jsxs)(ct.a,{open:t,onClose:C,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md",children:[Object(Q.jsxs)(st.a,{id:"form-dialog-title",children:["Request SubClub for ",c.name]}),Object(Q.jsxs)(rt.a,{children:[Object(Q.jsx)(nt.a,{autoFocus:!0,required:!0,error:g,label:"Sub-club name",variant:"outlined",type:"input",onChange:function(e){o(e.target.value),O(!1)},fullWidth:!0}),Object(Q.jsx)(nt.a,{style:{marginTop:"5vh"},id:"outlined-multiline",label:"Details",multiline:!0,rowsMax:4,onChange:function(e){b(e.target.value)},variant:"outlined",fullWidth:!0})]}),Object(Q.jsxs)(it.a,{children:[Object(Q.jsx)(He.a,{onClick:C,color:"primary",children:"Exit"}),Object(Q.jsx)(He.a,{onClick:function(e){""!==s&&void 0!==s?Oe(c.name,s,u).then((function(e){console.log(e.data),v(!0),Ht(1e3).then((function(){a(!1)}))})).catch((function(e){console.log(e)})):O(!0)},disabled:f,color:"primary",children:"Request"})]})]})}var Jt=a(165),_t=a.n(Jt),zt=Object(m.a)((function(e){return{gridContainer:{},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},feedItem:{marginBottom:e.spacing(2)},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},feedTitle:{flexGrow:1},gridItem:{maxHeight:"100vh",overflow:"auto"},gridLeftColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(2.5),marginRight:e.spacing(0)},gridMiddleColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1)},gridRightColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(0),marginRight:e.spacing(2.5)},sectionBox:{marginBottom:e.spacing(2)},sortingFeedToggleGroup:{flexGrow:1,marginRight:e.spacing(2)},list:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},button:{marginTop:e.spacing(2)}}})),Vt=[{isCustom:!0,name:"Popular",details:"Popular posts in all clubs and sub-clubs right now.",children:[]}];var Qt=function(e){var t=e.children,a=zt(),i=Object(u.f)(),r=Object(n.useState)("today"),s=Object(j.a)(r,2),o=s[0],l=s[1];Object(n.useEffect)((function(){}),[o]);var d=Object(n.useState)(Vt),b=Object(j.a)(d,2),m=b[0],h=b[1],g=Object(n.useState)([]),O=Object(j.a)(g,2),p=O[0],x=O[1],f=Object(n.useState)(Vt[0]),v=Object(j.a)(f,2),C=v[0],y=v[1],w=Object(n.useState)([]),N=Object(j.a)(w,2),S=N[0],k=N[1],T=Object(n.useState)(0),I=Object(j.a)(T,2),E=I[0],R=I[1],B=c.a.useState(!1),L=Object(j.a)(B,2),W=L[0],D=L[1],q=c.a.useState(!1),A=Object(j.a)(q,2),P=A[0],U=A[1],M=c.a.useState(!1),F=Object(j.a)(M,2),H=F[0],G=F[1];Object(n.useEffect)((function(){C.isCustom&&!C.parentName||de.getSubClubStatistics(C.name,Object(se.a)(new Date,7),new Date).then((function(e){console.log("Fetched stats of ".concat(C.name),e.data),console.log(e.data),C.numberOfMembers=e.data.numberOfMembers,C.numberOfPostsInLastWeek=e.data.numberOfPostsInTimeFrame,y(C)})).catch((function(e){console.error("Error while fetching sub-club statistics:",e)}))}),[E]),Object(n.useEffect)((function(){de.getSubClubs().then((function(e){console.log("Parsing sub-clubs"),console.log(e.data),de.parseSubClubs(e.data).then((function(e){console.log("Parsed club tree:",e),Vt.slice().reverse().forEach((function(t){e.splice(0,0,t)})),h(e)}))}))}),[E]),Object(n.useEffect)((function(){V.hasJwtToken()&&ue().then((function(e){console.log("Enrolled sub-clubs:",e.data),x(e.data)}))}),[E]),Object(n.useEffect)((function(){C.isCustom&&!C.parentName||de.getEvents(C.name).then((function(e){console.log("Events of ".concat(C.name),e.data),V.hasJwtToken()?he().then((function(t){console.log("Attended events:",e.data);var a=e.data.map((function(e){return e.hasAttended=0!==t.data.filter((function(t){return t.id===e.id})).length,e}));k(a)})).catch((function(e){console.log("Error while fetching attended events:",e)})):k(e.data)})).catch((function(e){console.error(e)}))}),[C]),Object(n.useEffect)((function(){console.log("Sorting changed:",o),i.replace("/feed/".concat(C.name,"/").concat(o))}),[C.name,i,o]);var J=c.a.useState(!1),_=Object(j.a)(J,2),z=_[0],Y=_[1],$=c.a.useState(""),X=Object(j.a)($,2),Z=X[0],ce=X[1],ie=function(e){return 0!==p.filter((function(t){return t.name===e.name})).length};return Object(Q.jsxs)("div",{children:[Object(Q.jsxs)(te.a,{container:!0,spacing:1,className:a.gridContainer,children:[Object(Q.jsx)(te.a,{item:!0,xs:3,className:a.gridItem,children:Object(Q.jsx)(K.a,{className:a.gridLeftColumnBox,children:Object(Q.jsx)(K.a,{className:a.sectionBox,children:Object(Q.jsx)(We,{title:"Browse",selected:C.name,callbackOnTreeItemClick:function(e){y(e),R(!E),i.push("/feed/".concat(e.name))},clubs:m})})})}),Object(Q.jsx)(te.a,{item:!0,xs:6,className:a.gridItem,children:Object(Q.jsxs)(K.a,{className:a.gridMiddleColumnBox,children:[Object(Q.jsxs)(K.a,{display:"flex",children:[Object(Q.jsxs)(De.a,{className:a.sortingFeedToggleGroup,value:o,exclusive:!0,onChange:function(e,t){console.log("Sorting order: "+t),l(t)},"aria-label":"text alignment",children:[Object(Q.jsx)(qe.a,{value:"today","aria-label":"left aligned",children:Object(Q.jsx)(Ae.a,{})}),Object(Q.jsx)(qe.a,{value:"new","aria-label":"centered",children:Object(Q.jsx)(Pe.a,{})}),Object(Q.jsx)(qe.a,{value:"top","aria-label":"right aligned",children:Object(Q.jsx)(Ue.a,{})})]}),!(C.isCustom||!C.parentName)&&Object(Q.jsx)(He.a,{size:"medium",variant:"contained",color:"primary",disabled:0===p.filter((function(e){return e.name===C.name})).length,startIcon:Object(Q.jsx)(Me.a,{}),onClick:function(){D(!0)},disableElevation:!0,children:"CREATE POST"})]}),Object(Q.jsx)(ae.a,{className:a.divider}),t]})}),Object(Q.jsx)(te.a,{item:!0,xs:3,className:a.gridItem,children:Object(Q.jsxs)(K.a,{className:a.gridRightColumnBox,children:[Object(Q.jsx)(K.a,{className:a.sectionBox,children:Object(Q.jsx)(Ye,{feedInfo:C})}),C.parentName&&Object(Q.jsx)(K.a,{className:a.sectionBox,children:Object(Q.jsx)(Ke,{events:Object(Q.jsx)(ne.a,{children:S&&0!==S.length?S.map((function(e){return Object(Q.jsx)(Et,{event:e,attendCallback:function(e){ge(e).then((function(e){console.log("Successfully attended event:",e.data);var t=S.slice();t.filter((function(t){return t.id===e.data.id})).forEach((function(e){e.hasAttended=!0})),k(t)})).catch((function(e){console.error("Error while attending event:",e)}))}},e.id)})):"There are no events announced as of now."})})}),!ie(C)&&!(C.isCustom||!C.parentName)&&Object(Q.jsx)(K.a,{children:Object(Q.jsx)(He.a,{size:"medium",variant:"contained",color:"primary",startIcon:Object(Q.jsx)(Fe.a,{}),onClick:function(){U(!0)},fullWidth:!0,disableElevation:!0,children:"ENROLL"})}),ie(C)&&Object(Q.jsx)(K.a,{className:a.button,children:Object(Q.jsxs)(He.a,{size:"medium",variant:"outlined",color:"primary",startIcon:Object(Q.jsx)(_t.a,{}),onClick:function(){i.push("/meta/".concat(C.name))},fullWidth:!0,disableElevation:!0,children:[C.name," META"]})}),!C.isCustom&&!C.parentName&&Object(Q.jsx)(K.a,{className:a.button,children:Object(Q.jsx)(He.a,{size:"medium",variant:"contained",color:"primary",startIcon:Object(Q.jsx)(Fe.a,{}),onClick:function(){G(!0)},fullWidth:!0,disableElevation:!0,children:"REQUEST NEW SUB-CLUB"})}),ie(C)&&!(C.isCustom||!C.parentName)&&C.moderatorUsername!==V.getUsername()&&Object(Q.jsx)(K.a,{className:a.button,children:Object(Q.jsx)(He.a,{size:"medium",variant:"contained",color:"primary",startIcon:Object(Q.jsx)(Fe.a,{}),onClick:function(){pe(C.name).then((function(e){Y(!0),console.log(e.data),ce(e.data)})).catch((function(e){401===e.response.status&&(console.log(e.response.data),ce(e.response.data),Y(!0))}))},fullWidth:!0,disableElevation:!0,children:"REQUEST TO BE A MODERATOR"})})]})})]}),Object(Q.jsx)(xt,{open:W,setOpen:D,newPostEvent:function(e){R(!E)},subclub:C}),P&&Object(Q.jsx)(Ft,{open:P,setOpenDialog:U,setEnrolled:function(e){e&&x([].concat(Object(ee.a)(p),[C]))},clickedSubClub:C}),H&&Object(Q.jsx)(Gt,{open:H,setOpenDialog:G,club:C}),Object(Q.jsxs)(ct.a,{open:z,onClose:function(){Y(!1)},"aria-labelledby":"form-dialog-title",children:[Object(Q.jsx)(st.a,{id:"form-dialog-title",children:"Moderator Request"}),Object(Q.jsx)(rt.a,{children:Object(Q.jsx)("p",{children:Z})}),Object(Q.jsx)(it.a,{children:Object(Q.jsx)(He.a,{onClick:function(){Y(!1)},color:"primary",children:"OK"})})]})]})},Yt=a(531),$t=a(532),Kt=a(536),Xt=a(533),Zt=a(275),ea=a.n(Zt),ta=a(276),aa=a.n(ta),na=a(278),ca=a.n(na),ia=a(277),ra=a.n(ia),sa=a(274),oa=a(288),la=a(534),da=a(537),ua=a(564),ja=a(559),ba=a(558),ma=a(535),ha=Object(m.a)((function(e){return{root:{},media:{},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:e.palette.secondary.main,cursor:"pointer"},voteLabel:{flexGrow:1},postCardContent:{margin:0,padding:0},contentBox:{marginRight:e.spacing(2)},contentTypography:{maxWidth:e.spacing(30)}}}));function ga(e){var t=e.props,a=ha(),i=Object(u.f)(),r=Object(n.useState)(t.voting),s=Object(j.a)(r,2),o=s[0],l=s[1],d=c.a.useState(!1),b=Object(j.a)(d,2),m=b[0],h=b[1],g=c.a.useState("success"),O=Object(j.a)(g,2),f=O[0],v=O[1],C=c.a.useState("Welcome back!"),y=Object(j.a)(C,2),w=y[0],N=y[1],S=function(e,t){"clickaway"!==t&&h(!1)},k=c.a.useState(null),T=Object(j.a)(k,2),I=T[0],E=T[1],R=Boolean(I),B=Object(n.useState)(!1),L=Object(j.a)(B,2),W=L[0],D=L[1],q=Object(n.useState)(""),A=Object(j.a)(q,2),P=A[0],U=A[1],M=function(){D(!1),E(null)},F=function(){return i.push("/profile/".concat(t.author))};return Object(Q.jsxs)(K.a,{children:[Object(Q.jsxs)(Yt.a,{variant:"outlined",className:a.root,children:[Object(Q.jsx)($t.a,{avatar:Object(Q.jsx)(Je.a,{onClick:F,"aria-label":"recipe",className:a.avatar,children:t.author.charAt(0).toUpperCase()}),action:Object(Q.jsxs)(Xt.a,{children:[Object(Q.jsx)(x.a,{"aria-label":"share",children:Object(Q.jsx)(ea.a,{})}),Object(Q.jsx)(x.a,{"aria-label":"settings",onClick:function(e){E(e.currentTarget)},children:Object(Q.jsx)(aa.a,{})}),Object(Q.jsxs)(oa.a,{id:"post-menu",anchorEl:I,keepMounted:!0,open:R,onClose:function(){E(null)},children:[Object(Q.jsx)(la.a,{onClick:function(){D(!0)},children:"Report"},"report"),V.getUsername()===t.author?Object(Q.jsx)(la.a,{onClick:function(){pt(t.id).then((function(e){console.log(e.data)}))},children:"Delete"},"delete"):null]})]}),title:Object(Q.jsx)(K.a,{style:{cursor:"pointer"},onClick:F,children:t.author}),subheader:"".concat(Object(ba.a)(Object(ma.a)(t.created),new Date,{addSuffix:!0})," on ").concat(t.parentName)}),Object(Q.jsx)(Kt.a,{className:a.postCardContent,children:Object(Q.jsxs)(te.a,{container:!0,spacing:1,children:[Object(Q.jsxs)(te.a,{item:!0,xs:1,style:{textAlign:"center"},children:[Object(Q.jsx)(x.a,{"aria-label":"up-vote",onClick:function(){ht(t.id).then((function(e){console.log(e),""===e.data?(v("error"),N("You are not authorized to vote on this post!"),h(!0)):l(e.data.voting)})).catch((function(e){console.error(e),v("error"),403===e.response.status?N("You are not authorized to vote on this post!"):N("Something went wrong!"),h(!0)}))},children:Object(Q.jsx)(ra.a,{})}),Object(Q.jsx)(K.a,{display:"flex",flexDirection:"center",children:Object(Q.jsx)(p.a,{className:a.voteLabel,variant:"body1",color:"textSecondary",children:o})}),Object(Q.jsx)(x.a,{"aria-label":"down-vote",onClick:function(){gt(t.id).then((function(e){""===e.data?(v("error"),N("You are not authorized to vote on this post!"),h(!0)):l(e.data.voting)})).catch((function(e){console.error(e),v("error"),403===e.response.status?N("You are not authorized to vote on this post!"):N("Something went wrong!"),h(!0)}))},children:Object(Q.jsx)(ca.a,{})})]}),Object(Q.jsx)(te.a,{item:!0,xs:11,children:Object(Q.jsxs)(K.a,{className:a.contentBox,children:[Object(Q.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(Q.jsx)(p.a,{variant:"body2",color:"textSecondary",children:Object(Q.jsx)(K.a,{className:a.media,children:Object(sa.a)(t.content)})})]})})]})})]}),Object(Q.jsxs)(ct.a,{open:W,onClose:M,"aria-labelledby":"report-dialog-title",children:[Object(Q.jsx)(st.a,{id:"report-dialog-title",children:"Report"}),Object(Q.jsxs)(rt.a,{children:[Object(Q.jsx)(da.a,{children:"Why should we remove it? Please write down your rationale."}),Object(Q.jsx)(nt.a,{autoFocus:!0,margin:"dense",id:"name",label:"Rationale",type:"multiline",fullWidth:!0,onChange:function(e){U(e.target.value)}})]}),Object(Q.jsxs)(it.a,{children:[Object(Q.jsx)(He.a,{onClick:M,color:"primary",children:"Cancel"}),Object(Q.jsx)(He.a,{onClick:function(){mt(V.getUsername(),P,t.id).then((function(e){console.log(e),M(),v("success"),N("Thanks for trying to make CoSpace a better place!"),h(!0)})).catch((function(e){console.error(e),v("error"),N("Something went wrong while reporting the post! Try again later."),h(!0)}))},color:"primary",children:"Report"})]})]}),Object(Q.jsx)(ua.a,{open:m,autoHideDuration:5e3,onClose:S,children:Object(Q.jsx)(ja.a,{onClose:S,severity:f,children:w})})]})}var Oa=Object(m.a)((function(e){return{root:{margin:e.spacing(0)},feedItem:{marginBottom:e.spacing(2)}}}));function pa(e){var t=e.preloadedPosts,a=Object(u.g)(),c=a.feedName,i=a.sort,r=void 0===i?"today":i,s=a.page,o=void 0===s?0:s;console.log("Feed: ",c,r,o);var l=Oa(),d=Object(u.f)(),b=Object(n.useState)(null!==t&&void 0!==t?t:[]),m=Object(j.a)(b,2),h=m[0],g=m[1];return Object(n.useEffect)((function(){void 0===t?jt(c,o,10,r).then((function(e){console.log("Fetched posts of ".concat(c)),console.log(e.data),g(e.data)})).catch((function(e){console.error(e),console.log("No posts in ".concat(c)),g([])})):g(t)}),[c,o,t]),Object(Q.jsx)("div",{children:Object(Q.jsx)(ne.a,{className:l.root,children:h?h.map((function(e,t){return Object(Q.jsx)(K.a,{className:l.feedItem,children:Object(Q.jsx)(ga,{props:e})},e.id)})):d.push("/notfound")})})}function xa(){return Object(Q.jsx)(u.c,{children:Object(Q.jsx)(u.a,{path:"/feed/:feedName/:sort?/:page?",children:Object(Q.jsx)(pa,{})})})}function fa(){return Object(Q.jsx)(Qt,{children:Object(Q.jsx)(xa,{})})}var va=function(e,t,a){return T.a.get(I+"/admin/search-member",J({query:e,page:t,size:a}))},Ca=function(e){return T.a.get(I+P+F,J({username:e}))},ya=function(){return T.a.get(I+P+U,J())},wa=function(){return T.a.get(I+"/admin/subclub-requests",J())},Na=function(e){return T.a.put(I+P+R,e,J())},Sa=function(e,t){var a={name:e,details:t};return T.a.post(I+"/admin/create-club",a,J())},ka=function(e){return T.a.post(I+P+"/delete-sub-club",null,J({id:e}))},Ta=function(e){return T.a.post(I+"/admin/create-sub-club",e,J())},Ia=function(e){return T.a.post(I+P+M,null,J({reportId:e}))},Ea=a(540),Ra=a(169),Ba=a.n(Ra),La=a(538),Wa=Object(m.a)((function(e){return{divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionBody:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionRoot:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},titleContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},titleIconContainer:{marginTop:e.spacing(.5),marginBottom:e.spacing(0),marginLeft:e.spacing(2),marginRight:e.spacing(0)}}}));function Da(e){var t=e.titleIcon,a=e.title,n=e.children,c=Wa();return Object(Q.jsx)(ve.a,{variant:"outlined",children:Object(Q.jsxs)(K.a,{className:c.sectionRoot,children:[Object(Q.jsxs)(te.a,{container:!0,children:[Object(Q.jsx)(K.a,{item:!0,className:c.titleIconContainer,children:t},1),Object(Q.jsx)(te.a,{item:!0,className:c.titleContainer,children:Object(Q.jsx)(p.a,{variant:"h6",className:c.sectionTitle,children:a})},2)]}),Object(Q.jsx)(ae.a,{className:c.divider}),n]})})}var qa=a(279),Aa=a.n(qa);function Pa(e){var t=e.info,a=Aa()(t);return Object(Q.jsx)(Da,{title:t.username,titleIcon:Object(Q.jsx)(La.a,{}),children:Object(Q.jsx)(ne.a,{children:Object.keys(a).map((function(e){return"username"!==e?Object(Q.jsx)(ft.a,{children:Object(Q.jsx)(Ct.a,{children:"".concat(e,": ").concat(a[e])})},e):null}))})})}var Ua=a(539),Ma=Object(m.a)((function(e){return{avatarContainer:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2)},avatar:{color:e.palette.getContrastText("#00e3aa"),backgroundColor:"#00e3aa"}}}));function Fa(){var e=Ma();return Object(Q.jsxs)(ft.a,{children:[Object(Q.jsx)(vt.a,{className:e.avatarContainer,children:Object(Q.jsx)(Je.a,{className:e.avatar,children:Object(Q.jsx)(Ua.a,{})})}),Object(Q.jsx)(Ct.a,{primary:"No results found"})]},"no-result")}var Ha=Object(m.a)((function(e){return{root:{width:"100%"},inline:{display:"inline"},paper:{paddingTop:0,paddingBottom:0},button:{marginRight:e.spacing(2)},title:{marginBottom:e.spacing(1),marginTop:e.spacing(2)},gridReportInfoContainer:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},gridHorizontalSection:{paddingRight:e.spacing(2)}}}));var Ga=function(){var e=Ha(),t=Object(n.useState)(null),a=Object(j.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(null),o=Object(j.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)(null),b=Object(j.a)(u,2),m=b[0],h=b[1],g=Object(n.useState)({}),O=Object(j.a)(g,2),x=O[0],f=O[1];return Object(n.useEffect)((function(){ya().then((function(e){r(e.data)}))}),[m]),Object(Q.jsxs)(te.a,{container:!0,children:[Object(Q.jsxs)(te.a,{item:!0,xs:4,children:[Object(Q.jsx)(p.a,{variant:"h6",className:e.title,children:"List of Reports"}),Object(Q.jsx)(ve.a,{variant:"outlined",className:e.paper,children:Object(Q.jsx)(ne.a,{className:e.root,children:null===i||0===i.length?Object(Q.jsx)(Fa,{}):i.map((function(t){return Object(Q.jsxs)("div",{children:[Object(Q.jsxs)(ft.a,{button:!0,selected:l&&t.postId===l.id,alignItems:"flex-start",onClick:function(e){return function(e,t){h(t),Ot(t.postId).then((function(e){d(e.data),va(e.data.author,0,1).then((function(e){f(e.data[0])}))}))}(0,t)},children:[Object(Q.jsx)(Ea.a,{children:Object(Q.jsx)(Ba.a,{})}),Object(Q.jsx)(Ct.a,{primary:"Reported by: ".concat(t.author),secondary:Object(Q.jsxs)(c.a.Fragment,{children:[Object(Q.jsx)(p.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary",children:"Reason: "}),t.content]})})]},t.postId),Object(Q.jsx)(ae.a,{variant:"inset",component:"li"})]})}))})})]},1),Object(Q.jsx)(te.a,{className:e.gridReportInfoContainer,container:!0,xs:8,children:l?Object(Q.jsxs)(K.a,{children:[Object(Q.jsxs)(te.a,{item:!0,children:[Object(Q.jsx)(p.a,{variant:"h6",className:e.title,children:"Reported Post"}),Object(Q.jsx)(K.a,{className:e.postFeedItemWrapper,children:l?Object(Q.jsx)(ga,{props:l},l.postId):null})]}),Object(Q.jsxs)(te.a,{container:!0,children:[Object(Q.jsxs)(te.a,{item:!0,xs:6,className:e.gridHorizontalSection,children:[Object(Q.jsx)(p.a,{variant:"h6",className:e.title,children:"Author Information"}),x?Object(Q.jsx)(Pa,{info:x}):null]},1),Object(Q.jsxs)(te.a,{item:!0,xs:6,className:e.gridHorizontalSection,children:[Object(Q.jsx)(p.a,{variant:"h6",className:e.title,children:"Actions"}),Object(Q.jsxs)(te.a,{container:!0,children:[Object(Q.jsx)(te.a,{item:!0,className:e.button,children:Object(Q.jsx)(He.a,{variant:"outlined",onClick:function(){},children:"KICK MEMBER from COSPACE"})},1),Object(Q.jsx)(te.a,{item:!0,className:e.button,children:Object(Q.jsx)(He.a,{variant:"outlined",onClick:function(){Ia(m.id).then((function(e){console.log(e.data),h(null),d(null),f(null)}))},children:"REMOVE Report"})},2)]})]},2)]})]}):Object(Q.jsx)(p.a,{className:e.title,children:"Select a report to see the details."})},2)]})},Ja=a(455),_a=a(562),za=Object(m.a)((function(e){return{root:{width:"50%"},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},form:{display:"flex",marginTop:e.spacing(2),marginBottom:e.spacing(2)},memberInfo:{marginBottom:e.spacing(2)}}}));var Va=function(){var e=za(),t=Object(n.useState)([]),a=Object(j.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(null),s=Object(j.a)(r,2),o=s[0],l=s[1];return Object(n.useEffect)((function(){null!==o&&Ca(o.username).then((function(e){l(Object(Xe.a)(Object(Xe.a)({},o),{},{"sub-clubs":e.data.map((function(e){return e.name}))}))}))}),[]),Object(Q.jsxs)(K.a,{className:e.root,children:[Object(Q.jsx)(Ja.a,{className:e.form,variant:"filled",children:Object(Q.jsx)(_a.a,{id:"member-search-box",onInput:function(e){va(e.target.value,0,10).then((function(t){e.target.value.length>1?i(t.data):""===e.target.value&&i([])}))},onChange:function(e,t){console.log("On select member:",t),l(t)},options:c,getOptionLabel:function(e){return e.username},renderInput:function(e){return Object(Q.jsx)(nt.a,Object(Xe.a)(Object(Xe.a)({},e),{},{label:"Search member",variant:"filled"}))}})}),o&&Object(Q.jsx)(Pa,{className:e.memberInfo,info:o})]})},Qa=a(51),Ya=a(456),$a=a(457),Ka=a(541),Xa=a(542),Za=a(560),en=Object(m.a)((function(e){return{paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},question:{marginBottom:e.spacing(1)},radioGroup:{display:"flex",flexDirection:"row",flexGrow:"1"},radioButton:{marginLeft:e.spacing(3)}}}));function tn(e){var t=e.id,a=e.callBackOnChange,n=["Q","A","B","C","D"];return Object(Q.jsx)(K.a,{display:"flex",flexDirection:"row",margin:"4px",children:Object(Q.jsx)(nt.a,{autoFocus:!0,required:!0,variant:"outlined",margin:"dense",id:n[t],label:n[t],type:"email",onChange:function(e){a(n[t],e.target.value)},fullWidth:!0})})}function an(e){var t=e.callBackOnSave,a=e.qid,n=en(),i=c.a.useState({content:"",answer1:"",answer2:"",answer3:"",answer4:"",groundTruth:""}),r=Object(j.a)(i,2),s=r[0],o=r[1],l=new Map;l.set("A","answer1"),l.set("B","answer2"),l.set("C","answer3"),l.set("D","answer4"),l.set("Q","content");var d=c.a.useState(""),u=Object(j.a)(d,2),b=u[0],m=u[1];function h(e,t){var a=l.get(e),n=Object(Xe.a)({},s);n[a]=t,o(n)}return Object(Q.jsxs)(K.a,{children:[Object(Q.jsx)(Lt,{question:Object(Q.jsx)(tn,{id:0,callBackOnChange:h}),answer1:Object(Q.jsx)(tn,{id:1,callBackOnChange:h}),answer2:Object(Q.jsx)(tn,{id:2,callBackOnChange:h}),answer3:Object(Q.jsx)(tn,{id:3,callBackOnChange:h}),answer4:Object(Q.jsx)(tn,{id:4,callBackOnChange:h})}),Object(Q.jsxs)(K.a,{display:"flex",justifyContent:"space-between",marginTop:"10px",flexDirection:"row",children:[Object(Q.jsxs)(Ja.a,{component:"fieldset",children:[Object(Q.jsx)($a.a,{component:"legend",children:"Answer"}),Object(Q.jsxs)(Ka.a,{className:n.radioGroup,"aria-label":"realAnswer",name:"realAnswer",value:b,onChange:function(e){var t=l.get(e.target.value),a=s[t];o(Object(Xe.a)(Object(Xe.a)({},s),{},{groundTruth:a})),m(e.target.value)},children:[Object(Q.jsx)(Xa.a,{className:n.radioButton,value:"A",control:Object(Q.jsx)(Za.a,{}),label:"A"}),Object(Q.jsx)(Xa.a,{className:n.radioButton,value:"B",control:Object(Q.jsx)(Za.a,{}),label:"B"}),Object(Q.jsx)(Xa.a,{className:n.radioButton,value:"C",control:Object(Q.jsx)(Za.a,{}),label:"C"}),Object(Q.jsx)(Xa.a,{className:n.radioButton,value:"D",control:Object(Q.jsx)(Za.a,{}),label:"D"})]})]}),Object(Q.jsx)(He.a,{size:"medium",style:{margin:"10px"},variant:"outlined",color:"primary",onClick:function(){t(a,s)},disableElevation:!0,children:" Save"})]})]})}var nn=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"60vh"},questions:{},divider:{margin:e.spacing(3)}}}));function cn(e){var t=e.onSubmitTrigger,a=e.callBackQuestions,c=e.oldQuestions,i=nn(),r=Object(n.useState)(1),s=Object(j.a)(r,2),o=s[0],l=s[1],d=Object(n.useState)([]),u=Object(j.a)(d,2),b=u[0],m=u[1];function h(e,t){if(function(e){return""!==e.content&&""!==e.answer1&&""!==e.answer2&&""!==e.answer3&&""!==e.answer4&&""!==e.groundTruth}(t)){var a=Object(ee.a)(b);e===b.length?a.push(t):a[e]=t,m(a)}}return Object(n.useEffect)((function(){var e=b.concat(c);a(e)}),[t]),Object(Q.jsxs)(te.a,{className:i.root,children:[Object(Q.jsx)(K.a,{component:"div",overflow:"visible",flexGrow:1,display:"flex",flexDirection:"column",children:Object(Q.jsx)(n.Fragment,{children:Object(ee.a)(Array(o)).map((function(e,t){return Object(Q.jsxs)(K.a,{children:[Object(Q.jsxs)("h2",{children:["Question ",t+1]}),Object(Q.jsx)(an,{qid:t,callBackOnSave:h}),t+1!==o&&Object(Q.jsx)(ae.a,{className:i.divider})]},"q"+t.toString())}))})}),Object(Q.jsx)(He.a,{size:"medium",style:{marginTop:"20px"},variant:"contained",color:"primary",startIcon:Object(Q.jsx)(Fe.a,{}),onClick:function(e){l(o+1)},disableElevation:!0})]})}var rn=a(543),sn=a(463),on=a(459),ln=Object(m.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:300},selectEmpty:{marginTop:e.spacing(2)},root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)},tagText:{display:"flex",width:100,flexWrap:"wrap"}}}));var dn=function(){var e=ln(),t=c.a.useState(!1),a=Object(j.a)(t,2),i=a[0],r=a[1],s=Object(Qa.a)(),o=Object(rn.a)(s.breakpoints.down("sm")),l=c.a.useState(!1),d=Object(j.a)(l,2),u=d[0],b=d[1],m=function(){b(!1)},h=c.a.useState(!1),g=Object(j.a)(h,2),O=g[0],x=g[1],f=c.a.useState(!1),v=Object(j.a)(f,2),C=v[0],y=v[1],w=c.a.useState([]),N=Object(j.a)(w,2),S=N[0],k=N[1],T=function(){x(!1)},I=Object(n.useState)([]),E=Object(j.a)(I,2),R=E[0],B=E[1];Object(n.useEffect)((function(){de.getSubClubs().then((function(e){console.log("All subclasses",e.data),B(e.data)}))}),[]);var L=c.a.useState(""),W=Object(j.a)(L,2),D=W[0],q=W[1],A=c.a.useState({created:"2021-05-26T14:43:28.090+00:00",details:"",id:102,moderatorUsername:"",name:"",parentName:"",questions:[],rating:0}),P=Object(j.a)(A,2),U=P[0],M=P[1];return Object(Q.jsxs)(K.a,{children:[Object(Q.jsx)(Ge.a,{children:Object(Q.jsx)("div",{children:Object(Q.jsxs)(Ja.a,{className:e.formControl,children:[Object(Q.jsx)(Ya.a,{children:"Sub-club"}),Object(Q.jsxs)(sn.a,{value:D.name,onChange:function(e){q(e.target.value),M(R.filter((function(t){return t.name===e.target.value}))[0]),""===e.target.value?r(!1):r(!0)},inputProps:{name:""},children:[Object(Q.jsx)("option",{"aria-label":"None",value:""}),R.map((function(e){return Object(Q.jsx)("option",{value:e.name,children:e.name})}))]}),Object(Q.jsx)(on.a,{children:"Select a sub-club to edit"})]})})}),i?Object(Q.jsxs)(te.a,{container:!0,spacing:3,children:[Object(Q.jsx)(te.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"}}),Object(Q.jsx)(te.a,{item:!0,xs:5,style:{maxHeight:"100vh",overflow:"auto"}}),Object(Q.jsx)(te.a,{item:!0,xs:1,style:{maxHeight:"100vh",overflow:"auto"}}),Object(Q.jsx)(te.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Q.jsx)(Ge.a,{children:Object(Q.jsx)("div",{children:Object(Q.jsx)(nt.a,{required:!0,fullWidth:!0,id:"standard-full-width",label:"Sub-club name",style:{margin:8},placeholder:"Sub-club name",margin:"normal",InputLabelProps:{shrink:!0},value:U?U.name:"",onChange:function(e){var t=JSON.parse(JSON.stringify(U));t.name=e.target.value,M(t)}})})})}),Object(Q.jsx)(te.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Q.jsx)(Ge.a,{children:Object(Q.jsx)("div",{children:Object(Q.jsx)(nt.a,{required:!0,id:"standard-full-width",label:"Sub-club description",style:{margin:8},placeholder:"Sub-club description",helperText:"Description should include bla bla",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:U?U.details:"",onChange:function(e){var t=JSON.parse(JSON.stringify(U));t.details=e.target.value,M(t)}})})})}),Object(Q.jsx)(te.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Q.jsxs)(Ge.a,{children:[Object(Q.jsx)(He.a,{variant:"contained",color:"primary",className:e.submit,onClick:function(){x(!0)},children:"Create a new questionnaire"}),S.length<3&&Object(Q.jsxs)("p",{style:{marginTop:"5px"},children:["Please add ",Math.max(0,3-S.length)," or more Questions"]}),Object(Q.jsxs)(ct.a,{open:O,onClose:T,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md",children:[Object(Q.jsx)(st.a,{id:"form-dialog-title",children:"Create a new questionnaire"}),Object(Q.jsxs)(rt.a,{children:[Object(Q.jsx)(da.a,{children:"To edit this sub-club, please create a new questionnaire;"}),Object(Q.jsx)(cn,{onSubmitTrigger:C,oldQuestions:S,callBackQuestions:k})]}),Object(Q.jsxs)(it.a,{children:[Object(Q.jsx)(He.a,{onClick:T,color:"primary",children:"Cancel"}),Object(Q.jsx)(He.a,{onClick:function(){y(!C),x(!1),console.log("new questions:",S);var e=JSON.parse(JSON.stringify(U));e.questions=S,M(e)},color:"primary",children:"Add"})]})]})]})}),Object(Q.jsx)(te.a,{item:!0,xs:3,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Q.jsx)(Ge.a,{children:Object(Q.jsx)(He.a,{variant:"contained",color:"primary",className:e.submit,onClick:function(){b(!0)},children:"Apply"})})}),Object(Q.jsx)(te.a,{item:!0,xs:3,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Q.jsx)(Ge.a,{children:Object(Q.jsx)(He.a,{variant:"contained",color:"primary",className:e.submit,onClick:function(){ka(U.id).then((function(e){console.log(e.data)}))},children:"Delete this sub-club"})})}),Object(Q.jsx)(Ge.a,{children:Object(Q.jsxs)(ct.a,{fullScreen:o,open:u,onClose:m,"aria-labelledby":"responsive-dialog-title",children:[Object(Q.jsx)(st.a,{id:"responsive-dialog-title",children:"Create a club with the following information?"}),Object(Q.jsx)(rt.a,{children:Object(Q.jsxs)(da.a,{children:[Object(Q.jsxs)(p.a,{children:["Club name: ",U.name]}),Object(Q.jsxs)(p.a,{children:["Club description: ",U.details," "]})]})}),Object(Q.jsxs)(it.a,{children:[Object(Q.jsx)(He.a,{autoFocus:!0,onClick:m,color:"primary",children:"Cancel"}),Object(Q.jsx)(He.a,{onClick:function(){var e=JSON.parse(JSON.stringify(U));e.questions=S,M(e);var t={id:U.id,name:U.name,parentName:U.parentName,questions:S,details:U.details};Na(t).then((function(e){Ht(2e3).then((function(){return window.location.reload()}))})),b(!1)},color:"primary",autoFocus:!0,children:"Apply changes"})]})]})})]}):null]})},un=a(199),jn=a.n(un),bn=a(3),mn=a(544),hn=Object(m.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:300},selectEmpty:{marginTop:e.spacing(2)},root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)},tagText:{display:"flex",width:100,flexWrap:"wrap"},questionnaireDialog:{minHeight:"80vh",maxHeight:"80vh"},selectFromReqs:{marginLeft:"5vh"}}}));var gn=function(){var e=hn(),t=c.a.useState(!1),a=Object(j.a)(t,2),i=a[0],r=a[1],s=c.a.useState(!1),o=Object(j.a)(s,2),l=o[0],d=o[1],u=c.a.useState(""),b=Object(j.a)(u,2),m=b[0],h=b[1],g=c.a.useState(""),O=Object(j.a)(g,2),f=O[0],v=O[1],C=c.a.useState(!1),y=Object(j.a)(C,2),w=y[0],N=y[1],S=function(){v(""),h(""),d(!1)},k=c.a.useState(!1),T=Object(j.a)(k,2),I=T[0],E=T[1],R=c.a.useState(!1),B=Object(j.a)(R,2),L=B[0],W=B[1],D=c.a.useState([]),q=Object(j.a)(D,2),A=q[0],P=q[1],U=function(){E(!1)},M=c.a.useState([]),F=Object(j.a)(M,2),H=F[0],G=F[1];Object(n.useEffect)((function(){wa().then((function(e){G(e.data)}))}),[]);var J=c.a.useState({}),_=Object(j.a)(J,2),z=(_[0],_[1]),V=c.a.useState(""),Y=Object(j.a)(V,2),$=Y[0],X=Y[1],Z=c.a.useState([]),ee=Object(j.a)(Z,2),ae=ee[0],ne=ee[1],ce=c.a.useState(""),ie=Object(j.a)(ce,2),re=ie[0],se=ie[1];Object(n.useEffect)((function(){de.getClubs().then((function(e){ne(e.data.map((function(e){return e.name})))}))}),[w]);var oe=c.a.useState(""),le=Object(j.a)(oe,2),ue=le[0],je=le[1],be=c.a.useState([]),me=Object(j.a)(be,2),he=me[0],ge=me[1],Oe=c.a.useState(""),pe=Object(j.a)(Oe,2),xe=pe[0],fe=pe[1];return Object(n.useEffect)((function(){A.length>=3&&""!==$&&""!==re&&""!==ue?r(!0):r(!1)}),[A,$,re,ue]),Object(Q.jsxs)(K.a,{children:[Object(Q.jsxs)(ct.a,{open:l,onClose:S,"aria-labelledby":"form-dialog-title",children:[Object(Q.jsx)(st.a,{id:"form-dialog-title",children:"Add a new parent club"}),Object(Q.jsxs)(rt.a,{children:[Object(Q.jsx)(da.a,{children:"To add a new club to this website, please enter a club name and a club description."}),Object(Q.jsx)(nt.a,{autoFocus:!0,margin:"dense",id:"name",label:"Club name",onChange:function(e){h(e.target.value)},type:"email",fullWidth:!0}),Object(Q.jsx)(nt.a,{autoFocus:!0,margin:"dense",id:"name",label:"Club description",onChange:function(e){v(e.target.value)},type:"email",fullWidth:!0})]}),Object(Q.jsxs)(it.a,{children:[Object(Q.jsx)(He.a,{onClick:S,color:"primary",children:"Cancel"}),Object(Q.jsx)(He.a,{disabled:""===m||""===f,onClick:function(){Sa(m,f).then((function(e){N(!w)})),S()},color:"primary",children:"Add"})]})]}),Object(Q.jsxs)(te.a,{container:!0,spacing:3,children:[Object(Q.jsx)(te.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Q.jsx)(Ge.a,{children:Object(Q.jsx)("div",{children:Object(Q.jsxs)(Ja.a,{className:e.formControl,children:[Object(Q.jsx)(Ya.a,{children:"Sub-club requests"}),Object(Q.jsxs)(sn.a,{onChange:function(e){if(""===e.target.value||void 0===e.target.value)return se(""),void X("");var t=JSON.parse(e.target.value);z(t),X(t.subClubName),ae.includes(t.clubName)?se(t.clubName):se("")},children:[Object(Q.jsx)("option",{"aria-label":"None",value:""}),H.map((function(e,t){return Object(Q.jsxs)("option",{value:JSON.stringify(e),children:[e.clubName," / ",e.subClubName]},t)}))]}),Object(Q.jsx)(on.a,{children:"Select a sub-club request"})]})})})}),Object(Q.jsx)(te.a,{item:!0,xs:5,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Q.jsx)(Ge.a,{children:Object(Q.jsxs)(Ja.a,{className:e.formControl,children:[Object(Q.jsx)(Ya.a,{children:"A parent club"}),Object(Q.jsxs)(sn.a,{required:!0,onChange:function(e){se(e.target.value)},value:re,children:[Object(Q.jsx)("option",{"aria-label":"None",value:""}),ae.map((function(e,t){return Object(Q.jsx)("option",{value:e,children:e},t)}))]}),Object(Q.jsx)(on.a,{children:"Select a parent club or add a new one"})]})})}),Object(Q.jsx)(te.a,{item:!0,xs:1,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Q.jsx)(x.a,{"aria-label":"add",onClick:function(){d(!0)},children:Object(Q.jsx)(jn.a,{})})}),Object(Q.jsx)(te.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Q.jsx)(Ge.a,{children:Object(Q.jsx)("div",{children:Object(Q.jsx)(nt.a,{required:!0,fullWidth:!0,id:"standard-full-width",label:"Sub-club name",style:{margin:8},placeholder:"Sub-club name",margin:"normal",InputLabelProps:{shrink:!0},value:$,onChange:function(e){X(e.target.value),H.map((function(e){return e.subClubName})).includes(e.target.value)}})})})}),Object(Q.jsx)(te.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Q.jsx)(Ge.a,{children:Object(Q.jsx)("div",{children:Object(Q.jsx)(nt.a,{required:!0,id:"standard-full-width",label:"Sub-club description",style:{margin:8},placeholder:"Sub-club description",helperText:"Description should include bla bla",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:ue,onChange:function(e){je(e.target.value)}})})})}),Object(Q.jsxs)(te.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:[Object(Q.jsx)("div",{className:e.root,children:Object(Q.jsx)(p.a,{children:"Related keywords"})}),Object(Q.jsx)(Ge.a,{children:Object(Q.jsxs)("div",{className:e.root,children:[0===he.length&&Object(Q.jsx)(yt.a,{label:"Empty",className:e.chip}),he.map((function(t){return Object(Q.jsx)("li",{children:Object(Q.jsx)(yt.a,{label:t.label,onDelete:(a=t,function(){ge((function(e){return e.filter((function(e){return e.key!==a.key}))}))}),className:e.chip})},t.key);var a}))]})})]}),Object(Q.jsxs)(te.a,{item:!0,xs:5,style:{maxHeight:"100vh",overflow:"auto"},children:[Object(Q.jsx)(p.a,{className:e.root,children:"Add new keyword"}),Object(Q.jsx)(Ge.a,{children:Object(Q.jsx)("div",{children:Object(Q.jsx)(nt.a,{placeholder:"some-tag",className:Object(bn.a)(e.margin,e.textField),InputProps:{startAdornment:Object(Q.jsx)(mn.a,{position:"start",children:"#"})},value:xe,onChange:function(e){fe(e.target.value)}})})})]}),Object(Q.jsx)(te.a,{item:!0,xs:1,children:Object(Q.jsx)(Ge.a,{children:Object(Q.jsx)(x.a,{"aria-label":"add",onClick:function(){var e,t=[],a=!1;for(e=0;e<he.length;e++)he[e].label===xe&&(a=!0),he[e].key=e,t.push(he[e]);a||(t[e]={key:e,label:xe}),ge(t)},children:Object(Q.jsx)(jn.a,{})})})}),Object(Q.jsx)(te.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Q.jsxs)(Ge.a,{children:[Object(Q.jsx)(He.a,{variant:"contained",color:"primary",className:e.submit,onClick:function(){E(!0)},children:"Add a questionnaire"}),A.length<3&&Object(Q.jsxs)("p",{style:{marginTop:"5px"},children:["Please add ",Math.max(0,3-A.length)," or more Questions"]}),Object(Q.jsxs)(ct.a,{open:I,onClose:U,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md",children:[Object(Q.jsx)(st.a,{id:"form-dialog-title",children:"Create a questionnaire"}),Object(Q.jsxs)(rt.a,{children:[Object(Q.jsx)(da.a,{children:"To add a new sub-club to this website, please create a questionnaire;"}),Object(Q.jsx)(cn,{onSubmitTrigger:L,oldQuestions:A,callBackQuestions:P})]}),Object(Q.jsxs)(it.a,{children:[Object(Q.jsx)(He.a,{onClick:U,color:"primary",children:"Cancel"}),Object(Q.jsx)(He.a,{onClick:function(){W(!L),E(!1)},color:"primary",children:"Add"})]})]})]})}),Object(Q.jsx)(te.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Q.jsx)(Ge.a,{children:Object(Q.jsx)(He.a,{variant:"contained",color:"primary",className:e.submit,disabled:!i,onClick:function(e){var t={name:$,parentName:re,questions:A,details:ue};0!==he.length&&(t.details+=" Keywords: ",he.forEach((function(e){t.details+=" "+e.label}))),Ta(t).then((function(e){console.log(e.data)}))},children:"Create"})})})]})]})};function On(){return Object(Q.jsxs)(u.c,{children:[Object(Q.jsx)(u.a,{path:"/admin/create-club",children:Object(Q.jsx)(gn,{})}),Object(Q.jsx)(u.a,{path:"/admin/manage-club",children:Object(Q.jsx)(dn,{})}),Object(Q.jsx)(u.a,{path:"/admin/view-member-info",children:Object(Q.jsx)(Va,{})}),Object(Q.jsx)(u.a,{path:"/admin/reported-posts",children:Object(Q.jsx)(Ga,{})})]})}var pn=[{text:"Clubs & Sub-clubs",children:[{text:"Create club",path:"/admin/create-club"},{text:"Manage club",path:"/admin/manage-club"}]},{text:"Members",children:[{text:"View member information",path:"/admin/view-member-info"}]},{text:"Reports",children:[{text:"Reported posts",path:"/admin/reported-posts"}]}],xn=Object(m.a)((function(e){return{root:{},divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},gridLeftColumnBox:{paddingTop:e.spacing(3),paddingLeft:e.spacing(2.5),paddingRight:e.spacing(0)},gridRightColumnBox:{paddingTop:e.spacing(3),paddingLeft:e.spacing(2.5),paddingRight:e.spacing(2.5)}}}));var fn=function(e){var t=e.children,a=xn(),n=Object(u.f)();return Object(Q.jsxs)(te.a,{container:!0,className:a.root,children:[Object(Q.jsx)(te.a,{item:!0,xs:3,className:a.gridLeftColumnBox,children:Object(Q.jsx)(K.a,{children:Object(Q.jsx)(Re,{title:"Menu",titleIcon:Object(Q.jsx)(Ve.a,{}),menuItems:pn,defaultExpanded:pn.map((function(e){return e.text})),callbackOnTreeItemClick:function(e){console.log(e),console.log(e.path),n.push(e.path)}})})}),Object(Q.jsxs)(te.a,{item:!0,xs:9,className:a.gridRightColumnBox,children:[Object(Q.jsx)(p.a,{variant:"h4",children:"Administration Panel"}),Object(Q.jsx)(ae.a,{className:a.divider}),t]})]})};var vn=function(){return Object(Q.jsx)(fn,{children:Object(Q.jsx)(On,{})})},Cn=a(547),yn=a(545),wn=function(){return T.a.get(I+A+H,J())},Nn=function(e,t){return T.a.post(I+A+H,{receiverUsername:e,content:t},J())},Sn=a(281),kn=a.n(Sn),Tn=a(546),In=Object(m.a)((function(e){return{divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionBody:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionRoot:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},avatarContainer:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2)},usernameContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},avatar:{color:e.palette.getContrastText("#00e3aa"),backgroundColor:"#00e3aa"},buttonContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},button:{flexGrow:1,marginRight:e.spacing(1),marginLeft:e.spacing(1)},dateRegisteredContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"}}}));function En(e){var t=e.hasCommonSubClub,a=e.isSelf,n=e.username,c=e.timeRegistered,i=e.numberOfPostsInLastWeek;console.log("Populating AboutMember section: "+n);var r=Object(u.f)(),s=In();return Object(Q.jsx)(ve.a,{variant:"outlined",children:Object(Q.jsxs)(K.a,{className:s.sectionRoot,children:[Object(Q.jsxs)(te.a,{container:!0,className:s.usernameContainer,children:[Object(Q.jsx)(te.a,{item:!0,className:s.avatarContainer,children:Object(Q.jsxs)(Je.a,{className:s.avatar,children:[" ",n[0].toUpperCase()," "]})},1),Object(Q.jsx)(te.a,{item:!0,children:Object(Q.jsx)(p.a,{variant:"h5",children:n})},2)]}),void 0!==i&&Object(Q.jsxs)(K.a,{children:[Object(Q.jsx)(ae.a,{className:s.divider}),Object(Q.jsx)(te.a,{container:!0,className:s.divider,justify:"center",children:Object(Q.jsx)(te.a,{item:!0,children:Object(Q.jsxs)(Ge.a,{children:[Object(Q.jsx)(p.a,{variant:"h6",children:i}),Object(Q.jsx)(p.a,{variant:"body1",children:"posts last week"})]})},2)})]}),Object(Q.jsx)(ae.a,{className:s.divider}),Object(Q.jsxs)(te.a,{container:!0,className:s.dateRegisteredContainer,children:[Object(Q.jsx)(te.a,{item:!0,children:Object(Q.jsxs)(Ge.a,{children:[Object(Q.jsx)(ze.a,{})," "]})},1),Object(Q.jsx)(te.a,{item:!0,children:Object(Q.jsx)(p.a,{variant:"body1",children:"Registered on ".concat(new Date(c).toLocaleString(navigator.language,{year:"numeric",month:"long",day:"numeric"}))})},2)]}),Object(Q.jsx)(ae.a,{className:s.divider}),a?null:Object(Q.jsx)(te.a,{container:!0,className:s.buttonContainer,children:Object(Q.jsx)(yn.a,{title:t?"Send a private message!":"You are not a member of a common club or sub club!",children:Object(Q.jsx)("span",{className:s.buttonContainer,children:Object(Q.jsx)(He.a,{startIcon:Object(Q.jsx)(kn.a,{}),disabled:!t,variant:"outlined",color:"primary",className:s.button,onClick:function(){Nn(n,"").then((function(e){console.log(e.data),r.push("/pm")}))},children:"Send Message"})})})}),V.getUsername()===n&&Object(Q.jsx)(K.a,{children:Object(Q.jsxs)(te.a,{container:!0,className:s.buttonContainer,children:[Object(Q.jsx)(He.a,{variant:"outlined",color:"primary",startIcon:Object(Q.jsx)(Tn.a,{}),className:s.button,onClick:function(e){V.logout(),r.push("/sign-in")},children:"Logout"}),V.getAuthRoles().includes("ADMIN")&&Object(Q.jsx)(He.a,{variant:"outlined",color:"secondary",startIcon:Object(Q.jsx)(Ve.a,{}),className:s.button,onClick:function(e){r.push("/admin")},children:"Admin Panel"})]})})]})})}var Rn=Object(m.a)((function(e){return{gridContainer:{},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},feedItem:{marginBottom:e.spacing(2)},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},feedTitle:{flexGrow:1},gridItem:{maxHeight:"100vh",overflow:"auto"},gridLeftColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(2.5),marginRight:e.spacing(0)},gridMiddleColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1)},gridRightColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(0),marginRight:e.spacing(2.5)},sectionBox:{marginBottom:e.spacing(2)},sortingFeedToggleGroup:{flexGrow:1,marginRight:e.spacing(2)},list:{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}));function Bn(){var e=Object(u.g)().username;console.log("Profile Page: "+e);var t=Rn(),a=Object(n.useState)(),i=Object(j.a)(a,2),r=i[0],s=i[1],o=Object(n.useState)([]),l=Object(j.a)(o,2),d=l[0],b=l[1],m=Object(n.useState)([]),h=Object(j.a)(m,2),g=h[0],O=h[1],p=Object(n.useState)({name:"Loading..."}),x=Object(j.a)(p,2),f=x[0],v=x[1],C=c.a.useState("new"),y=Object(j.a)(C,2),w=y[0],N=y[1];Object(n.useEffect)((function(){xe(e).then((function(e){s(e.data)}))}),[]),Object(n.useEffect)((function(){me(e).then((function(t){console.log("Common sub-clubs of ".concat(e," and ").concat(V.getUsername()),t.data);var a={};t.data.forEach((function(e){e.parentName in a||(a[e.parentName]=[]),a[e.parentName].push(e)}));var n=[];for(var c in a)n.push({name:c,children:a[c]});b(n)})).catch((function(t){console.error("Error while fetching common sub-clubs of ".concat(e," and ").concat(V.getUsername()),t)}))}),[e]);Object(n.useEffect)((function(){be(e,f.name).then((function(t){console.log("Posts of ".concat(e," on ").concat(f.name),t.data),O(t.data)})).catch((function(t){console.error("Error while fetching posts of ".concat(e," on ").concat(f.name),t)}))}),[e,f]);var S=V.getUsername()===e;return Object(Q.jsx)("div",{children:Object(Q.jsxs)(te.a,{container:!0,spacing:1,className:t.gridContainer,children:[Object(Q.jsx)(te.a,{item:!0,xs:3,className:t.gridItem,children:Object(Q.jsx)(K.a,{className:t.gridLeftColumnBox,children:Object(Q.jsx)(K.a,{className:t.sectionBox,children:Object(Q.jsx)(We,{titleIcon:S?Object(Q.jsx)(Cn.a,{}):Object(Q.jsx)(ke.a,{}),callbackOnTreeItemClick:function(e){v(e)},clubs:d,title:S?"Your Clubs":"Common Clubs"})})})}),Object(Q.jsx)(te.a,{item:!0,xs:6,className:t.gridItem,children:Object(Q.jsxs)(K.a,{className:t.gridMiddleColumnBox,children:[Object(Q.jsx)(K.a,{display:"flex",children:Object(Q.jsxs)(De.a,{className:t.sortingFeedToggleGroup,value:w,exclusive:!0,onChange:function(e){console.log("Sorting order: "+e.target.value),N(e.target.value)},"aria-label":"text alignment",children:[Object(Q.jsx)(qe.a,{value:"new","aria-label":"centered",children:Object(Q.jsx)(Pe.a,{})}),Object(Q.jsx)(qe.a,{value:"top","aria-label":"right aligned",children:Object(Q.jsx)(Ue.a,{})})]})}),Object(Q.jsx)(ae.a,{className:t.divider}),Object(Q.jsx)(pa,{preloadedPosts:g,subclub:f.name})]})}),Object(Q.jsx)(te.a,{item:!0,xs:3,className:t.gridItem,children:Object(Q.jsx)(K.a,{className:t.gridRightColumnBox,children:Object(Q.jsx)(K.a,{className:t.sectionBox,children:Object(Q.jsx)(En,{hasCommonSubClub:d.length>0,isSelf:S,username:e,timeRegistered:r?r.created:null})})})})]})})}var Ln=Object(m.a)({root:{display:"flex",marginTop:"5%",flexDirection:"column",alignItems:"center"},button:{marginTop:"2%"}});function Wn(){var e=Ln(),t=Object(u.f)();return Object(Q.jsxs)(Ge.a,{component:"main",className:e.root,children:[Object(Q.jsx)(p.a,{variant:"h2",children:"Page not found :("}),Object(Q.jsx)(K.a,{className:e.button,children:Object(Q.jsx)(He.a,{variant:"outlined",onClick:function(){return t.push("/")},children:"Go to home page"})})]})}var Dn=a(548),qn=a(171),An=a.n(qn);function Pn(){return Object(Q.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(Q.jsx)(Dn.a,{color:"inherit",href:"https://github.com/hu-overengineers",children:"overengineers"})," ",(new Date).getFullYear(),"."]})}var Un=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Mn(){var e=Un(),t=Object(u.f)(),a=c.a.useState(""),n=Object(j.a)(a,2),i=n[0],r=n[1],s=c.a.useState(""),o=Object(j.a)(s,2),d=o[0],b=o[1],m=c.a.useState(""),h=Object(j.a)(m,2),g=h[0],O=h[1],x=c.a.useState(!1),f=Object(j.a)(x,2),v=f[0],C=f[1],y=c.a.useState("success"),w=Object(j.a)(y,2),N=w[0],S=w[1],k=c.a.useState(""),T=Object(j.a)(k,2),I=T[0],E=T[1],R=function(e,t){"clickaway"!==t&&C(!1)};return Object(Q.jsxs)(Ge.a,{component:"main",maxWidth:"xs",children:[Object(Q.jsx)(l.a,{}),Object(Q.jsxs)("div",{className:e.paper,children:[Object(Q.jsx)(Je.a,{className:e.avatar,children:Object(Q.jsx)(An.a,{})}),Object(Q.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(Q.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(Q.jsxs)(te.a,{container:!0,spacing:2,children:[Object(Q.jsx)(te.a,{item:!0,xs:12,children:Object(Q.jsx)(nt.a,{variant:"outlined",required:!0,fullWidth:!0,id:"uname",label:"Username",name:"uname",autoComplete:"username",value:d,onChange:function(e){b(e.target.value)}})}),Object(Q.jsx)(te.a,{item:!0,xs:12,children:Object(Q.jsx)(nt.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email address",name:"email",autoComplete:"email",value:g,onChange:function(e){O(e.target.value)}})}),Object(Q.jsx)(te.a,{item:!0,xs:12,children:Object(Q.jsx)(nt.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){r(e.target.value)}})})]}),Object(Q.jsx)(He.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),console.log("Sign up button clicked."),V.register({email:g,username:d,password:i}).then((function(e){console.log("Response: "+e.data.toString()),S("success"),E("You've registered successfully!"),C(!0),Ht(1e3).then((function(){t.push("/sign-in")}))})).catch((function(e){S("error"),409===e.response.status?E(e.response.data):E("Something went wrong: "+e.response.data.toString()),C(!0)}))},children:"Sign Up"}),Object(Q.jsx)(te.a,{container:!0,justify:"flex-end",children:Object(Q.jsx)(te.a,{item:!0,children:Object(Q.jsx)(Dn.a,{href:"/sign-in",variant:"body2",children:"Already have an account? Sign in."})})})]})]}),Object(Q.jsx)(K.a,{mt:5,children:Object(Q.jsx)(Pn,{})}),Object(Q.jsx)(ua.a,{open:v,autoHideDuration:6e3,onClose:R,children:Object(Q.jsx)(ja.a,{onClose:R,severity:N,children:I})})]})}var Fn=a(561),Hn=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Gn(){var e=Hn(),t=Object(u.f)(),a=c.a.useState(""),n=Object(j.a)(a,2),i=n[0],r=n[1],s=c.a.useState(""),o=Object(j.a)(s,2),d=o[0],b=o[1],m=c.a.useState(!1),h=Object(j.a)(m,2),g=h[0],O=h[1],x=c.a.useState("success"),f=Object(j.a)(x,2),v=f[0],C=f[1],y=c.a.useState("Welcome back!"),w=Object(j.a)(y,2),N=w[0],S=w[1],k=function(e,t){"clickaway"!==t&&O(!1)};return Object(Q.jsxs)(Ge.a,{component:"main",maxWidth:"xs",children:[Object(Q.jsx)(l.a,{}),Object(Q.jsxs)("div",{className:e.paper,children:[Object(Q.jsxs)(Je.a,{className:e.avatar,children:[" ",Object(Q.jsx)(An.a,{})," "]}),Object(Q.jsx)(p.a,{component:"h1",variant:"h5",children:" Sign in "}),Object(Q.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(Q.jsx)(nt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){b(e.target.value)}}),Object(Q.jsx)(nt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){r(e.target.value)}}),Object(Q.jsx)(Xa.a,{control:Object(Q.jsx)(Fn.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(Q.jsx)(He.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),console.log("Sign in button clicked."),V.login(d,i).then((function(e){console.log("Response: "+JSON.stringify(e.data)),V.saveJwtToken(e.data.token),V.saveAuthRoles(e.data.auth),C("success"),S("Welcome back!"),O(!0),Ht(1e3).then((function(){t.push("/")}))})).catch((function(e){C("error"),void 0!==e.response&&401===e.response.status?S("Entered credentials are incorrect."):S("Something went wrong!"),O(!0)}))},children:"Sign In"}),Object(Q.jsxs)(te.a,{container:!0,children:[Object(Q.jsx)(te.a,{item:!0,xs:!0,children:Object(Q.jsx)(Dn.a,{href:"/password-reset",variant:"body2",children:" Forgot password? "})}),Object(Q.jsx)(te.a,{item:!0,children:Object(Q.jsxs)(Dn.a,{href:"/sign-up",variant:"body2",children:[" ","Don't have an account? Sign up."," "]})})]})]})]}),Object(Q.jsx)(K.a,{mt:8,children:Object(Q.jsx)(Pn,{})}),Object(Q.jsx)(ua.a,{open:g,autoHideDuration:6e3,onClose:k,children:Object(Q.jsx)(ja.a,{onClose:k,severity:v,children:N})})]})}var Jn=a(283),_n=a.n(Jn),zn=a(200),Vn=a.n(zn),Qn=a(282),Yn=a.n(Qn),$n=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},infoText:{marginTop:e.spacing(3)}}}));function Kn(){var e=$n(),t=Object(u.f)(),a=c.a.useState(""),n=Object(j.a)(a,2),i=n[0],r=n[1],s=c.a.useState(!1),o=Object(j.a)(s,2),d=o[0],b=o[1],m=c.a.useState(!1),h=Object(j.a)(m,2),g=h[0],O=h[1],x=c.a.useState("success"),f=Object(j.a)(x,2),v=f[0],C=f[1],y=c.a.useState("Welcome back!"),w=Object(j.a)(y,2),N=w[0],S=w[1],k=function(e,t){"clickaway"!==t&&O(!1)};return Object(Q.jsxs)(Ge.a,{component:"main",maxWidth:"xs",children:[Object(Q.jsx)(l.a,{}),d?Object(Q.jsxs)("div",{className:e.paper,children:[Object(Q.jsxs)(Je.a,{className:e.avatar,children:[" ",Object(Q.jsx)(Yn.a,{})," "]}),Object(Q.jsx)(p.a,{component:"h1",variant:"h5",children:" Email sent successfully! "}),Object(Q.jsx)(p.a,{className:e.infoText,component:"body2",align:"center",children:"A password reset link was sent. Click the link in the email to create a new password. If you do not receive an email within 5 minutes, please click the re-send email link below."}),Object(Q.jsx)(Ge.a,{children:Object(Q.jsxs)(te.a,{container:!0,children:[Object(Q.jsx)(te.a,{item:!0,children:Object(Q.jsx)(Ge.a,{children:Object(Q.jsx)(He.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){b(!1),t.push("/password-reset")},children:"Re-send"})})},1),Object(Q.jsx)(te.a,{item:!0,children:Object(Q.jsx)(Ge.a,{children:Object(Q.jsx)(He.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){t.push("/")},children:"Back to Home"})})},2)]})})]}):Object(Q.jsxs)("div",{className:e.paper,children:[Object(Q.jsxs)(Je.a,{className:e.avatar,children:[" ",Object(Q.jsx)(Vn.a,{})," "]}),Object(Q.jsx)(p.a,{component:"h1",variant:"h5",children:" Reset Password "}),Object(Q.jsx)(p.a,{className:e.infoText,component:"body2",align:"center",children:"Enter your email address that you used to register. We'll send you an email with your username and a link to reset your password."}),Object(Q.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(Q.jsx)(nt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,className:e.margin,name:"email",id:"email",label:"E-mail",InputProps:{startAdornment:Object(Q.jsx)(mn.a,{position:"start",children:Object(Q.jsx)(_n.a,{})})},onChange:function(e){r(e.target.value)}}),Object(Q.jsx)(He.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),V.resetPassword(i).then((function(e){console.log(e.data.message),C("success"),S(e.data.message),O(!0),Ht(200).then((function(){b(!0)}))})).catch((function(e){C("error"),void 0!==e.response&&401===e.response.status?S("Entered credentials are incorrect."):S("Something went wrong!"),O(!0)}))},children:"Reset Password"})]})]}),Object(Q.jsx)(K.a,{mt:8,children:Object(Q.jsx)(Pn,{})}),Object(Q.jsx)(ua.a,{open:g,autoHideDuration:6e3,onClose:k,children:Object(Q.jsx)(ja.a,{onClose:k,severity:v,children:N})})]})}function Xn(e){var t=e.passwordResetToken;console.log(t);var a=$n(),i=Object(u.f)(),r=c.a.useState(""),s=Object(j.a)(r,2),o=s[0],d=s[1],b=c.a.useState(""),m=Object(j.a)(b,2),h=m[0],g=m[1],O=c.a.useState(!1),x=Object(j.a)(O,2),f=x[0],v=x[1];Object(n.useEffect)((function(){v(o===h)}),[o,h]);var C=c.a.useState(!1),y=Object(j.a)(C,2),w=y[0],N=y[1],S=c.a.useState("success"),k=Object(j.a)(S,2),T=k[0],I=k[1],E=c.a.useState("Welcome back!"),R=Object(j.a)(E,2),B=R[0],L=R[1],W=function(e,t){"clickaway"!==t&&N(!1)};return Object(Q.jsxs)(Ge.a,{component:"main",maxWidth:"xs",children:[Object(Q.jsx)(l.a,{}),Object(Q.jsxs)("div",{className:a.paper,children:[Object(Q.jsxs)(Je.a,{className:a.avatar,children:[" ",Object(Q.jsx)(Vn.a,{})," "]}),Object(Q.jsx)(p.a,{component:"h1",variant:"h5",children:" Reset Password "}),Object(Q.jsxs)("form",{className:a.form,noValidate:!0,children:[Object(Q.jsx)(nt.a,{error:!f,helperText:f?null:"Passwords does not match!",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Create new password",type:"password",id:"password",onChange:function(e){d(e.target.value)}}),Object(Q.jsx)(nt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Confirm your password",type:"password",id:"password",error:!f,helperText:f?null:"Passwords does not match!",onChange:function(e){g(e.target.value)}}),Object(Q.jsx)(He.a,{disabled:!f,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(e){e.preventDefault(),V.changePasswordWithToken(o,t).then((function(e){console.log(e.data.message),I("success"),L(e.data.message),N(!0),Ht(1e3).then((function(){i.push("/sign-in")}))})).catch((function(e){I("error"),void 0!==e.response&&401===e.response.status?L("Entered credentials are incorrect."):L("Something went wrong!"),N(!0)}))},children:"Reset Password"})]})]}),Object(Q.jsx)(K.a,{mt:8,children:Object(Q.jsx)(Pn,{})}),Object(Q.jsx)(ua.a,{open:w,autoHideDuration:6e3,onClose:W,children:Object(Q.jsx)(ja.a,{onClose:W,severity:T,children:B})})]})}var Zn=function(){var e=Object(u.g)().token;return Object(Q.jsx)("div",{children:e?Object(Q.jsx)(Xn,{passwordResetToken:e}):Object(Q.jsx)(Kn,{})})},ec=a(550),tc=a(284),ac=a.n(tc),nc=Object(m.a)((function(e){return{root:{},avatar:{color:e.palette.getContrastText("#00e3aa"),backgroundColor:"#00e3aa"}}}));var cc=function(e){var t=nc();return Object(Q.jsxs)(ft.a,{button:!0,className:t.root,selected:e.selected,onClick:function(){return e.callback(e.username)},children:[Object(Q.jsx)(Ea.a,{children:Object(Q.jsxs)(Je.a,{className:t.avatar,alt:e.username,children:[" ",e.username[0].toUpperCase()," "]})}),Object(Q.jsx)(Ct.a,{primary:e.username,children:e.username})]},e.username)};var ic=function(e){return console.log("Selected:",e.selectedUser),Object(Q.jsx)(ne.a,{children:e.users.map((function(t){return Object(Q.jsx)(cc,{selected:e.selectedUser===t,callback:e.callback,username:t},t)}))})},rc=a(173),sc=Object(m.a)((function(e){return{messageArea:{height:"70vh",overflowY:"auto"}}}));var oc=function(e){var t=e.messages,a=sc(),c=Object(n.useRef)(null);return Object(n.useEffect)((function(){c.current&&c.current.scrollIntoView({behaviour:"smooth"})}),[t]),Object(Q.jsxs)(ne.a,{className:a.messageArea,children:[t.map((function(e){return Object(Q.jsx)(ft.a,{children:Object(Q.jsxs)(te.a,{container:!0,children:[Object(Q.jsx)(te.a,{item:!0,xs:12,children:Object(Q.jsx)(Ct.a,{align:e.senderUsername===V.getUsername()?"right":"left",primary:e.content})}),Object(Q.jsx)(te.a,{item:!0,xs:12,children:Object(Q.jsx)(Ct.a,{align:e.senderUsername===V.getUsername()?"right":"left",secondary:Object(rc.a)(new Date(e.created),"dd.MM.yyyy HH:mm")})})]})},e.id)})),Object(Q.jsx)("li",{ref:c})]})},lc=Object(m.a)((function(e){return{table:{minWidth:650},chatSection:{width:"100%"},headBG:{backgroundColor:"#e0e0e0"},borderRight500:{borderRight:"1px solid #e0e0e0"},messageArea:{height:"70vh",overflowY:"auto"},marginAll:{marginTop:e.spacing(3),marginBottom:e.spacing(2),marginLeft:e.spacing(12),marginRight:e.spacing(12)},title:{marginBottom:e.spacing(2)}}}));var dc=function(){var e=lc(),t=Object(n.useState)([]),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(null),o=Object(j.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)([]),b=Object(j.a)(u,2),m=b[0],h=b[1],g=Object(n.useState)([]),O=Object(j.a)(g,2),x=O[0],f=O[1],v=Object(n.useState)(null),C=Object(j.a)(v,2),y=C[0],w=C[1];return Object(n.useEffect)((function(){wn().then((function(e){console.log("PM:",e.data),f(e.data)}))}),[]),Object(n.useEffect)((function(){var e=V.getUsername(),t=new Set;x.forEach((function(a){a.senderUsername===e?t.add(a.receiverUsername):a.receiverUsername===e&&t.add(a.senderUsername)}));var a=Object(ee.a)(t);a.sort((function(e,t){var a=x.filter((function(t){return t.senderUsername===e||t.receiverUsername===e})),n=x.filter((function(e){return e.senderUsername===t||e.receiverUsername===t}));return Math.max.apply(Math,n.map((function(e){return new Date(e.created).getTime()})))-Math.max.apply(Math,a.map((function(e){return new Date(e.created).getTime()})))})),a=a.filter((function(t){var a=x.filter((function(a){return a.senderUsername===t&&a.receiverUsername===e}));return 1!==a.length||""!==a[0].content})),r(a)}),[x]),Object(n.useEffect)((function(){console.log("User List:",c),null===l&&c.length>0&&d(c[0])}),[c]),Object(n.useEffect)((function(){var e=x.filter((function(e){return e.senderUsername===l||e.receiverUsername===l}));e.sort((function(e,t){return e.timestamp<=t.timestamp})),e=e.filter((function(e){return""!==e.content})),h(e)}),[x,l]),Object(Q.jsxs)("div",{className:e.marginAll,children:[Object(Q.jsx)(te.a,{container:!0,className:e.title,children:Object(Q.jsx)(te.a,{item:!0,xs:12,children:Object(Q.jsx)(p.a,{variant:"h5",className:"header-message",children:"Private Messages"})})}),Object(Q.jsx)(ve.a,{variant:"outlined",children:Object(Q.jsxs)(te.a,{container:!0,className:e.chatSection,children:[Object(Q.jsx)(te.a,{item:!0,xs:3,className:e.borderRight500,children:Object(Q.jsx)(ic,{users:c,selectedUser:l,callback:function(e){console.log("Clicked:",e),d(e)},username:V.getUsername()})}),Object(Q.jsxs)(te.a,{item:!0,xs:9,children:[Object(Q.jsx)(oc,{messages:m}),Object(Q.jsx)(ae.a,{}),Object(Q.jsxs)(te.a,{container:!0,style:{padding:"20px"},children:[Object(Q.jsx)(te.a,{item:!0,xs:11,children:Object(Q.jsx)(nt.a,{value:y,id:"outlined-basic-email",label:"Type something...",onChange:function(e){return w(e.target.value)},fullWidth:!0})}),Object(Q.jsx)(te.a,{item:!0,xs:1,align:"right",children:Object(Q.jsx)(ec.a,{disabled:null===l,onClick:function(){null!==y&&""!==y&&Nn(l,y).then((function(e){var t=x.slice();t.push(e.data),Object(i.unstable_batchedUpdates)((function(){f(t),w("")}))}))},color:"primary","aria-label":"add",children:Object(Q.jsx)(ac.a,{})})})]})]})]})})]})},uc=a(461),jc=a(551),bc=a(39),mc=a(556),hc=a(172),gc=function(e,t,a,n,c,i){return T.a.post(I+L+W,{title:e,details:t,date:a,isOnline:n,location:c,utilLink:i},J())},Oc=function(){return T.a.get(I+L+W,J())},pc=function(e){return T.a.put(I+L+W,e,J())},xc=function(e){return T.a.delete(I+L+W,{id:e},J())},fc=function(){return T.a.get(I+L+U,J())},vc=function(e){return T.a.post(I+L+M,null,J({reportId:e}))},Cc=function(e){return T.a.post(I+L+"/delete-post",null,J({postId:e}))},yc=function(e,t,a){return T.a.post(I+L+"/ban",null,J({username:e,subClubName:t,reason:a}))},wc=Object(m.a)((function(e){return{root:{},explanation:{marginBottom:e.spacing(2)},formInput:{marginBottom:e.spacing(2)},switchInput:{marginLeft:e.spacing(2),marginTop:e.spacing(1),marginBottom:e.spacing(2)},dateInput:{marginTop:0},form:{display:"flex"},submitButton:{}}})),Nc=[{name:"title",label:"Event title",id:"title",type:"text",required:!0},{name:"details",label:"Event details",id:"details-input",multiline:!0,type:"text",required:!0},{name:"date",label:"Date and time",id:"date",type:"date",required:!0},{name:"isOnline",label:"Will it be online?",id:"is-online",type:"switch",required:!0},{name:"location",conditionalLabel:{condition:"isOnline",correct:"URL of the event medium",wrong:"Location of the event"},id:"location",type:"text",required:!0}],Sc={title:null,details:null,date:new Date,isOnline:!1,location:null,utilLink:null};function kc(){var e=wc(),t=Object(n.useState)(!1),a=Object(j.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(Sc),o=Object(j.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)({}),m=Object(j.a)(u,2),h=m[0],g=m[1],O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=Object(Xe.a)({},h),a=Nc.filter((function(e){return e.required})).map((function(e){return e.name}));a.forEach((function(a){a in e&&(t[a]=e[a]?"":"This field is required.")})),g(Object(Xe.a)({},t))},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;console.log("Input event:",e);var t=e.target,a=t.name,n=t.value;console.log("Handle input value:",a,n),d(Object(Xe.a)(Object(Xe.a)({},l),{},Object(b.a)({},a,n))),O(Object(b.a)({},a,n))};Object(n.useEffect)((function(){console.log("Values:",l)}),[l]),Object(n.useEffect)((function(){console.log("Errors:",h)}),[h]);var f=c.a.useState(!1),v=Object(j.a)(f,2),C=v[0],y=v[1],w=c.a.useState("success"),N=Object(j.a)(w,2),S=N[0],k=N[1],T=c.a.useState("Welcome back!"),I=Object(j.a)(T,2),E=I[0],R=I[1],B=function(e,t){"clickaway"!==t&&y(!1)};return Object(Q.jsxs)(K.a,{children:[Object(Q.jsx)(p.a,{className:e.explanation,children:"Create an event for your sub-club."}),Object(Q.jsxs)(uc.a,{className:e.form,children:[Nc.map((function(t){return function(){var a;switch(t.type){case"text":return Object(Q.jsx)(nt.a,Object(Xe.a)({className:e.formInput,onBlur:x,variant:"filled",onChange:x,required:t.required,disabled:i,name:t.name,value:l[t.name],label:void 0===t.conditionalLabel?t.label:"true"===l[t.conditionalLabel.condition]?t.conditionalLabel.correct:t.conditionalLabel.wrong,multiline:null!==(a=t.multiline)&&void 0!==a&&a,rows:t.rows,autoComplete:"none"},h[t.name]&&{error:!0,helperText:h[t.name]}),t.id);case"date":return Object(Q.jsx)(bc.a,{utils:hc.a,name:t.name,className:e.formInput,children:Object(Q.jsx)(mc.a,Object(Xe.a)({disableToolbar:!0,format:"MM.dd.yyyy HH:mm",margin:"normal",className:e.dateInput,disabled:i,id:t.id,name:t.name,label:t.label,required:t.required,value:l[t.name],inputVariant:"filled",onChange:function(e){x({target:{name:t.name,value:e}})},KeyboardButtonProps:{"aria-label":"change date"}},h[t.name]&&{error:!0,helperText:h[t.name]}))},t.id);case"switch":return Object(Q.jsx)(K.a,{className:e.switchInput,children:Object(Q.jsx)(Xa.a,{control:Object(Q.jsx)(jc.a,{id:t.id,name:t.name,disabled:i,label:t.label,value:l[t.name],onChange:function(e){console.log("Switch:",e.target.checked,typeof e.target.checked),e.target.value=e.target.checked,x(e)},color:"primary"},t.id),label:t.label})});default:return null}}()})),Object(Q.jsx)(He.a,{className:e.submitButton,type:"submit",variant:"outlined",startIcon:Object(Q.jsx)(Nt.a,{}),onClick:function(e){console.log("Creating event:",l),gc(l.title,l.details,l.date.toISOString(),"true"===l.isOnline,l.location,l.utilLink).then((function(e){console.log("Event created:",e),k("success"),R("Event successfully created!"),y(!0),r(!0),Ht(2e3).then((function(){return window.location.reload()}))})).catch((function(e){console.error("Error while creating event:",e),k("error"),R("Something is wrong. "+e),y(!0)}))},disabled:!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=Nc.filter((function(e){return e.required})).map((function(e){return e.name}));console.log("Required fields:",t),console.log("Is valid fields:",e);var a=!0;return t.forEach((function(t){a=a&&void 0!==e[t]&&null!==e[t]})),a=a&&Object.values(h).every((function(e){return""===e})),console.log("Is valid:",a),a}()||i,children:"CREATE EVENT"},"submit")]}),Object(Q.jsx)(ua.a,{open:C,autoHideDuration:6e3,onClose:B,children:Object(Q.jsx)(ja.a,{onClose:B,severity:S,children:E})})]})}var Tc=a(552),Ic=a(553),Ec=Object(m.a)((function(e){return{root:{},explanation:{marginBottom:e.spacing(2)},formInput:{marginBottom:e.spacing(2)},switchInput:{marginLeft:e.spacing(2),marginTop:e.spacing(1),marginBottom:e.spacing(2)},dateInput:{marginTop:0},form:{display:"flex"},submitButton:{marginBottom:e.spacing(2)}}})),Rc={id:-1,title:null,details:null,date:new Date,isOnline:!1,location:null,utilLink:null};function Bc(){var e=Ec(),t=Object(n.useState)([Rc]),a=Object(j.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(Rc),s=Object(j.a)(r,2),o=s[0],l=s[1],d=Object(n.useState)(!1),u=Object(j.a)(d,2),b=u[0],m=u[1];return Object(n.useEffect)((function(){Oc().then((function(e){i(e.data)}))}),[]),Object(Q.jsxs)(K.a,{children:[Object(Q.jsx)(p.a,{className:e.explanation,children:"Edit this event for your sub-club."}),Object(Q.jsxs)(Ja.a,{className:e.form,variant:"filled",children:[Object(Q.jsx)(Ya.a,{children:"Select an event to edit"}),Object(Q.jsxs)(sn.a,{className:e.formInput,value:o?o.id:-1,onChange:function(e){var t=e.target.value;-1!==t?(l(c.find((function(e){return e.id===t}))),console.log(o)):l(Rc)},children:[Object(Q.jsx)(la.a,{value:-1,children:Object(Q.jsx)("em",{children:"None"})},-1),c.map((function(e){return Object(Q.jsx)(la.a,{filled:!0,value:e?e.id:-1,children:e.title},e?e.id:-1)}))]})]}),-1===o.id?null:Object(Q.jsxs)(uc.a,{className:e.form,children:[Object(Q.jsx)(nt.a,{className:e.formInput,required:!0,variant:"filled",onChange:function(e){var t=JSON.parse(JSON.stringify(o));t.title=e.target.value,l(t)},disabled:b,value:o.title,label:"Event title"},"event title"),Object(Q.jsx)(nt.a,{className:e.formInput,required:!0,variant:"filled",disabled:b,onChange:function(e){var t=JSON.parse(JSON.stringify(o));t.details=e.target.value,l(t)},value:o.details,label:"Event details"},"event details"),Object(Q.jsx)(bc.a,{utils:hc.a,className:e.formInput,children:Object(Q.jsx)(mc.a,{className:e.dateInput,disableToolbar:!0,required:!0,inputVariant:"filled",format:"MM.dd.yyyy HH:mm",margin:"normal",name:"{inputField.name}",label:"Date and time",value:o.date,disabled:b,onChange:function(e){var t=JSON.parse(JSON.stringify(o));t.date=e,l(t)},KeyboardButtonProps:{"aria-label":"change date"}})},"{inputField.id}"),Object(Q.jsx)(K.a,{className:e.switchInput,children:Object(Q.jsx)(Xa.a,{control:Object(Q.jsx)(jc.a,{name:"{inputField.name}",label:"Will it be online?",color:"primary",disabled:b,onChange:function(e){e.target.value=e.target.checked;var t=JSON.parse(JSON.stringify(o));t.isOnline=e.target.value,l(t)}},"{inputField.id}"),label:"Will it be online?"})}),Object(Q.jsx)(nt.a,{className:e.formInput,required:!0,variant:"filled",disabled:b,onChange:function(e){var t=JSON.parse(JSON.stringify(o));t.location=e.target.value,l(t)},value:o.location,label:"Location of event"},"event location"),Object(Q.jsx)(He.a,{className:e.submitButton,type:"submit",variant:"outlined",disabled:b,startIcon:Object(Q.jsx)(Tc.a,{}),onClick:function(){console.log("event will be: ",o),pc(o).then((function(e){console.log("Successfully updated:",e.data),m(!0),Ht(2e3).then((function(){return window.location.reload()}))}))},children:"EDIT EVENT"},"submit"),Object(Q.jsx)(He.a,{className:e.submitButton,type:"submit",variant:"outlined",disabled:b,startIcon:Object(Q.jsx)(Ic.a,{}),onClick:function(){xc(o.id).then((function(e){console.log("Successfully deleted:",e.data),m(!0),Ht(2e3).then((function(){return window.location.reload()}))}))},children:"DELETE EVENT"},"delete")]})]})}var Lc=Object(m.a)((function(e){return{root:{width:"100%"},inline:{display:"inline"},paper:{paddingTop:0,paddingBottom:0},button:{marginRight:e.spacing(2)},title:{marginBottom:e.spacing(1),marginTop:e.spacing(2)},gridReportInfoContainer:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},gridHorizontalSection:{paddingRight:e.spacing(2)}}}));function Wc(){var e=Lc(),t=Object(n.useState)(null),a=Object(j.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(null),o=Object(j.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)(null),b=Object(j.a)(u,2),m=b[0],h=b[1],g=Object(n.useState)({}),O=Object(j.a)(g,2),x=O[0],f=O[1];Object(n.useEffect)((function(){fc().then((function(e){console.log("reports",e.data),r(e.data)}))}),[m]);return Object(Q.jsxs)(te.a,{container:!0,children:[Object(Q.jsxs)(te.a,{item:!0,xs:4,children:[Object(Q.jsx)(p.a,{variant:"h6",className:e.title,children:"List of Reports"}),Object(Q.jsx)(ve.a,{variant:"outlined",className:e.paper,children:Object(Q.jsx)(ne.a,{className:e.root,children:null===i||0===i.length?Object(Q.jsx)(Fa,{}):i.map((function(t){return Object(Q.jsxs)("div",{children:[Object(Q.jsxs)(ft.a,{button:!0,selected:l&&t.postId===l.id,alignItems:"flex-start",onClick:function(e){return function(e,t){h(t),Ot(t.postId).then((function(e){d(e.data),console.log("post",e.data),va(e.data.author,0,1).then((function(e){f(e.data[0]),console.log("post owner, ",e.data[0])}))}))}(0,t)},children:[Object(Q.jsx)(Ea.a,{children:Object(Q.jsx)(Ba.a,{})}),Object(Q.jsx)(Ct.a,{primary:"Reported by: ".concat(t.author),secondary:Object(Q.jsxs)(c.a.Fragment,{children:[Object(Q.jsx)(p.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary",children:"Reason: "}),t.content]})})]},t.postId),Object(Q.jsx)(ae.a,{variant:"inset",component:"li"})]})}))})})]},1),Object(Q.jsx)(te.a,{className:e.gridReportInfoContainer,container:!0,xs:8,children:l?Object(Q.jsxs)(K.a,{children:[Object(Q.jsxs)(te.a,{item:!0,children:[Object(Q.jsx)(p.a,{variant:"h6",className:e.title,children:"Reported Post"}),Object(Q.jsx)(K.a,{children:l?Object(Q.jsx)(ga,{props:l},l.postId):null})]}),Object(Q.jsxs)(te.a,{container:!0,children:[Object(Q.jsxs)(te.a,{item:!0,xs:6,className:e.gridHorizontalSection,children:[Object(Q.jsx)(p.a,{variant:"h6",className:e.title,children:"Author Information"}),x?Object(Q.jsx)(Pa,{info:x}):null]},1),Object(Q.jsxs)(te.a,{item:!0,xs:6,className:e.gridHorizontalSection,children:[Object(Q.jsx)(p.a,{variant:"h6",className:e.title,children:"Actions"}),Object(Q.jsxs)(te.a,{container:!0,children:[Object(Q.jsx)(te.a,{item:!0,className:e.button,children:Object(Q.jsx)(He.a,{variant:"outlined",onClick:function(){yc(x.username,"voluptatem","reason").then((function(e){console.log("BAN: ",e.data)}))},children:"Ban Member"})},1),Object(Q.jsx)(te.a,{item:!0,className:e.button,children:Object(Q.jsx)(He.a,{variant:"outlined",onClick:function(){vc(m.id).then((function(e){console.log("DELETE REPORT",e.data),h(null),d(null),f(null)}))},children:"Delete Report"})},2),Object(Q.jsx)(te.a,{item:!0,className:e.button,children:Object(Q.jsx)(He.a,{variant:"outlined",onClick:function(){Cc(l.id).then((function(e){console.log("DELETE POST",e.data),h(null),d(null)}))},children:"Delete Post"})},3)]})]},2)]})]}):Object(Q.jsx)(p.a,{className:e.title,children:"Select a report to see the details."})},2)]})}function Dc(){return Object(Q.jsxs)(u.c,{children:[Object(Q.jsx)(u.a,{path:"/mod/create-event",children:Object(Q.jsx)(kc,{})}),Object(Q.jsx)(u.a,{path:"/mod/manage-event",children:Object(Q.jsx)(Bc,{})}),Object(Q.jsx)(u.a,{path:"/mod/reported-posts",children:Object(Q.jsx)(Wc,{})})]})}var qc=[{text:"Events",children:[{text:"Create event",path:"/mod/create-event"},{text:"Manage event",path:"/mod/manage-event"}]},{text:"Reports",children:[{text:"Reported posts",path:"/mod/reported-posts"}]}],Ac=Object(m.a)((function(e){return{root:{},divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},gridLeftColumnBox:{paddingTop:e.spacing(3),paddingLeft:e.spacing(2.5),paddingRight:e.spacing(0)},gridRightColumnBox:{paddingTop:e.spacing(3),paddingLeft:e.spacing(2.5),paddingRight:e.spacing(2.5)}}}));var Pc=function(e){var t=e.children,a=Ac(),n=Object(u.f)();return Object(Q.jsxs)(te.a,{container:!0,className:a.root,children:[Object(Q.jsx)(te.a,{item:!0,xs:3,className:a.gridLeftColumnBox,children:Object(Q.jsx)(K.a,{children:Object(Q.jsx)(Re,{title:"Menu",titleIcon:Object(Q.jsx)(Ve.a,{}),menuItems:qc,defaultExpanded:qc.map((function(e){return e.text})),callbackOnTreeItemClick:function(e){console.log(e),console.log(e.path),n.push(e.path)}})})}),Object(Q.jsxs)(te.a,{item:!0,xs:6,className:a.gridRightColumnBox,children:[Object(Q.jsx)(p.a,{variant:"h4",children:"Moderator Panel"}),Object(Q.jsx)(ae.a,{className:a.divider}),t]})]})};var Uc=function(){return Object(Q.jsx)(Pc,{children:Object(Q.jsx)(Dc,{})})},Mc=a(554),Fc=Object(m.a)({avatar:{backgroundColor:function(e){return 5===e.rating?"#57bb8a":4===e.rating?"#9ace6a":3===e.rating?"#ffcf02":2===e.rating?"#ff9f02":1===e.rating?"#ff6f31":"#ffffff"}}});function Hc(e){var t=e.review,a=Fc(t);return Object(Q.jsx)("div",{children:Object(Q.jsxs)(Yt.a,{children:[Object(Q.jsx)($t.a,{avatar:Object(Q.jsx)(Je.a,{className:a.avatar,children:t.rating}),action:Object(Q.jsx)(x.a,{children:Object(Q.jsx)(Mc.a,{})}),title:t.author,subheader:Object(ba.a)(new Date(t.created),new Date)}),Object(Q.jsx)(Kt.a,{children:Object(Q.jsx)(p.a,{variant:"body",color:"textSecondary",children:t.content})})]})})}var Gc=a(571),Jc=a(285),_c=a.n(Jc),zc=a(26),Vc=function(e){return T.a.get(I+R+"/reviews",J({subClubName:e}))},Qc=function(e,t,a,n){var c={content:t,rating:a,author:n,parentName:e};return console.log(I+R+q,c,J({subClubName:e})),T.a.post(I+R+q,c,J({subClubName:e}))},Yc=a(95),$c=Object(m.a)((function(e){return{root:{padding:e.spacing(3)},ratingStars:{display:"flex",alignItems:"center",paddingBottom:e.spacing(2)},dialogTextField:{marginTop:e.spacing(2)},numReviewsText:{marginBottom:e.spacing(2),marginTop:e.spacing(2),marginRight:e.spacing(2)}}}));function Kc(e){var t=e.subClubName,a=e.reviews,i=(Object(u.f)(),$c()),r=Object(n.useState)(!1),s=Object(j.a)(r,2),o=s[0],l=s[1],d=Object(n.useState)(-1),b=Object(j.a)(d,2),m=b[0],h=b[1],g=Object(n.useState)(null),O=Object(j.a)(g,2),x=O[0],f=O[1];Object(n.useEffect)((function(){de.getSubClubs().then((function(e){var a=e.data.filter((function(e){return e.name===t}))[0];de.getSubClubStatistics(a.name).then((function(e){a.numberOfMembers=e.data.numberOfMembers,a.numberOfPostsInLastWeek=e.data.numberOfPostsInTimeFrame,f(a)}))}))}),[t]);for(var v=function(e){l(!1)},C=c.a.useState(3),y=Object(j.a)(C,2),w=y[0],N=y[1],S=Object(n.useState)(""),k=Object(j.a)(S,2),T=k[0],I=k[1],E=0,R={state:"+1",one:0,two:0,three:0,four:0,five:0},B=0;B<a.length;B++)E+=a[B].rating,1===a[B].rating?R.one+=1:2===a[B].rating?R.two+=1:3===a[B].rating?R.three+=1:4===a[B].rating?R.four+=1:5===a[B].rating&&(R.five+=1);return R.one=R.one/E,R.two=R.two/E,R.three=R.three/E,R.four=R.four/E,R.five=R.five/E,x?Object(Q.jsxs)("div",{children:[Object(Q.jsx)(ve.a,{children:Object(Q.jsx)(Ge.a,{className:i.root,children:Object(Q.jsxs)(te.a,{container:!0,spacing:3,children:[Object(Q.jsxs)(te.a,{item:!0,xs:4,children:[Object(Q.jsx)(p.a,{color:"textSecondary",variant:"h2",align:"left",children:(E/a.length).toPrecision(3)}),Object(Q.jsx)(Gc.a,{value:(E/a.length).toPrecision(3),readOnly:!0}),Object(Q.jsxs)(te.a,{container:!0,children:[Object(Q.jsx)(te.a,{item:!0,children:Object(Q.jsx)(_c.a,{className:i.numReviewsText})}),Object(Q.jsx)(te.a,{item:!0,children:Object(Q.jsxs)(p.a,{className:i.numReviewsText,color:"textSecondary",variant:"body1",children:[a.length," total"]})})]}),Object(Q.jsx)(K.a,{children:Object(Q.jsx)(He.a,{size:"medium",variant:"contained",color:"primary",startIcon:Object(Q.jsx)(_t.a,{}),onClick:function(){l(!0)},fullWidth:!0,disableElevation:!0,children:"Write a Review"})})]},"1"),Object(Q.jsx)(te.a,{item:!0,xs:4,children:Object(Q.jsx)(ve.a,{children:Object(Q.jsxs)(Yc.b,{data:[R],rotated:!0,height:"250",children:[Object(Q.jsx)(Yc.c,{}),Object(Q.jsx)(Yc.a,{valueField:"five",argumentField:"state",color:"#57bb8a"}),Object(Q.jsx)(Yc.a,{valueField:"four",argumentField:"state",color:"#9ace6a"}),Object(Q.jsx)(Yc.a,{valueField:"three",argumentField:"state",color:"#ffcf02"}),Object(Q.jsx)(Yc.a,{valueField:"two",argumentField:"state",color:"#ff9f02"}),Object(Q.jsx)(Yc.a,{valueField:"one",argumentField:"state",color:"#ff6f31"}),Object(Q.jsx)(zc.h,{})]})})},"3"),Object(Q.jsx)(te.a,{item:!0,xs:4,children:Object(Q.jsx)(Ye,{feedInfo:x})},"2")]})})}),Object(Q.jsxs)(ct.a,{open:o,onClose:v,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md",children:[Object(Q.jsxs)(st.a,{id:"form-dialog-title",children:["Meta / ",x.name]}),Object(Q.jsxs)(rt.a,{children:[Object(Q.jsxs)("div",{className:i.ratingStars,children:[Object(Q.jsx)(Gc.a,{required:!0,value:w,onChange:function(e,t){N(t)},onChangeActive:function(e,t){h(t)}}),null!==w&&Object(Q.jsx)(K.a,{ml:2,children:{1:"Useless",2:"Lots of bad posts",3:"OK",4:"Good place to hang out",5:"Excellent people and quality"}[-1!==m?m:w]})]}),Object(Q.jsx)(nt.a,{autoFocus:!0,required:!0,multiline:!0,className:i.dialogTextField,label:"Your opinions",rows:5,variant:"filled",type:"input",onChange:function(e){I(e.target.value)},fullWidth:!0})]}),Object(Q.jsxs)(it.a,{children:[Object(Q.jsx)(He.a,{onClick:v,color:"primary",children:"Exit"}),Object(Q.jsx)(He.a,{onClick:function(e){Qc(t,T,w,V.getUsername()).then((function(e){console.log("RESPONSE",e.data),l(!1),Ht(1e3).then((function(){return window.location.reload()}))}))},color:"primary",children:"Submit"})]})]})]}):Object(Q.jsx)("div",{})}var Xc=a(286),Zc=Object(m.a)((function(e){return{summaryContainer:{paddingTop:e.spacing(3)}}}));function ei(){var e=Zc(),t=Object(u.g)().subClubName,a=Object(n.useState)([]),c=Object(j.a)(a,2),i=c[0],r=c[1];return Object(n.useEffect)((function(){Vc(t).then((function(e){console.log("get reviews",e.data),r(e.data)}))}),[t]),Object(Q.jsxs)(Ge.a,{children:[Object(Q.jsx)(Ge.a,{className:e.summaryContainer,children:Object(Q.jsx)(Kc,{subClubName:t,reviews:i})}),Object(Q.jsx)(Ge.a,{children:Object(Q.jsx)(Xc.a,{breakpointCols:3,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:i.map((function(e){return Object(Q.jsx)("div",{children:Object(Q.jsx)(Hc,{review:e})},e.author)}))})})]})}var ti=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return T.a.get(I+G,{params:{query:e,page:t,size:a}})},ai=Object(m.a)((function(e){return{root:{display:"flex",marginTop:"5%",flexDirection:"column",alignItems:"center"},title:{marginBottom:e.spacing(1),marginTop:e.spacing(4)},gridContainer:{},gridItem:{maxHeight:"100vh",overflow:"auto"},gridLeftColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(2.5),marginRight:e.spacing(0)},gridMiddleColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1)},gridRightColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(0),marginRight:e.spacing(2.5)},sectionBox:{marginBottom:e.spacing(2)},avatarContainer:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2)},usernameContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},avatar:{color:e.palette.getContrastText("#00e3aa"),backgroundColor:"#00e3aa"},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}));function ni(){var e=ai(),t=Object(u.f)(),a=Object(u.g)(),c=Object(n.useState)({posts:[],clubs:[],subClubs:[],members:[]}),i=Object(j.a)(c,2),r=i[0],s=i[1];return Object(n.useEffect)((function(){ti(a.query.trim()).then((function(e){s(e.data)}))}),[a]),Object(Q.jsx)("div",{children:Object(Q.jsxs)(te.a,{container:!0,spacing:1,className:e.gridContainer,children:[Object(Q.jsx)(te.a,{item:!0,xs:3,className:e.gridItem,children:Object(Q.jsx)(K.a,{className:e.gridLeftColumnBox})}),Object(Q.jsx)(te.a,{item:!0,xs:6,className:e.gridItem,children:Object(Q.jsxs)(K.a,{className:e.gridMiddleColumnBox,children:[Object(Q.jsx)(p.a,{className:e.title,variant:"h4",children:"Clubs & Sub-clubs"}),Object(Q.jsx)(ae.a,{className:e.divider}),Object(Q.jsx)(ve.a,{variant:"outlined",children:Object(Q.jsxs)(ne.a,{children:[0===r.clubs.length||0===r.subClubs.length?Object(Q.jsx)(Fa,{}):r.clubs.slice(0,2).map((function(a){return Object(Q.jsxs)(ft.a,{button:!0,onClick:function(){return t.push("/feed/".concat(a.name))},children:[Object(Q.jsx)(vt.a,{className:e.avatarContainer,children:Object(Q.jsx)(Je.a,{className:e.avatar,children:a.name[0].toUpperCase()})}),Object(Q.jsx)(Ct.a,{primary:a.name,secondary:"Club"})]},a.name)})),r.subClubs.slice(0,3).map((function(a){return Object(Q.jsxs)(ft.a,{onClick:function(){return t.push("/feed/".concat(a.name))},children:[Object(Q.jsx)(vt.a,{className:e.avatarContainer,children:Object(Q.jsx)(Je.a,{className:e.avatar,children:a.name[0].toUpperCase()})}),Object(Q.jsx)(Ct.a,{primary:a.name,secondary:"Sub-club of ".concat(a.parentName)})]},a.name)}))]})}),Object(Q.jsx)(p.a,{className:e.title,variant:"h4",children:"Members"}),Object(Q.jsx)(ae.a,{className:e.divider}),Object(Q.jsx)(ve.a,{variant:"outlined",children:Object(Q.jsx)(ne.a,{children:0===r.members.length?Object(Q.jsx)(Fa,{}):r.members.map((function(a){return Object(Q.jsxs)(ft.a,{button:!0,onClick:function(){return t.push("/profile/".concat(a.username))},children:[Object(Q.jsx)(vt.a,{className:e.avatarContainer,children:Object(Q.jsx)(Je.a,{className:e.avatar,children:Object(Q.jsx)(La.a,{})})}),Object(Q.jsx)(Ct.a,{children:a.username})]},a.username)}))})}),Object(Q.jsx)(p.a,{className:e.title,variant:"h4",children:"Posts"}),Object(Q.jsx)(ae.a,{className:e.divider}),Object(Q.jsx)(K.a,{children:0===r.posts.length?Object(Q.jsx)(Fa,{}):Object(Q.jsx)(pa,{preloadedPosts:r.posts})})]})}),Object(Q.jsx)(te.a,{item:!0,xs:3,className:e.gridItem,children:Object(Q.jsx)(K.a,{className:e.gridRightColumnBox})})]})})}function ci(){return Object(Q.jsx)(d.a,{children:Object(Q.jsx)(Z,{children:Object(Q.jsxs)(u.c,{children:[Object(Q.jsx)(u.a,{exact:!0,path:"/",children:Object(Q.jsx)(fa,{})}),Object(Q.jsx)(u.a,{path:"/feed",children:Object(Q.jsx)(fa,{})}),Object(Q.jsx)(u.a,{path:"/admin",children:Object(Q.jsx)(vn,{})}),Object(Q.jsx)(u.a,{path:"/profile/:username",children:Object(Q.jsx)(Bn,{})}),Object(Q.jsx)(u.a,{path:"/sign-up",children:Object(Q.jsx)(Mn,{})}),Object(Q.jsx)(u.a,{path:"/sign-in",children:Object(Q.jsx)(Gn,{})}),Object(Q.jsx)(u.a,{path:"/password-reset/:token?",children:Object(Q.jsx)(Zn,{})}),Object(Q.jsx)(u.a,{path:"/pm",children:Object(Q.jsx)(dc,{})}),Object(Q.jsx)(u.a,{path:"/mod",children:Object(Q.jsx)(Uc,{})}),Object(Q.jsx)(u.a,{path:"/meta/:subClubName",children:Object(Q.jsx)(ei,{})}),Object(Q.jsx)(u.a,{path:"/search/:query",children:Object(Q.jsx)(ni,{})}),Object(Q.jsx)(u.a,{path:"*",children:Object(Q.jsx)(Wn,{})})]})})})}var ii=function(){var e=c.a.useMemo((function(){return Object(s.a)({overrides:{MuiAppBar:{colorPrimary:{backgroundColor:"#171c23",color:"#ffffff"}}},palette:{type:"dark",primary:{main:"#00e3aa"},secondary:{main:"#00e3aa"},background:{default:"#12161b",paper:"#1a1f26"},typography:{fontFamily:["Inter","Roboto","Arial","sans-serif"]}}})}),[true]);return Object(Q.jsxs)(o.a,{theme:e,children:[Object(Q.jsx)(l.a,{}),Object(Q.jsx)(ci,{})]})},ri=document.getElementById("root");r.a.render(Object(Q.jsx)(ii,{}),ri)}},[[449,1,2]]]);
//# sourceMappingURL=main.4f38032f.chunk.js.map