(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{317:function(e,t,n){},449:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(23),r=n.n(i),s=(n(317),n(287)),o=n(560),l=n(555),u=n(35),d=n(29),j=n(6),b=n(93),m=n(502),g=n(17),h=n(504),p=n(505),O=n(47),f=n(451),x=n(264),v=n.n(x),C=n(265),y=n.n(C),w=n(293),N=n.p+"static/media/logo.08e987d0.png",S=n(506),I=n(14),k=n.n(I),T=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_BASE_URL||"http://hu-overengineers.github.io/CoSpace-frontend",B="/auth",R="/subclub",E="/subclub/statistics",L="/moderator",D="/event",W="/post",q="/review",A="/member",P="/admin",U="/reports",M="/delete-report",F="/enrolled-subclubs",H="/private-message",G="/search",J=function(e){var t=Q.getJwtToken();return{headers:{Authorization:"Bearer ".concat(t),Accept:"application/json","Content-Type":"application/json"},params:e}},z=function(e){localStorage.setItem("username",e)},_=function(){return null!=localStorage.getItem("login_token")},V=function(){return localStorage.getItem("auth_roles")},Q={login:function(e,t){return z(e),k.a.post(T+"/auth/login",{username:e,password:t})},register:function(e){return k.a.post(T+"/auth/register",e)},logout:function(){localStorage.removeItem("login_token"),localStorage.removeItem("auth_roles")},loginWithToken:function(){return k.a.post(T+"/auth/login_with_token",{},J())},saveJwtToken:function(e){localStorage.setItem("login_token",e)},getJwtToken:function(){return localStorage.getItem("login_token")},hasJwtToken:_,getUsername:function(){return localStorage.getItem("username")},removeUsername:function(){localStorage.removeItem("username")},resetPassword:function(e){return k.a.post(T+B+"/reset-password",null,{params:{email:e}})},changePasswordWithToken:function(e,t){return k.a.post(T+B+"/change-password-token",null,{params:{token:t,newPassword:e}})},isAdmin:function(){return"ADMIN"in V()},saveAuthRoles:function(e){localStorage.setItem("auth_roles",e)},getAuthRoles:V,hasLoggedIn:function(){return _()}},Y=n(1),$=Object(m.a)((function(e){return{grow:{flexGrow:1},title:{flexGrow:0,marginLeft:e.spacing(1)},search:Object(b.a)({flexGrow:1,position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(g.c)(e.palette.text.primary,.05),"&:hover":{backgroundColor:Object(g.c)(e.palette.text.primary,.2)},width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(50),marginRight:e.spacing(50),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},searchInputRoot:{color:"inherit"},searchInput:Object(b.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),logo:{maxWidth:"50px"},appBar:{}}}));function K(){var e=$(),t=Object(d.f)(),n=Object(a.useState)(""),c=Object(j.a)(n,2),i=c[0],r=c[1];return Object(Y.jsx)("div",{className:e.grow,children:Object(Y.jsx)(h.a,{position:"fixed",variant:"outlined",className:e.appBar,children:Object(Y.jsxs)(p.a,{children:[Object(Y.jsx)("img",{src:N,style:{cursor:"pointer"},alt:"CoSpace",className:e.logo,color:"#00e3aa",onClick:function(){return t.push("/")}}),Object(Y.jsx)(O.a,{variant:"h6",style:{color:"#00e3aa",fontWeight:"bold",cursor:"pointer"},className:e.title,onClick:function(){return t.push("/feed/Popular")},children:"CoSpace"}),Object(Y.jsxs)("div",{className:e.search,children:[Object(Y.jsx)("div",{className:e.searchIcon,children:Object(Y.jsx)(v.a,{})}),Object(Y.jsx)(w.a,{placeholder:"Search anything\u2026",classes:{root:e.searchInputRoot,input:e.searchInput},onChange:function(e){r(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&(e.preventDefault(),t.push("/search/".concat(i)))},inputProps:{"aria-label":"search"}})]}),Object(Y.jsx)(f.a,{onClick:function(){t.push("/pm")},children:Object(Y.jsx)(S.a,{})}),Object(Y.jsx)(f.a,{onClick:function(){Q.hasLoggedIn()?t.push("/profile/".concat(Q.getUsername())):t.push("/sign-up")},children:Object(Y.jsx)(y.a,{})})]})})})}var X=n(562),Z=Object(m.a)((function(e){return{toolbar:e.mixins.toolbar}}));function ee(e){var t=Z();return Object(Y.jsxs)(X.a,{children:[Object(Y.jsx)(K,{}),Object(Y.jsxs)(X.a,{children:[Object(Y.jsx)("div",{className:t.toolbar}),e.children]})]})}var te=n(68),ne=n(20),ae=n(509),ce=n(510),ie=n(458),re=n(291),se=n(521),oe=n(571),le=n(460),ue=n(569),de=n(516),je=n(517),be=n(520),me=n(116),ge=n.n(me),he=n(266),pe=n(507),Oe=function(){return k.a.get(T+"/club/all")},fe=function(){var e=Object(he.a)(ge.a.mark((function e(t){var n,a;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:return n=e.sent,a=[],n.data.forEach((function(e){e.children=t.filter((function(t){return t.parentName===e.name})),a.push(e)})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe={getClubs:Oe,getSubClubs:function(){return k.a.get(T+"/subclub/all")},parseSubClubs:fe,getSubClubStatistics:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(pe.a)(new Date,7),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;return k.a.get(T+E,{params:{subClubName:e,start:t.toISOString(),end:n.toISOString()}})},getEvents:function(e){return k.a.get(T+"/subclub/events",{params:{subClubName:e}})},getSubClubQuestions:function(e){return k.a.get(T+"/subclub/questionnaire-sub",J({subClubName:e}))},getRandomQuestionnaire:function(){return k.a.get(T+"/subclub/questionnaire",J())}},ve=function(){return k.a.get(T+A+F,J())},Ce=function(e){return k.a.post(T+"/subclub/enroll-subclub",e,J())},ye=function(e,t){return k.a.get(T+W+"/by-author",{params:{username:e,subClubName:t}})},we=function(e){return k.a.get(T+R+"/common-subclubs",J({username:e}))},Ne=function(e){return k.a.post(T+"/subclub/attend-event",null,J({eventId:e}))},Se=function(e,t,n){var a={subClubName:t,clubName:e};return k.a.post(T+A+"/request-subclub",a,J())},Ie=function(e){return k.a.post(T+R+"/mod-request",{},J({subClubName:e}))},ke=function(e){return k.a.get(T+A,{params:{username:e}})},Te=function(e){return k.a.post(T+"/subclub/enroll",e,J())},Be=function(e){return k.a.get(T+A+"/enrollment",J({username:e}))},Re=n(574),Ee=n(179),Le=n(511),De=n(268),We=n.n(De),qe=n(267),Ae=n.n(qe),Pe=n(508),Ue=Object(m.a)((function(e){return{divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionBody:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionRoot:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},sectionClub:{height:216,flexGrow:1,maxWidth:400},root:{},treeViewTitleContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},treeViewTitleIconContainer:{marginTop:e.spacing(.5),marginBottom:e.spacing(0),marginLeft:e.spacing(2),marginRight:e.spacing(0)}}})),Me=Object(m.a)((function(e){return{root:{color:e.palette.text.primary,"&:hover > $content":{backgroundColor:e.palette.action.hover},"&:focus > $content":{backgroundColor:"#afffea",color:"var(--tree-view-color)"},"&$selected > $content":{backgroundColor:"#00e3aa",color:"var(--tree-view-color)"},"&:focus > $content $label, &:hover > $content $label, &$selected > $content $label":{backgroundColor:"transparent"}},content:{color:e.palette.text.secondary,paddingTop:e.spacing(1),paddingBottom:e.spacing(1),paddingRight:e.spacing(1),fontWeight:e.typography.fontWeightMedium},group:{marginLeft:0,"& $content":{paddingLeft:e.spacing(2)}},expanded:{},selected:{},label:{fontWeight:"inherit",color:"inherit",marginLeft:e.spacing(2)},iconContainer:{marginLeft:e.spacing(1)}}}));function Fe(e,t,n){return Object(Y.jsx)(Re.a,{className:t.root,onClick:function(){n(e)},onLabelClick:function(e){e.preventDefault()},nodeId:e.text,label:Object(Y.jsx)(X.a,{className:t.treeItemText,children:e.text}),classes:{root:t.root,content:t.content,expanded:t.expanded,selected:t.selected,group:t.group,label:t.label,iconContainer:t.iconContainer},children:Array.isArray(e.children)?e.children.map((function(e){return Fe(e,t,n)})):null},e.text)}function He(e){var t=e.title,n=e.titleIcon,a=e.menuItems,c=e.callbackOnTreeItemClick,i=e.expandIcon,r=e.collapseIcon,s=e.defaultExpanded,o=e.expanded,l=e.selected,u=e.defaultSelected,d=e.emptyText,j=void 0===d?"There's nothing to look here.":d,b=Ue(),m=Me();return void 0===i&&(i=Object(Y.jsx)(Ae.a,{className:m.treeItemIcon})),void 0===r&&(r=Object(Y.jsx)(X.a,{children:Object(Y.jsx)(We.a,{className:m.treeItemIcon})})),void 0===n&&(n=Object(Y.jsx)(Pe.a,{})),Object(Y.jsx)(Ee.a,{variant:"outlined",children:Object(Y.jsxs)(X.a,{className:b.sectionRoot,children:[Object(Y.jsxs)(ae.a,{container:!0,children:[Object(Y.jsx)(X.a,{item:!0,className:b.treeViewTitleIconContainer,children:n},1),Object(Y.jsx)(ae.a,{item:!0,className:b.treeViewTitleContainer,children:Object(Y.jsx)(O.a,{variant:"h6",className:b.sectionTitle,children:t})},2)]}),Object(Y.jsx)(ce.a,{className:b.divider}),Object(Y.jsx)(Le.a,{defaultCollapseIcon:r,defaultExpanded:s,expanded:o,defaultSelected:u,selected:l,defaultExpandIcon:i,children:a&&0!==a.length?a.map((function(e,t){return Fe(e,m,c)})):Object(Y.jsx)(O.a,{className:m.label,children:j})})]})})}var Ge=n(512),Je=Object(m.a)((function(e){return{treeItemIcon:{marginLeft:e.spacing(2)}}}));function ze(e){var t=e.clubs,n=e.selected,a=e.callbackOnTreeItemClick,c=e.title,i=void 0===c?"Clubs & Sub-clubs":c,r=e.titleIcon,s=void 0===r?Object(Y.jsx)(Pe.a,{}):r,o=Je(),l={};t.forEach((function e(t){l[t.name]=t,Array.isArray(t.children)&&t.children.forEach(e)})),console.log(l);var u=function e(t){return{text:t.name,children:Array.isArray(t.children)?t.children.map((function(t){return e(t)})):null}},d=t.map((function(e){return u(e)}));return Object(Y.jsx)(He,{title:i,titleIcon:s,selected:n,expandIcon:Object(Y.jsx)(Ge.a,{className:o.treeItemIcon}),collapseIcon:Object(Y.jsx)(Ge.a,{className:o.treeItemIcon}),expanded:d.map((function(e){return e.text})),menuItems:d,callbackOnTreeItemClick:function(e){console.log("Menu Item:"),console.log(e),console.log("Club Obj:"),console.log(l[e.text]),a(l[e.text])}})}var _e=n(576),Ve=n(534),Qe=n(564),Ye=n(535),$e=n(536),Ke=n(537),Xe=n(538),Ze=n(539),et=n(514),tt=n(513),nt=n(159),at=n.n(nt),ct=n(515),it=Object(m.a)((function(e){return{divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},feedNameContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},avatarContainer:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2)},avatar:{color:e.palette.getContrastText("#00e3aa"),backgroundColor:"#00e3aa"},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionBody:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionRoot:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},dateCreatedContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},buttonContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},button:{flexGrow:1,marginRight:e.spacing(1),marginLeft:e.spacing(1)}}}));function rt(e){var t=e.feedInfo,n=e.stats,a=it(),c=Object(d.f)();return Object(Y.jsx)(Ee.a,{variant:"outlined",children:Object(Y.jsxs)(X.a,{className:a.sectionRoot,children:[Object(Y.jsxs)(ae.a,{container:!0,children:[Object(Y.jsx)(ae.a,{item:!0,className:a.avatarContainer,children:Object(Y.jsxs)(oe.a,{className:a.avatar,children:[" ",t.name[0].toUpperCase()," "]})},1),Object(Y.jsx)(ae.a,{item:!0,className:a.feedNameContainer,children:Object(Y.jsx)(O.a,{variant:"h5",children:t.name})},2)]}),Object(Y.jsx)(ce.a,{className:a.divider}),Object(Y.jsx)(O.a,{className:a.sectionBody,children:t.details}),!t.isCustom&&Object(Y.jsxs)(X.a,{children:[t.parentName&&Object(Y.jsxs)(X.a,{children:[Object(Y.jsx)(ce.a,{className:a.divider}),Object(Y.jsxs)(ae.a,{container:!0,justify:"center",children:[Object(Y.jsx)(ae.a,{item:!0,children:Object(Y.jsxs)(tt.a,{children:[Object(Y.jsx)(O.a,{variant:"h6",children:n?n.numberOfMembers:"0"}),Object(Y.jsx)(O.a,{variant:"body1",children:"members"})]})},1),Object(Y.jsx)(ae.a,{item:!0,children:Object(Y.jsxs)(tt.a,{children:[Object(Y.jsx)(O.a,{variant:"h6",children:n?n.numberOfPostsInLastWeek:"0"}),Object(Y.jsx)(O.a,{variant:"body1",children:"posts last week"})]})},2)]})]}),Object(Y.jsx)(ce.a,{className:a.divider}),Object(Y.jsxs)(ae.a,{container:!0,className:a.dateCreatedContainer,children:[Object(Y.jsx)(ae.a,{item:!0,children:Object(Y.jsxs)(tt.a,{children:[Object(Y.jsx)(at.a,{})," "]})},1),Object(Y.jsx)(ae.a,{item:!0,children:Object(Y.jsx)(O.a,{variant:"body1",children:"Created, ".concat(new Date(t.created).toLocaleString(navigator.language,{year:"numeric",month:"long",day:"numeric"}))})},2)]}),t.moderatorUsername===Q.getUsername()&&Object(Y.jsxs)(X.a,{children:[Object(Y.jsx)(ce.a,{className:a.divider}),Object(Y.jsx)(ae.a,{container:!0,className:a.buttonContainer,children:Object(Y.jsx)(et.a,{variant:"outlined",color:"primary",className:a.button,startIcon:Object(Y.jsx)(ct.a,{}),onClick:function(e){c.push("/mod")},children:"MODERATOR PANEL"})})]})]})]})})}var st=Object(m.a)((function(e){return{divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionBody:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionRoot:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));function ot(e){var t=e.events,n=st();return Object(Y.jsx)(Ee.a,{variant:"outlined",children:Object(Y.jsxs)(X.a,{className:n.sectionRoot,children:[Object(Y.jsx)(O.a,{variant:"h6",className:n.sectionTitle,children:"Events"}),Object(Y.jsx)(ce.a,{className:n.divider}),Object(Y.jsx)(O.a,{className:n.sectionBody,children:t})]})})}var lt=n(160),ut=n(161),dt=n(162),jt=n(175),bt=n(518),mt=n(129),gt=n(271),ht=n(272),pt=n.n(ht),Ot=(n(435),function(e,t,n,a){return k.a.get(T+W+"/feed",{params:{name:e,page:t,size:n,start:function(){switch(a){case"today":return Object(pe.a)(new Date,1).toISOString();case"new":return Object(pe.a)(new Date,30).toISOString();case"top":return Object(pe.a)(new Date,7).toISOString()}}(),end:(new Date).toISOString(),sort:function(){switch(a){case"today":return"voting,desc";case"new":return"created,desc";case"top":return"voting,desc"}}()}})}),ft=function(e){return k.a.post(T+"/post/create",e,J())},xt=function(e,t,n){return k.a.post(T+"/post/report",{author:e,content:t,postId:n},J())},vt=function(e){return k.a.post(T+"/post/upvote",null,J({postId:e}))},Ct=function(e){return k.a.post(T+"/post/downvote",null,J({postId:e}))},yt=function(e){return k.a.get(T+W,{params:{postId:e}})},wt=function(e){return k.a.post(T+"/post/delete-own-by-id",null,J({id:e}))},Nt=function(e){Object(dt.a)(n,e);var t=Object(jt.a)(n);function n(e){var a;return Object(lt.a)(this,n),(a=t.call(this,e)).onEditorStateChange=function(e){a.setState({editorState:e})},a.onTitleChange=function(e){a.setState({title:e.target.value})},a.handleClose=function(){a.resetForm(),a.props.setOpen(!1)},a.share=function(){var e={title:a.state.title,content:pt()(Object(mt.convertToRaw)(a.state.editorState.getCurrentContent())),parentName:a.props.subclub.name};ft(e).then((function(e){a.props.newPostEvent(),console.log("post created on dialog")})),a.handleClose()},a.resetForm=function(){a.setState({title:""}),a.setState({editorState:mt.EditorState.createEmpty()})},a.border_props={padding:1,borderColor:"grey.500"},a.state={editorState:mt.EditorState.createEmpty(),title:""},a}return Object(ut.a)(n,[{key:"render",value:function(){var e=this.state.editorState;return Object(Y.jsx)("div",{children:Object(Y.jsxs)(ue.a,{open:this.props.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md",children:[Object(Y.jsx)(de.a,{id:"form-dialog-title",children:"Create Post"}),Object(Y.jsxs)(je.a,{style:{height:"600px"},children:[Object(Y.jsx)(bt.a,{autoFocus:!0,margin:"dense",value:this.state.title,label:"Title",variant:"outlined",type:"input",onChange:this.onTitleChange,fullWidth:!0}),Object(Y.jsx)(X.a,Object(ne.a)(Object(ne.a)({border:1},this.border_props),{},{children:Object(Y.jsx)(gt.Editor,{style:{height:"auto"},editorState:e,placeholder:"Content",editorStyle:{height:"400px"},onEditorStateChange:this.onEditorStateChange})}))]}),Object(Y.jsxs)(be.a,{children:[Object(Y.jsx)(et.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(Y.jsx)(et.a,{onClick:this.share,color:"primary",children:"Share"})]})]})})}}]),n}(a.Component),St=n(575),It=n(522),kt=n(523),Tt=n(524),Bt=n(525),Rt=n(526),Et=n(572),Lt=function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)},Dt=Object(m.a)((function(e){return{root:{margin:e.spacing(0),padding:e.spacing(0)},listItem:{alignItems:"flex-start",margin:e.spacing(0),padding:e.spacing(0)},listItemText:{margin:e.spacing(0),padding:e.spacing(0)},iconAttended:{color:e.palette.primary.main},iconUnattended:{color:e.palette.text},iconButton:{margin:e.spacing(0)},chips:{marginTop:e.spacing(1),display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}}}));function Wt(e){var t=e.event,n=e.attendCallback,a=Dt();return Object(Y.jsx)(X.a,{className:a.root,children:Object(Y.jsxs)(re.a,{className:a.listItem,children:[Object(Y.jsx)(se.a,{children:Object(Y.jsx)(f.a,{variant:"outlined",className:a.iconButton,onClick:function(){return n(t.id)},children:t.hasAttended?Object(Y.jsx)(It.a,{className:a.iconAttended}):Object(Y.jsx)(kt.a,{className:a.iconUnattended})})}),Object(Y.jsx)(le.a,{className:a.listItemText,primary:t.title,secondary:Object(Y.jsx)(c.a.Fragment,{c:!0,children:Object(Y.jsxs)(ie.a,{children:[Object(Y.jsx)(O.a,{component:"span",variant:"body2",color:"textPrimary",children:"".concat(Object(Et.a)(new Date(t.date),new Date).toString())},0),Object(Y.jsx)(X.a,{children:t.details},1),Object(Y.jsxs)(X.a,{className:a.chips,children:[t.isOnline&&Object(Y.jsx)(St.a,{variant:"outlined",size:"small",color:"primary",label:"Online",icon:Object(Y.jsx)(Tt.a,{})}),Object(Y.jsx)(St.a,{variant:"outlined",size:"small",color:"primary",label:t.location,onClick:t.location.includes("http")?function(){return Lt(t.location)}:null,icon:Object(Y.jsx)(Bt.a,{})}),Object(Y.jsx)(St.a,{variant:"outlined",size:"small",color:"primary",label:t.utilLink,onClick:t.utilLink.includes("http")?function(){return Lt(t.utilLink)}:null,icon:Object(Y.jsx)(Rt.a,{})})]},2)]})})})]},t.id)})}var qt=Object(m.a)((function(e){return{paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},question:{marginBottom:e.spacing(1)}}}));function At(e){var t=e.children;return Object(Y.jsx)(ae.a,{item:!0,xs:12,sm:6,md:6,children:t})}function Pt(e){var t=qt();return Object(Y.jsx)("div",{children:Object(Y.jsxs)(ae.a,{container:!0,spacing:1,children:[Object(Y.jsx)(ae.a,{item:!0,sm:12,className:t.question,children:e.question}),Object(Y.jsx)(At,{children:e.answer1}),Object(Y.jsx)(At,{children:e.answer2}),Object(Y.jsx)(At,{children:e.answer3}),Object(Y.jsx)(At,{children:e.answer4})]})})}var Ut=Object(m.a)((function(e){return{paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.primary},question:{marginBottom:e.spacing(1)}}}));function Mt(e){var t=e.id,n=e.answerText,a=e.locked,c=e.callBack;return Object(Y.jsx)(et.a,{size:"medium",variant:a?"contained":"outlined",color:"primary",fullWidth:!0,onClick:function(){c(t)},disableElevation:!0,children:n})}function Ft(e){var t=e.question,n=e.callBackOnChange,i=Ut(),r=c.a.useState([!1,!1,!1,!1]),s=Object(j.a)(r,2),o=s[0],l=s[1],u=c.a.useState(),d=Object(j.a)(u,2),b=d[0],m=d[1];function g(e){var t=Object(te.a)(o);t[e]=!0,b!==e&&(t[b]=!1),l(t),m(e)}return Object(a.useEffect)((function(){void 0!==b&&n(t.id,t["answer"+(b+1).toString()])}),[b]),Object(Y.jsx)(Pt,{question:Object(Y.jsxs)(Ee.a,{elevation:3,variant:"outlined",className:i.paper,children:[" ",t.content," "]}),answer1:Object(Y.jsx)(Mt,{id:0,answerText:t.answer1,callBack:g,locked:o[0]}),answer2:Object(Y.jsx)(Mt,{id:1,answerText:t.answer2,callBack:g,locked:o[1]}),answer3:Object(Y.jsx)(Mt,{id:2,answerText:t.answer3,callBack:g,locked:o[2]}),answer4:Object(Y.jsx)(Mt,{id:3,answerText:t.answer4,callBack:g,locked:o[3]})})}var Ht=Object(m.a)((function(e){return{questionBox:{margin:e.spacing(5),marginTop:e.spacing(0)},divider:{marginTop:e.spacing(5)}}}));function Gt(e){var t=e.questions,n=e.callBackOnAnswer,c=Ht(),i=Object(a.useState)(t.map((function(e){return{id:e.id,groundTruth:"",parentName:e.parentName}}))),r=Object(j.a)(i,2),s=r[0],o=r[1];Object(a.useEffect)((function(){n(s)}),[]);var l=function(e,t){var a=s.findIndex((function(t){return t.id===e})),c=s[a];c.groundTruth=t;var i=Object(te.a)(s);i[a]=c,o(i),n(s)};return Object(Y.jsx)(ae.a,{style:{},children:t.map((function(e,n){return Object(Y.jsxs)(X.a,{className:c.questionBox,children:[Object(Y.jsxs)("h2",{style:{padding:"10px"},children:["Question ",n+1]}),Object(Y.jsx)(Ft,{question:e,callBackOnChange:l}),n+1!==t.length&&Object(Y.jsx)(ce.a,{className:c.divider})]},"q"+n.toString())}))})}function Jt(){return Object(Y.jsxs)(X.a,{padding:"50px",children:[Object(Y.jsx)("p",{children:"For enrolling a subclub, you have to take the subclub questionnaire."}),Object(Y.jsx)("p",{children:"If your score is higher than %50, then you can enroll."}),Object(Y.jsx)("p",{children:"After reading the following rules, click to the next button for taking the questionnaire"}),Object(Y.jsx)("h3",{style:{paddingTop:"50px",paddingBottom:"20px"},children:"Enterence Rules"}),Object(Y.jsxs)("ul",{children:[Object(Y.jsx)("li",{children:"Do not use internet or any other resources."}),Object(Y.jsx)("li",{children:"Give answer for all the questions, empty answers will be considered as wrong."}),Object(Y.jsx)("li",{children:"After submittion there will be not editing for answers."})]})]})}function zt(e){var t,n,a=e.response;e.setEnrolled;if(void 0===(a=a[0])["Interest Rate"])t="#ff8a93",n="Sorry, you failed before so you cannot enroll again!";else{var c=a["Interest Rate"];c>=50?(t="#00e3aa",n="Congrats! You are successfully enrolled with score: "+c):(t="#ff8a93",n="Sorry, you failed with score: "+c)}return Object(Y.jsx)(ae.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{height:"50vh"},children:Object(Y.jsx)(Ee.a,{elevation:3,variant:"outlined",style:{width:"75%",textAlign:"center",padding:"50px",backgroundColor:t},children:n})})}function _t(e){var t=e.clickedSubClub,n=e.open,c=e.setOpenDialog,i=e.setEnrolled,r=Object(a.useState)(!1),s=Object(j.a)(r,2),o=s[0],l=s[1],u=Object(a.useState)([]),d=Object(j.a)(u,2),b=d[0],m=d[1],g=Object(a.useState)([]),h=Object(j.a)(g,2),p=h[0],O=h[1],f=Object(a.useState)(!1),x=Object(j.a)(f,2),v=x[0],C=x[1],y=Object(a.useState)(),w=Object(j.a)(y,2),N=w[0],S=w[1];Object(a.useEffect)((function(){xe.getSubClubQuestions(t.name).then((function(e){m(e.data)}))}),[]);var I=function(e){l(!1),c(!1)};return Object(Y.jsxs)(ue.a,{open:n,onClose:I,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md",children:[Object(Y.jsxs)(de.a,{id:"form-dialog-title",children:["Enrolling to ",t.name]}),Object(Y.jsxs)(je.a,{style:{height:"600px"},children:[!o&&Object(Y.jsx)(Jt,{}),o&&Object(Y.jsxs)(X.a,{margin:"10px",children:[!v&&Object(Y.jsx)(Gt,{questions:b,callBackOnAnswer:O}),v&&Object(Y.jsx)(zt,{response:N,setEnrolled:i})]})]}),Object(Y.jsxs)(be.a,{children:[Object(Y.jsx)(et.a,{onClick:I,color:"primary",children:"Exit"}),!v&&Object(Y.jsx)(et.a,{onClick:function(e){o?(console.log("given answers on submit",p),Ce(p).then((function(e){console.log("Response: "+e.data),"Success"===e.data[0].Message?i(!0):i(!1),S(e.data)})).finally((function(){C(!0)}))):l(!0)},color:"primary",children:"Next"})]})]})}var Vt=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function Qt(e){var t=e.open,n=e.setOpenDialog,c=e.club,i=Object(a.useState)(""),r=Object(j.a)(i,2),s=r[0],o=r[1],l=Object(a.useState)(""),u=Object(j.a)(l,2),d=u[0],b=u[1],m=Object(a.useState)(!1),g=Object(j.a)(m,2),h=g[0],p=g[1],O=Object(a.useState)(!1),f=Object(j.a)(O,2),x=f[0],v=f[1],C=function(e){n(!1)};return Object(Y.jsxs)(ue.a,{open:t,onClose:C,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md",children:[Object(Y.jsxs)(de.a,{id:"form-dialog-title",children:["Request SubClub for ",c.name]}),Object(Y.jsxs)(je.a,{children:[Object(Y.jsx)(bt.a,{autoFocus:!0,required:!0,error:h,label:"Sub-club name",variant:"outlined",type:"input",onChange:function(e){o(e.target.value),p(!1)},fullWidth:!0}),Object(Y.jsx)(bt.a,{style:{marginTop:"5vh"},id:"outlined-multiline",label:"Details",multiline:!0,rowsMax:4,onChange:function(e){b(e.target.value)},variant:"outlined",fullWidth:!0})]}),Object(Y.jsxs)(be.a,{children:[Object(Y.jsx)(et.a,{onClick:C,color:"primary",children:"Exit"}),Object(Y.jsx)(et.a,{onClick:function(e){""!==s&&void 0!==s?Se(c.name,s,d).then((function(e){console.log(e.data),v(!0),Vt(1e3).then((function(){n(!1)}))})).catch((function(e){console.log(e)})):p(!0)},disabled:x,color:"primary",children:"Request"})]})]})}var Yt=n(170),$t=n.n(Yt),Kt=Object(m.a)((function(e){return{divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionBody:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionRoot:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},titleContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},titleIconContainer:{marginTop:e.spacing(.5),marginBottom:e.spacing(0),marginLeft:e.spacing(2),marginRight:e.spacing(0)}}}));function Xt(e){var t=e.titleIcon,n=e.title,a=e.children,c=Kt();return Object(Y.jsx)(Ee.a,{variant:"outlined",children:Object(Y.jsxs)(X.a,{className:c.sectionRoot,children:[Object(Y.jsxs)(ae.a,{container:!0,children:[Object(Y.jsx)(X.a,{item:!0,className:c.titleIconContainer,children:t},1),Object(Y.jsx)(ae.a,{item:!0,className:c.titleContainer,children:Object(Y.jsx)(O.a,{variant:"h6",className:c.sectionTitle,children:n})},2)]}),Object(Y.jsx)(ce.a,{className:c.divider}),a]})})}var Zt=n(527),en=n(528),tn=n(532),nn=n(529),an=n(274),cn=n.n(an),rn=n(275),sn=n.n(rn),on=n(277),ln=n.n(on),un=n(276),dn=n.n(un),jn=n(273),bn=n(288),mn=n(530),gn=n(533),hn=n(570),pn=n(565),On=n(563),fn=n(531),xn=Object(m.a)((function(e){return{root:{},media:{},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:e.palette.secondary.main,cursor:"pointer"},voteLabel:{flexGrow:1},postCardContent:{margin:0,padding:0},contentBox:{marginRight:e.spacing(2)},contentTypography:{maxWidth:e.spacing(30)}}}));function vn(e){var t=e.props,n=xn(),i=Object(d.f)(),r=Object(a.useState)(t.voting),s=Object(j.a)(r,2),o=s[0],l=s[1],u=c.a.useState(!1),b=Object(j.a)(u,2),m=b[0],g=b[1],h=c.a.useState("success"),p=Object(j.a)(h,2),x=p[0],v=p[1],C=c.a.useState("Welcome back!"),y=Object(j.a)(C,2),w=y[0],N=y[1],S=function(e,t){"clickaway"!==t&&g(!1)},I=c.a.useState(null),k=Object(j.a)(I,2),T=k[0],B=k[1],R=Boolean(T),E=Object(a.useState)(!1),L=Object(j.a)(E,2),D=L[0],W=L[1],q=Object(a.useState)(""),A=Object(j.a)(q,2),P=A[0],U=A[1],M=function(){W(!1),B(null)},F=function(){return i.push("/profile/".concat(t.author))};return Object(Y.jsxs)(X.a,{children:[Object(Y.jsxs)(Zt.a,{variant:"outlined",className:n.root,children:[Object(Y.jsx)(en.a,{avatar:Object(Y.jsx)(oe.a,{onClick:F,"aria-label":"recipe",className:n.avatar,children:t.author.charAt(0).toUpperCase()}),action:Object(Y.jsxs)(nn.a,{children:[Object(Y.jsx)(f.a,{"aria-label":"share",children:Object(Y.jsx)(cn.a,{})}),Object(Y.jsx)(f.a,{"aria-label":"settings",onClick:function(e){B(e.currentTarget)},children:Object(Y.jsx)(sn.a,{})}),Object(Y.jsxs)(bn.a,{id:"post-menu",anchorEl:T,keepMounted:!0,open:R,onClose:function(){B(null)},children:[Object(Y.jsx)(mn.a,{onClick:function(){W(!0)},children:"Report"},"report"),Q.getUsername()===t.author?Object(Y.jsx)(mn.a,{onClick:function(){wt(t.id).then((function(e){console.log(e.data),window.location.reload()}))},children:"Delete"},"delete"):null]})]}),title:Object(Y.jsx)(X.a,{style:{cursor:"pointer"},onClick:F,children:t.author}),subheader:"".concat(Object(On.a)(Object(fn.a)(t.created),new Date,{addSuffix:!0})," on ").concat(t.parentName)}),Object(Y.jsx)(tn.a,{className:n.postCardContent,children:Object(Y.jsxs)(ae.a,{container:!0,spacing:1,children:[Object(Y.jsxs)(ae.a,{item:!0,xs:1,style:{textAlign:"center"},children:[Object(Y.jsx)(f.a,{"aria-label":"up-vote",onClick:function(){vt(t.id).then((function(e){console.log(e),""===e.data?(v("error"),N("You are not authorized to vote on this post!"),g(!0)):l(e.data.voting)})).catch((function(e){console.error(e),v("error"),403===e.response.status?N("You are not authorized to vote on this post!"):N("Something went wrong!"),g(!0)}))},children:Object(Y.jsx)(dn.a,{})}),Object(Y.jsx)(X.a,{display:"flex",flexDirection:"center",children:Object(Y.jsx)(O.a,{className:n.voteLabel,variant:"body1",color:"textSecondary",children:o})}),Object(Y.jsx)(f.a,{"aria-label":"down-vote",onClick:function(){Ct(t.id).then((function(e){""===e.data?(v("error"),N("You are not authorized to vote on this post!"),g(!0)):l(e.data.voting)})).catch((function(e){console.error(e),v("error"),403===e.response.status?N("You are not authorized to vote on this post!"):N("Something went wrong!"),g(!0)}))},children:Object(Y.jsx)(ln.a,{})})]}),Object(Y.jsx)(ae.a,{item:!0,xs:11,children:Object(Y.jsxs)(X.a,{className:n.contentBox,children:[Object(Y.jsx)(O.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(Y.jsx)(O.a,{variant:"body2",color:"textSecondary",children:Object(Y.jsx)(X.a,{className:n.media,children:Object(jn.a)(t.content)})})]})})]})})]}),Object(Y.jsxs)(ue.a,{open:D,onClose:M,"aria-labelledby":"report-dialog-title",children:[Object(Y.jsx)(de.a,{id:"report-dialog-title",children:"Report"}),Object(Y.jsxs)(je.a,{children:[Object(Y.jsx)(gn.a,{children:"Why should we remove it? Please write down your rationale."}),Object(Y.jsx)(bt.a,{autoFocus:!0,margin:"dense",id:"name",label:"Rationale",type:"multiline",fullWidth:!0,onChange:function(e){U(e.target.value)}})]}),Object(Y.jsxs)(be.a,{children:[Object(Y.jsx)(et.a,{onClick:M,color:"primary",children:"Cancel"}),Object(Y.jsx)(et.a,{onClick:function(){xt(Q.getUsername(),P,t.id).then((function(e){console.log(e),M(),v("success"),N("Thanks for trying to make CoSpace a better place!"),g(!0)})).catch((function(e){console.error(e),v("error"),N("Something went wrong while reporting the post! Try again later."),g(!0)}))},color:"primary",children:"Report"})]})]}),Object(Y.jsx)(hn.a,{open:m,autoHideDuration:5e3,onClose:S,children:Object(Y.jsx)(pn.a,{onClose:S,severity:x,children:w})})]})}var Cn=Object(m.a)((function(e){return{root:{margin:e.spacing(0)},feedItem:{marginBottom:e.spacing(2)}}}));function yn(e){var t=e.posts,n=Cn(),a=Object(d.f)();return Object(Y.jsx)("div",{children:Object(Y.jsx)(ie.a,{className:n.root,children:t?t.length>0?t.map((function(e,t){return Object(Y.jsx)(X.a,{className:n.feedItem,children:Object(Y.jsx)(vn,{props:e})},e.id)})):Object(Y.jsx)(tt.a,{children:Object(Y.jsx)(O.a,{variant:"h5",children:"It's quiet around here..."})}):a.push("/notfound")})})}var wn=Object(m.a)((function(e){return{gridContainer:{},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},feedItem:{marginBottom:e.spacing(2)},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},feedTitle:{flexGrow:1},gridItem:{maxHeight:"100vh",overflow:"auto"},gridLeftColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(2.5),marginRight:e.spacing(0)},gridMiddleColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1)},gridRightColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(0),marginRight:e.spacing(2.5)},sectionBox:{marginBottom:e.spacing(2)},sortingFeedToggleGroup:{flexGrow:1,marginRight:e.spacing(2)},list:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},button:{marginTop:e.spacing(2)},avatarContainer:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2)},avatar:{color:e.palette.getContrastText("#00e3aa"),backgroundColor:"#00e3aa"},pagination:{display:"flex",marginRight:e.spacing(2)}}})),Nn=[{isCustom:!0,name:"Popular",details:"Popular posts in all clubs and sub-clubs right now.",children:[]}];var Sn=function(){var e=wn(),t=Object(d.g)(),n=t.feedName,i=void 0===n?"Popular":n,r=t.sort,s=void 0===r?"today":r,o=t.page,l=void 0===o?1:o,u=Object(d.f)();console.log("URL params:",i,s,l);var b=Object(a.useState)({feedInfo:{name:i},sorting:s,currentPage:l,clubs:Nn,subClubs:[],enrolledSubClubs:[],events:[],userInfo:{},posts:[]}),m=Object(j.a)(b,2),g=m[0],h=m[1],p=function(e){return!e.isCustom&&e.parentName};Object(a.useEffect)((function(){Q.hasLoggedIn()&&ke(Q.getUsername()).then((function(e){console.log("Member info:",e.data);var t=e.data;h((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{userInfo:t})}))}))}),[]),Object(a.useEffect)((function(){p(g.feedInfo)&&xe.getSubClubStatistics(g.feedInfo.name,Object(pe.a)(new Date,7),new Date).then((function(e){console.log("Fetched stats of ".concat(g.feedInfo.name),e.data);var t=e.data;h((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{stats:{numberOfMembers:t.numberOfMembers,numberOfPostsInLastWeek:t.numberOfPostsInTimeFrame}})}))})).catch((function(e){console.error("Error while fetching sub-club statistics:",e)}))}),[g.feedInfo]),Object(a.useEffect)((function(){xe.getSubClubs().then((function(e){console.log("Parsing sub-clubs"),console.log(e.data);var t=e.data;xe.parseSubClubs(t).then((function(e){console.log("Parsed club tree:",e),Nn.slice().reverse().forEach((function(t){e.splice(0,0,t)})),h((function(n){var a,c=e.filter((function(e){return e.name===n.feedInfo.name}));0===c.length?a=t.filter((function(e){return e.name===n.feedInfo.name}))[0]:a=c[0];return Object(ne.a)(Object(ne.a)({},n),{},{feedInfo:a,clubs:e,subClubs:t})}))}))}))}),[]),Object(a.useEffect)((function(){Q.hasLoggedIn()&&ve().then((function(e){console.log("Enrolled sub-clubs:",e.data);var t=e.data;h((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{enrolledSubClubs:t})}))}))}),[]),Object(a.useEffect)((function(){p(g.feedInfo)&&xe.getEvents(g.feedInfo.name).then((function(e){console.log("Events of ".concat(g.feedInfo.name),e.data);var t=e.data;if(Q.hasLoggedIn()){var n=t.map((function(e){return e.hasAttended=0!==g.userInfo.attendedEvents.filter((function(t){return t.id===e.id})).length,e}));h((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{events:n})}))}else h((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{events:t})}))})).catch((function(e){console.error("Error while fetching events:",e)}))}),[g.feedInfo,g.userInfo]),Object(a.useEffect)((function(){g.feedInfo.name&&Ot(g.feedInfo.name,g.currentPage-1,10,g.sorting).then((function(e){console.log("Fetched posts of ".concat(g.feedInfo.name));var t=e.data;h((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{posts:t})}))})).catch((function(e){console.error(e),console.log("No posts in ".concat(g.feedInfo.name)),h((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{posts:[]})}))}))}),[g.feedInfo,g.currentPage,g.sorting]);var O=c.a.useState(!1),f=Object(j.a)(O,2),x=f[0],v=f[1],C=c.a.useState(""),y=Object(j.a)(C,2),w=y[0],N=y[1],S=function(e){return!!g.enrolledSubClubs&&0!==g.enrolledSubClubs.filter((function(t){return t.name===e.name})).length},I=function(){if(null!==g.subClubs&&null!==g.enrolledSubClubs&&null!==g.userInfo){var e=[],t=new Date(g.userInfo.created);return g.subClubs.forEach((function(n){g.enrolledSubClubs.forEach((function(a){a.name!==n.name&&new Date(n.created)>t&&e.push(n)}))})),e}return[]},k=Object(a.useState)(!1),T=Object(j.a)(k,2),B=T[0],R=T[1],E=Object(a.useState)(!1),L=Object(j.a)(E,2),D=L[0],W=L[1],q=Object(a.useState)(!1),A=Object(j.a)(q,2),P=A[0],U=A[1];return Object(Y.jsxs)("div",{children:[Object(Y.jsxs)(ae.a,{container:!0,spacing:1,className:e.gridContainer,children:[Object(Y.jsx)(ae.a,{item:!0,xs:3,className:e.gridItem,children:Object(Y.jsx)(X.a,{className:e.gridLeftColumnBox,children:Object(Y.jsx)(X.a,{className:e.sectionBox,children:Object(Y.jsx)(ze,{title:"Browse",selected:g.feedInfo.name,callbackOnTreeItemClick:function(e){h((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{feedInfo:e})})),u.push("/feed/".concat(e.name))},clubs:g.clubs})})})}),Object(Y.jsx)(ae.a,{item:!0,xs:6,className:e.gridItem,children:Object(Y.jsxs)(X.a,{className:e.gridMiddleColumnBox,children:[Object(Y.jsxs)(X.a,{display:"flex",children:[Object(Y.jsxs)(_e.a,{className:e.sortingFeedToggleGroup,value:g.sorting,exclusive:!0,onChange:function(e,t){h((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{sorting:t})}))},"aria-label":"text alignment",children:[Object(Y.jsx)(Ve.a,{value:"today","aria-label":"left aligned",children:Object(Y.jsx)(Ye.a,{})}),Object(Y.jsx)(Ve.a,{value:"new","aria-label":"centered",children:Object(Y.jsx)($e.a,{})}),Object(Y.jsx)(Ve.a,{value:"top","aria-label":"right aligned",children:Object(Y.jsx)(Ke.a,{})})]}),Object(Y.jsx)(Qe.a,{page:g.currentPage,onChange:function(e,t){console.log("Page:",t),h((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{currentPage:t})}))},className:e.pagination,count:10,color:"primary",variant:"outlined",shape:"rounded"}),!(g.feedInfo.isCustom||!g.feedInfo.parentName)&&Object(Y.jsx)(et.a,{size:"medium",variant:"contained",color:"primary",disabled:!S(g.feedInfo),startIcon:Object(Y.jsx)(Xe.a,{}),onClick:function(){R(!0)},disableElevation:!0,children:"CREATE POST"})]}),Object(Y.jsx)(ce.a,{className:e.divider}),Object(Y.jsx)(yn,{posts:g.posts})]})}),Object(Y.jsx)(ae.a,{item:!0,xs:3,className:e.gridItem,children:Object(Y.jsxs)(X.a,{className:e.gridRightColumnBox,children:[Object(Y.jsx)(X.a,{className:e.sectionBox,children:void 0!==g.feedInfo.name&&Object(Y.jsx)(rt,{feedInfo:g.feedInfo,stats:g.stats})}),g.feedInfo.parentName&&Object(Y.jsx)(X.a,{className:e.sectionBox,children:Object(Y.jsx)(ot,{events:Object(Y.jsx)(ie.a,{children:g.events&&0!==g.events.length?g.events.map((function(e){return Object(Y.jsx)(Wt,{event:e,attendCallback:function(e){Ne(e).then((function(e){console.log("Successfully attended event:",e.data);var t=g.events.slice();t.filter((function(t){return t.id===e.data.id})).forEach((function(e){e.hasAttended=!0})),h((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{events:t})}))})).catch((function(e){console.error("Error while attending event:",e)}))}},e.id)})):"There are no events announced as of now."})})}),!S(g.feedInfo)&&!(g.feedInfo.isCustom||!g.feedInfo.parentName)&&Object(Y.jsx)(X.a,{children:Object(Y.jsx)(et.a,{size:"medium",variant:"contained",color:"primary",startIcon:Object(Y.jsx)(Ze.a,{}),onClick:function(){W(!0)},fullWidth:!0,disableElevation:!0,children:"ENROLL"})}),S(g.feedInfo)&&Object(Y.jsx)(X.a,{className:e.button,children:Object(Y.jsxs)(et.a,{size:"medium",variant:"outlined",color:"primary",startIcon:Object(Y.jsx)($t.a,{}),onClick:function(){u.push("/meta/".concat(g.feedInfo.name))},fullWidth:!0,disableElevation:!0,children:[g.feedInfo.name," META"]})}),!g.feedInfo.isCustom&&!g.feedInfo.parentName&&Object(Y.jsx)(X.a,{className:e.button,children:Object(Y.jsx)(et.a,{size:"medium",variant:"contained",color:"primary",startIcon:Object(Y.jsx)(Ze.a,{}),onClick:function(){U(!0)},fullWidth:!0,disableElevation:!0,children:"REQUEST NEW SUB-CLUB"})}),S(g.feedInfo)&&!(g.feedInfo.isCustom||!g.feedInfo.parentName)&&g.feedInfo.moderatorUsername!==Q.getUsername()&&Object(Y.jsx)(X.a,{className:e.button,children:Object(Y.jsx)(et.a,{size:"medium",variant:"contained",color:"primary",startIcon:Object(Y.jsx)(Ze.a,{}),onClick:function(){Ie(g.feedInfo.name).then((function(e){v(!0),console.log(e.data),N(e.data)})).catch((function(e){401===e.response.status&&(console.log(e.response.data),N(e.response.data),v(!0))}))},fullWidth:!0,disableElevation:!0,children:"REQUEST TO BE A MODERATOR"})}),"Popular"===g.feedInfo.name&&Q.hasJwtToken()&&I().length>0&&Object(Y.jsx)(X.a,{children:Object(Y.jsx)(Xt,{titleIcon:Object(Y.jsx)($e.a,{}),title:"Newly created sub-clubs",children:Object(Y.jsx)(ie.a,{children:I().map((function(t){return Object(Y.jsxs)(re.a,{button:!0,onClick:function(){return u.push("/feed/".concat(t.name))},children:[Object(Y.jsx)(se.a,{className:e.avatarContainer,children:Object(Y.jsx)(oe.a,{className:e.avatar,children:t.name[0].toUpperCase()})}),Object(Y.jsx)(le.a,{primary:t.name,secondary:"Sub-club of ".concat(t.parentName)})]},t.name)}))})})})]})})]}),Object(Y.jsx)(Nt,{open:B,setOpen:R,newPostEvent:function(e){u.replace("/feed/".concat(g.feedInfo.name,"/new")),window.location.reload()},subclub:g.feedInfo}),D&&Object(Y.jsx)(_t,{open:D,setOpenDialog:W,setEnrolled:function(e){e&&h((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{enrolledSubClubs:[].concat(Object(te.a)(g.enrolledSubClubs),[g.feedInfo])})}))},clickedSubClub:g.feedInfo}),P&&Object(Y.jsx)(Qt,{open:P,setOpenDialog:U,club:g.feedInfo}),Object(Y.jsxs)(ue.a,{open:x,onClose:function(){v(!1)},"aria-labelledby":"form-dialog-title",children:[Object(Y.jsx)(de.a,{id:"form-dialog-title",children:"Moderator Request"}),Object(Y.jsx)(je.a,{children:Object(Y.jsx)("p",{children:w})}),Object(Y.jsx)(be.a,{children:Object(Y.jsx)(et.a,{onClick:function(){v(!1)},color:"primary",children:"OK"})})]})]})},In=function(e,t,n){return k.a.get(T+"/admin/search-member",J({query:e,page:t,size:n}))},kn=function(e){return k.a.get(T+P+F,J({username:e}))},Tn=function(){return k.a.get(T+P+U,J())},Bn=function(){return k.a.get(T+"/admin/subclub-requests",J())},Rn=function(e){return k.a.put(T+P+R,e,J())},En=function(e,t){var n={name:e,details:t};return k.a.post(T+"/admin/create-club",n,J())},Ln=function(e){return k.a.post(T+P+"/delete-sub-club",null,J({id:e}))},Dn=function(e){return k.a.post(T+"/admin/create-sub-club",e,J())},Wn=function(e){return k.a.post(T+P+M,null,J({reportId:e}))},qn=function(){return k.a.get(T+P+"/mod-requests",J())},An=function(e){return k.a.post(T+P+"/assign-moderator",null,J({subClubName:e}))},Pn=n(542),Un=n(113),Mn=n.n(Un),Fn=n(540),Hn=n(278),Gn=n.n(Hn);function Jn(e){var t=e.info,n=Gn()(t);return Object(Y.jsx)(Xt,{title:t.username,titleIcon:Object(Y.jsx)(Fn.a,{}),children:Object(Y.jsx)(ie.a,{children:Object.keys(n).map((function(e){return"username"!==e?Object(Y.jsx)(re.a,{children:Object(Y.jsx)(le.a,{children:"".concat(e,": ").concat(n[e])})},e):null}))})})}var zn=n(541),_n=Object(m.a)((function(e){return{avatarContainer:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2)},avatar:{color:e.palette.getContrastText("#00e3aa"),backgroundColor:"#00e3aa"}}}));function Vn(){var e=_n();return Object(Y.jsxs)(re.a,{children:[Object(Y.jsx)(se.a,{className:e.avatarContainer,children:Object(Y.jsx)(oe.a,{className:e.avatar,children:Object(Y.jsx)(zn.a,{})})}),Object(Y.jsx)(le.a,{primary:"No results found"})]},"no-result")}var Qn=Object(m.a)((function(e){return{root:{width:"100%"},inline:{display:"inline"},paper:{paddingTop:0,paddingBottom:0},button:{marginRight:e.spacing(2)},title:{marginBottom:e.spacing(1),marginTop:e.spacing(2)},gridReportInfoContainer:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),marginBottom:e.spacing(2)},gridHorizontalSection:{paddingRight:e.spacing(2)},postFeedItemWrapper:{}}}));var Yn=function(){var e=Qn(),t=Object(a.useState)(null),n=Object(j.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(null),o=Object(j.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)(null),b=Object(j.a)(d,2),m=b[0],g=b[1],h=Object(a.useState)({}),p=Object(j.a)(h,2),f=p[0],x=p[1];return Object(a.useEffect)((function(){Tn().then((function(e){r(e.data)}))}),[m]),Object(Y.jsxs)(ae.a,{container:!0,children:[Object(Y.jsxs)(ae.a,{item:!0,xs:4,children:[Object(Y.jsx)(O.a,{variant:"h6",className:e.title,children:"List of Reports"}),Object(Y.jsx)(Ee.a,{variant:"outlined",className:e.paper,children:Object(Y.jsx)(ie.a,{className:e.root,children:null===i||0===i.length?Object(Y.jsx)(Vn,{}):i.map((function(t){return Object(Y.jsx)("div",{children:Object(Y.jsxs)(re.a,{button:!0,selected:l&&t.postId===l.id,alignItems:"flex-start",onClick:function(e){return function(e,t){g(t),yt(t.postId).then((function(e){u(e.data),In(e.data.author,0,1).then((function(e){x(e.data[0])}))}))}(0,t)},children:[Object(Y.jsx)(Pn.a,{children:Object(Y.jsx)(Mn.a,{})}),Object(Y.jsx)(le.a,{primary:"Reported by: ".concat(t.author),secondary:Object(Y.jsxs)(c.a.Fragment,{children:[Object(Y.jsx)(O.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary",children:"Reason: "}),t.content]})})]},t.postId)})}))})})]},1),Object(Y.jsx)(ae.a,{className:e.gridReportInfoContainer,container:!0,xs:8,children:l?Object(Y.jsx)(X.a,{children:Object(Y.jsxs)(ae.a,{item:!0,xs:6,children:[Object(Y.jsx)(O.a,{variant:"h6",className:e.title,children:"Reported Post"}),Object(Y.jsx)(X.a,{className:e.postFeedItemWrapper,children:l?Object(Y.jsx)(vn,{props:l},l.postId):null}),Object(Y.jsxs)(ae.a,{container:!0,children:[Object(Y.jsxs)(ae.a,{item:!0,xs:6,className:e.gridHorizontalSection,children:[Object(Y.jsx)(O.a,{variant:"h6",className:e.title,children:"Author Information"}),f?Object(Y.jsx)(Jn,{info:f}):null]},1),Object(Y.jsxs)(ae.a,{item:!0,xs:6,className:e.gridHorizontalSection,children:[Object(Y.jsx)(O.a,{variant:"h6",className:e.title,children:"Actions"}),Object(Y.jsx)(ae.a,{container:!0,spacing:1,children:Object(Y.jsx)(ae.a,{item:!0,className:e.button,children:Object(Y.jsx)(et.a,{variant:"outlined",onClick:function(){Wn(m.id).then((function(e){console.log(e.data),g(null),u(null),x(null)}))},children:"REMOVE Report"})},2)})]},2)]})]})}):Object(Y.jsx)(O.a,{className:e.title,children:"Select a report to see the details."})},2)]})},$n=n(455),Kn=n(568),Xn=Object(m.a)((function(e){return{root:{width:"50%",marginBottom:e.spacing(2)},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},form:{display:"flex",marginTop:e.spacing(2),marginBottom:e.spacing(2)},memberInfo:{marginBottom:e.spacing(2)}}}));var Zn=function(){var e=Xn(),t=Object(a.useState)([]),n=Object(j.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(null),s=Object(j.a)(r,2),o=s[0],l=s[1];return Object(a.useEffect)((function(){null!==o&&kn(o.username).then((function(e){l(Object(ne.a)(Object(ne.a)({},o),{},{"sub-clubs":e.data.map((function(e){return e.name}))}))}))}),[]),Object(Y.jsxs)(X.a,{className:e.root,children:[Object(Y.jsx)($n.a,{className:e.form,variant:"filled",children:Object(Y.jsx)(Kn.a,{id:"member-search-box",onInput:function(e){In(e.target.value,0,10).then((function(t){e.target.value.length>1?i(t.data):""===e.target.value&&i([])}))},onChange:function(e,t){console.log("On select member:",t),l(t)},options:c,getOptionLabel:function(e){return e.username},renderInput:function(e){return Object(Y.jsx)(bt.a,Object(ne.a)(Object(ne.a)({},e),{},{label:"Search member",variant:"filled"}))}})}),o&&Object(Y.jsx)(Jn,{className:e.memberInfo,info:o})]})},ea=n(52),ta=n(456),na=n(457),aa=n(543),ca=n(544),ia=n(566),ra=Object(m.a)((function(e){return{paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},question:{marginBottom:e.spacing(1)},radioGroup:{display:"flex",flexDirection:"row",flexGrow:"1"},radioButton:{marginLeft:e.spacing(3)}}}));function sa(e){var t=e.id,n=e.callBackOnChange,a=["Q","A","B","C","D"];return Object(Y.jsx)(X.a,{display:"flex",flexDirection:"row",margin:"4px",children:Object(Y.jsx)(bt.a,{autoFocus:!0,required:!0,variant:"outlined",margin:"dense",id:a[t],label:a[t],type:"email",onChange:function(e){n(a[t],e.target.value)},fullWidth:!0})})}function oa(e){var t=e.callBackOnSave,n=e.qid,a=ra(),i=c.a.useState({content:"",answer1:"",answer2:"",answer3:"",answer4:"",groundTruth:""}),r=Object(j.a)(i,2),s=r[0],o=r[1],l=new Map;l.set("A","answer1"),l.set("B","answer2"),l.set("C","answer3"),l.set("D","answer4"),l.set("Q","content");var u=c.a.useState(""),d=Object(j.a)(u,2),b=d[0],m=d[1];function g(e,t){var n=l.get(e),a=Object(ne.a)({},s);a[n]=t,o(a)}return Object(Y.jsxs)(X.a,{children:[Object(Y.jsx)(Pt,{question:Object(Y.jsx)(sa,{id:0,callBackOnChange:g}),answer1:Object(Y.jsx)(sa,{id:1,callBackOnChange:g}),answer2:Object(Y.jsx)(sa,{id:2,callBackOnChange:g}),answer3:Object(Y.jsx)(sa,{id:3,callBackOnChange:g}),answer4:Object(Y.jsx)(sa,{id:4,callBackOnChange:g})}),Object(Y.jsxs)(X.a,{display:"flex",justifyContent:"space-between",marginTop:"10px",flexDirection:"row",children:[Object(Y.jsxs)($n.a,{component:"fieldset",children:[Object(Y.jsx)(na.a,{component:"legend",children:"Answer"}),Object(Y.jsxs)(aa.a,{className:a.radioGroup,"aria-label":"realAnswer",name:"realAnswer",value:b,onChange:function(e){var t=l.get(e.target.value),n=s[t];o(Object(ne.a)(Object(ne.a)({},s),{},{groundTruth:n})),m(e.target.value)},children:[Object(Y.jsx)(ca.a,{className:a.radioButton,value:"A",control:Object(Y.jsx)(ia.a,{}),label:"A"}),Object(Y.jsx)(ca.a,{className:a.radioButton,value:"B",control:Object(Y.jsx)(ia.a,{}),label:"B"}),Object(Y.jsx)(ca.a,{className:a.radioButton,value:"C",control:Object(Y.jsx)(ia.a,{}),label:"C"}),Object(Y.jsx)(ca.a,{className:a.radioButton,value:"D",control:Object(Y.jsx)(ia.a,{}),label:"D"})]})]}),Object(Y.jsx)(et.a,{size:"medium",style:{margin:"10px"},variant:"outlined",color:"primary",onClick:function(){t(n,s)},disableElevation:!0,children:" Save"})]})]})}var la=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"60vh"},questions:{},divider:{margin:e.spacing(3)}}}));function ua(e){var t=e.onSubmitTrigger,n=e.callBackQuestions,c=e.oldQuestions,i=la(),r=Object(a.useState)(1),s=Object(j.a)(r,2),o=s[0],l=s[1],u=Object(a.useState)([]),d=Object(j.a)(u,2),b=d[0],m=d[1];function g(e,t){if(function(e){return""!==e.content&&""!==e.answer1&&""!==e.answer2&&""!==e.answer3&&""!==e.answer4&&""!==e.groundTruth}(t)){var n=Object(te.a)(b);e===b.length?n.push(t):n[e]=t,m(n)}}return Object(a.useEffect)((function(){var e=b.concat(c);n(e)}),[t]),Object(Y.jsxs)(ae.a,{className:i.root,children:[Object(Y.jsx)(X.a,{component:"div",overflow:"visible",flexGrow:1,display:"flex",flexDirection:"column",children:Object(Y.jsx)(a.Fragment,{children:Object(te.a)(Array(o)).map((function(e,t){return Object(Y.jsxs)(X.a,{children:[Object(Y.jsxs)("h2",{children:["Question ",t+1]}),Object(Y.jsx)(oa,{qid:t,callBackOnSave:g}),t+1!==o&&Object(Y.jsx)(ce.a,{className:i.divider})]},"q"+t.toString())}))})}),Object(Y.jsx)(et.a,{size:"medium",style:{marginTop:"20px"},variant:"contained",color:"primary",startIcon:Object(Y.jsx)(Ze.a,{}),onClick:function(e){l(o+1)},disableElevation:!0})]})}var da=n(545),ja=n(463),ba=n(459),ma=n(546),ga=n(547),ha=n(548),pa=Object(m.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:300},selectEmpty:{marginTop:e.spacing(2)},root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)},tagText:{display:"flex",width:100,flexWrap:"wrap"},typography:{marginLeft:e.spacing(1)},button:{marginLeft:e.spacing(1),marginBottom:e.spacing(2)},iconButton:{margin:e.spacing(2)}}}));var Oa=function(){var e=pa(),t=c.a.useState(!1),n=Object(j.a)(t,2),i=n[0],r=n[1],s=Object(ea.a)(),o=Object(da.a)(s.breakpoints.down("sm")),l=c.a.useState(!1),u=Object(j.a)(l,2),d=u[0],b=u[1],m=function(){b(!1)},g=c.a.useState(!1),h=Object(j.a)(g,2),p=h[0],f=h[1],x=c.a.useState(!1),v=Object(j.a)(x,2),C=v[0],y=v[1],w=c.a.useState([]),N=Object(j.a)(w,2),S=N[0],I=N[1],k=function(){f(!1)},T=Object(a.useState)([]),B=Object(j.a)(T,2),R=B[0],E=B[1];Object(a.useEffect)((function(){xe.getSubClubs().then((function(e){console.log("All subclasses",e.data),E(e.data)}))}),[]);var L=c.a.useState(""),D=Object(j.a)(L,2),W=D[0],q=D[1],A=c.a.useState({created:"2021-05-26T14:43:28.090+00:00",details:"",id:102,moderatorUsername:"",name:"",parentName:"",questions:[],rating:0}),P=Object(j.a)(A,2),U=P[0],M=P[1];return Object(Y.jsxs)(X.a,{children:[Object(Y.jsxs)($n.a,{variant:"filled",className:e.formControl,children:[Object(Y.jsx)(ta.a,{children:"Sub-club"}),Object(Y.jsxs)(ja.a,{value:W.name,onChange:function(e){q(e.target.value),M(R.filter((function(t){return t.name===e.target.value}))[0]),""===e.target.value?r(!1):r(!0)},inputProps:{name:""},children:[Object(Y.jsx)("option",{"aria-label":"None",value:""}),R.map((function(e){return Object(Y.jsx)("option",{value:e.name,children:e.name})}))]}),Object(Y.jsx)(ba.a,{children:"Select a sub-club to edit"})]}),i?Object(Y.jsxs)(ae.a,{container:!0,spacing:3,children:[Object(Y.jsx)(ae.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"}}),Object(Y.jsx)(ae.a,{item:!0,xs:5,style:{maxHeight:"100vh",overflow:"auto"}}),Object(Y.jsx)(ae.a,{item:!0,xs:1,style:{maxHeight:"100vh",overflow:"auto"}}),Object(Y.jsx)(ae.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Y.jsx)(X.a,{children:Object(Y.jsx)(bt.a,{required:!0,fullWidth:!0,id:"standard-full-width",label:"Sub-club name",variant:"filled",style:{margin:8},placeholder:"Sub-club name",margin:"normal",InputLabelProps:{shrink:!0},value:U?U.name:"",onChange:function(e){var t=JSON.parse(JSON.stringify(U));t.name=e.target.value,M(t)}})})}),Object(Y.jsx)(ae.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Y.jsx)(X.a,{children:Object(Y.jsx)(bt.a,{required:!0,id:"standard-full-width",label:"Sub-club description",style:{margin:8},variant:"filled",placeholder:"Sub-club description",helperText:"Description should include bla bla",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:U?U.details:"",onChange:function(e){var t=JSON.parse(JSON.stringify(U));t.details=e.target.value,M(t)}})})}),Object(Y.jsx)(ae.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Y.jsxs)(X.a,{children:[Object(Y.jsx)(et.a,{variant:"contained",color:"primary",className:e.button,startIcon:Object(Y.jsx)(ma.a,{}),onClick:function(){f(!0)},children:"Create a new questionnaire"}),S.length<3&&Object(Y.jsxs)(O.a,{className:e.typography,children:["Please add ",Math.max(0,3-S.length)," or more questions."]}),Object(Y.jsxs)(ue.a,{open:p,onClose:k,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md",children:[Object(Y.jsx)(de.a,{id:"form-dialog-title",children:"Create a new questionnaire"}),Object(Y.jsxs)(je.a,{children:[Object(Y.jsx)(gn.a,{children:"To edit this sub-club, please create a new questionnaire;"}),Object(Y.jsx)(ua,{onSubmitTrigger:C,oldQuestions:S,callBackQuestions:I})]}),Object(Y.jsxs)(be.a,{children:[Object(Y.jsx)(et.a,{onClick:k,color:"primary",children:"Cancel"}),Object(Y.jsx)(et.a,{onClick:function(){y(!C),f(!1),console.log("new questions:",S);var e=JSON.parse(JSON.stringify(U));e.questions=S,M(e)},color:"primary",children:"Add"})]})]})]})}),Object(Y.jsx)(ae.a,{item:!0,xs:3,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Y.jsxs)(X.a,{children:[Object(Y.jsx)(et.a,{variant:"contained",color:"primary",className:e.button,startIcon:Object(Y.jsx)(ga.a,{}),onClick:function(){b(!0)},children:"Apply"}),Object(Y.jsx)(et.a,{variant:"contained",color:"primary",className:e.button,startIcon:Object(Y.jsx)(ha.a,{}),onClick:function(){Ln(U.id).then((function(e){window.location.reload()}))},children:"Delete this sub-club"})]})}),Object(Y.jsx)(X.a,{children:Object(Y.jsxs)(ue.a,{fullScreen:o,open:d,onClose:m,"aria-labelledby":"responsive-dialog-title",children:[Object(Y.jsx)(de.a,{id:"responsive-dialog-title",children:"Create a club with the following information?"}),Object(Y.jsx)(je.a,{children:Object(Y.jsxs)(gn.a,{children:[Object(Y.jsxs)(O.a,{children:["Club name: ",U.name]}),Object(Y.jsxs)(O.a,{children:["Club description: ",U.details," "]})]})}),Object(Y.jsxs)(be.a,{children:[Object(Y.jsx)(et.a,{autoFocus:!0,onClick:m,color:"primary",children:"Cancel"}),Object(Y.jsx)(et.a,{onClick:function(){var e=JSON.parse(JSON.stringify(U));e.questions=S,M(e);var t={id:U.id,name:U.name,parentName:U.parentName,questions:S,details:U.details};Rn(t).then((function(e){Vt(2e3).then((function(){return window.location.reload()}))})),b(!1)},color:"primary",autoFocus:!0,children:"Apply changes"})]})]})})]}):null]})},fa=n(280),xa=n.n(fa),va=Object(m.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:300},selectEmpty:{marginTop:e.spacing(2)},root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)},tagText:{display:"flex",width:100,flexWrap:"wrap"},questionnaireDialog:{minHeight:"80vh",maxHeight:"80vh"},selectFromReqs:{marginLeft:"5vh"},typography:{marginLeft:e.spacing(2),marginTop:e.spacing(1)},button:{marginLeft:e.spacing(1),marginBottom:e.spacing(2)},iconButton:{margin:e.spacing(2)}}}));var Ca=function(){var e=va(),t=c.a.useState(!1),n=Object(j.a)(t,2),i=n[0],r=n[1],s=Object(d.f)(),o=c.a.useState(!1),l=Object(j.a)(o,2),u=l[0],b=l[1],m=c.a.useState(""),g=Object(j.a)(m,2),h=g[0],p=g[1],x=c.a.useState(""),v=Object(j.a)(x,2),C=v[0],y=v[1],w=c.a.useState(!1),N=Object(j.a)(w,2),S=N[0],I=N[1],k=function(){y(""),p(""),b(!1)},T=c.a.useState(!1),B=Object(j.a)(T,2),R=B[0],E=B[1],L=c.a.useState(!1),D=Object(j.a)(L,2),W=D[0],q=D[1],A=c.a.useState([]),P=Object(j.a)(A,2),U=P[0],M=P[1],F=function(){E(!1)},H=c.a.useState([]),G=Object(j.a)(H,2),J=G[0],z=G[1];Object(a.useEffect)((function(){Bn().then((function(e){z(e.data)}))}),[]);var _=c.a.useState({}),V=Object(j.a)(_,2),Q=(V[0],V[1]),$=c.a.useState(""),K=Object(j.a)($,2),Z=K[0],ee=K[1],te=c.a.useState([]),ne=Object(j.a)(te,2),ce=ne[0],ie=ne[1],re=c.a.useState(""),se=Object(j.a)(re,2),oe=se[0],le=se[1];Object(a.useEffect)((function(){xe.getClubs().then((function(e){ie(e.data.map((function(e){return e.name})))}))}),[S]);var me=c.a.useState(""),ge=Object(j.a)(me,2),he=ge[0],pe=ge[1],Oe=c.a.useState([]),fe=Object(j.a)(Oe,2),ve=(fe[0],fe[1],c.a.useState("")),Ce=Object(j.a)(ve,2);return Ce[0],Ce[1],Object(a.useEffect)((function(){U.length>=3&&""!==Z&&""!==oe&&""!==he?r(!0):r(!1)}),[U,Z,oe,he]),Object(Y.jsxs)(X.a,{children:[Object(Y.jsxs)(ue.a,{open:u,onClose:k,"aria-labelledby":"form-dialog-title",children:[Object(Y.jsx)(de.a,{id:"form-dialog-title",children:"Add a new parent club"}),Object(Y.jsxs)(je.a,{children:[Object(Y.jsx)(gn.a,{children:"To add a new club to this website, please enter a club name and a club description."}),Object(Y.jsx)(bt.a,{autoFocus:!0,margin:"dense",id:"name",label:"Club name",onChange:function(e){p(e.target.value)},fullWidth:!0}),Object(Y.jsx)(bt.a,{autoFocus:!0,margin:"dense",id:"name",label:"Club description",onChange:function(e){y(e.target.value)},fullWidth:!0})]}),Object(Y.jsxs)(be.a,{children:[Object(Y.jsx)(et.a,{onClick:k,color:"primary",children:"Cancel"}),Object(Y.jsx)(et.a,{disabled:""===h||""===C,onClick:function(){En(h,C).then((function(e){I(!S)})),k()},color:"primary",children:"Add"})]})]}),Object(Y.jsxs)(ae.a,{container:!0,spacing:3,children:[Object(Y.jsx)(ae.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Y.jsx)(X.a,{children:Object(Y.jsx)("div",{children:Object(Y.jsxs)($n.a,{variant:"filled",className:e.formControl,children:[Object(Y.jsx)(ta.a,{children:"Sub-club requests"}),Object(Y.jsxs)(ja.a,{onChange:function(e){if(""===e.target.value||void 0===e.target.value)return le(""),void ee("");var t=JSON.parse(e.target.value);Q(t),ee(t.subClubName),ce.includes(t.clubName)?le(t.clubName):le("")},children:[Object(Y.jsx)("option",{"aria-label":"None",value:""}),J.map((function(e,t){return Object(Y.jsxs)("option",{value:JSON.stringify(e),children:[e.clubName," / ",e.subClubName]},t)}))]}),Object(Y.jsx)(ba.a,{children:"Select a sub-club request"})]})})})}),Object(Y.jsx)(ae.a,{item:!0,xs:5,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Y.jsx)(X.a,{children:Object(Y.jsxs)($n.a,{variant:"filled",className:e.formControl,children:[Object(Y.jsx)(ta.a,{children:"A parent club"}),Object(Y.jsxs)(ja.a,{required:!0,onChange:function(e){le(e.target.value)},value:oe,children:[Object(Y.jsx)("option",{"aria-label":"None",value:""}),ce.map((function(e,t){return Object(Y.jsx)("option",{value:e,children:e},t)}))]}),Object(Y.jsx)(ba.a,{children:"Select a parent club or add a new one"})]})})}),Object(Y.jsx)(ae.a,{item:!0,xs:1,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Y.jsx)(f.a,{className:e.iconButton,"aria-label":"add",onClick:function(){b(!0)},children:Object(Y.jsx)(xa.a,{})})}),Object(Y.jsx)(ae.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Y.jsx)(X.a,{children:Object(Y.jsx)("div",{children:Object(Y.jsx)(bt.a,{required:!0,fullWidth:!0,id:"standard-full-width",variant:"filled",label:"Sub-club name",style:{margin:8},placeholder:"Sub-club name",margin:"normal",InputLabelProps:{shrink:!0},value:Z,onChange:function(e){ee(e.target.value),J.map((function(e){return e.subClubName})).includes(e.target.value)}})})})}),Object(Y.jsx)(ae.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:Object(Y.jsx)(X.a,{children:Object(Y.jsx)("div",{children:Object(Y.jsx)(bt.a,{required:!0,variant:"filled",id:"standard-full-width",label:"Sub-club description",style:{margin:8},placeholder:"Sub-club description",helperText:"Description should include bla bla",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:he,onChange:function(e){pe(e.target.value)}})})})}),Object(Y.jsxs)(ae.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:[Object(Y.jsxs)(X.a,{children:[Object(Y.jsxs)(X.a,{display:"flex",flexDirection:"row",children:[Object(Y.jsx)(et.a,{variant:"contained",color:"primary",startIcon:Object(Y.jsx)(ma.a,{}),className:e.button,onClick:function(){E(!0)},children:"Add a questionnaire"}),U.length<3&&Object(Y.jsxs)(O.a,{className:e.typography,children:["Please add ",Math.max(0,3-U.length)," or more questions."]})]}),Object(Y.jsxs)(ue.a,{open:R,onClose:F,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md",children:[Object(Y.jsx)(de.a,{id:"form-dialog-title",children:"Create a questionnaire"}),Object(Y.jsxs)(je.a,{children:[Object(Y.jsx)(gn.a,{children:"To add a new sub-club to this website, please create a questionnaire;"}),Object(Y.jsx)(ua,{onSubmitTrigger:W,oldQuestions:U,callBackQuestions:M})]}),Object(Y.jsxs)(be.a,{children:[Object(Y.jsx)(et.a,{onClick:F,color:"primary",children:"Cancel"}),Object(Y.jsx)(et.a,{onClick:function(){q(!W),E(!1)},color:"primary",children:"Add"})]})]})]}),Object(Y.jsx)(et.a,{variant:"contained",color:"primary",startIcon:Object(Y.jsx)(Ze.a,{}),className:e.button,disabled:!i,onClick:function(e){Dn({name:Z,parentName:oe,questions:U,details:he}).then((function(e){console.log(e.data),Vt(2e3).then((function(e){s.push("/feed/".concat(Z,"/today"))}))}))},children:"Create"})]})]})]})},ya=n(549),wa=Object(m.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:300},selectEmpty:{marginTop:e.spacing(2)},root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)},tagText:{display:"flex",width:100,flexWrap:"wrap"},typography:{marginLeft:e.spacing(1),marginTop:e.spacing(1)},button:{marginLeft:e.spacing(1),marginBottom:e.spacing(2)},iconButton:{margin:e.spacing(2)}}}));var Na=function(){var e=wa(),t=Object(a.useState)(!1),n=Object(j.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(!1),o=Object(j.a)(s,2),l=o[0],u=o[1],d=(Object(ea.a)(),Object(a.useState)([])),b=Object(j.a)(d,2),m=b[0],g=b[1],h=c.a.useState({}),p=Object(j.a)(h,2),O=p[0],f=p[1],x=c.a.useState({}),v=Object(j.a)(x,2),C=v[0],y=v[1];return Object(a.useEffect)((function(){qn().then((function(e){g(e.data)}))}),[]),Object(Y.jsxs)(X.a,{children:[Object(Y.jsx)(X.a,{children:Object(Y.jsxs)("div",{children:[Object(Y.jsxs)($n.a,{variant:"filled",className:e.formControl,children:[Object(Y.jsx)(ta.a,{htmlFor:"age-native-helper",children:"Sub-club"}),Object(Y.jsxs)(ja.a,{onChange:function(e){f(e.target.value),""===e.target.value?r(!1):r(!0),u(!1)},inputProps:{name:""},children:[Object(Y.jsx)("option",{"aria-label":"None",value:""}),m.map((function(e){return Object(Y.jsx)("option",{value:e,children:e})}))]}),Object(Y.jsx)(ba.a,{children:"Select a sub-club"})]}),0===m.length&&Object(Y.jsx)("h3",{children:"There are no moderation request."})]})}),i&&Object(Y.jsxs)(ae.a,{container:!0,spacing:3,children:[Object(Y.jsx)(ae.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto",marginTop:"5vh"},children:Object(Y.jsx)(et.a,{className:e.button,size:"medium",variant:"contained",color:"primary",startIcon:Object(Y.jsx)(ya.a,{}),disabled:l,onClick:function(){An(O).then((function(e){""===e.data?y(""):(f(e.data),y({Moderator:e.data.moderatorUsername})),u(!0)}))},disableElevation:!0,children:"SELECT A RANDOM MODERATOR"})}),Object(Y.jsx)(ae.a,{item:!0,xs:6,style:{maxHeight:"100vh",overflow:"auto"},children:l&&Object(Y.jsx)("div",{children:""!==C&&Object(Y.jsx)(Jn,{info:C})})})]})]})};function Sa(){return Object(Y.jsxs)(d.c,{children:[Object(Y.jsx)(d.a,{path:"/admin/create-club",children:Object(Y.jsx)(Ca,{})}),Object(Y.jsx)(d.a,{path:"/admin/manage-club",children:Object(Y.jsx)(Oa,{})}),Object(Y.jsx)(d.a,{path:"/admin/view-member-info",children:Object(Y.jsx)(Zn,{})}),Object(Y.jsx)(d.a,{path:"/admin/moderator-requests",children:Object(Y.jsx)(Na,{})}),Object(Y.jsx)(d.a,{path:"/admin/reported-posts",children:Object(Y.jsx)(Yn,{})})]})}var Ia=[{text:"Clubs & Sub-clubs",children:[{text:"Create club",path:"/admin/create-club"},{text:"Manage club",path:"/admin/manage-club"}]},{text:"Members",children:[{text:"View member information",path:"/admin/view-member-info"},{text:"Assign new moderators",path:"/admin/moderator-requests"}]},{text:"Reports",children:[{text:"Reported posts",path:"/admin/reported-posts"}]}],ka=Object(m.a)((function(e){return{root:{},divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},gridLeftColumnBox:{paddingTop:e.spacing(3),paddingLeft:e.spacing(2.5),paddingRight:e.spacing(0)},gridRightColumnBox:{paddingTop:e.spacing(3),paddingLeft:e.spacing(2.5),paddingRight:e.spacing(2.5)}}}));var Ta=function(e){var t=e.children,n=ka(),a=Object(d.f)();return Object(Y.jsxs)(ae.a,{container:!0,className:n.root,children:[Object(Y.jsx)(ae.a,{item:!0,xs:3,className:n.gridLeftColumnBox,children:Object(Y.jsx)(X.a,{children:Object(Y.jsx)(He,{title:"Menu",titleIcon:Object(Y.jsx)(ct.a,{}),menuItems:Ia,defaultExpanded:Ia.map((function(e){return e.text})),callbackOnTreeItemClick:function(e){console.log(e),console.log(e.path),a.push(e.path)}})})}),Object(Y.jsxs)(ae.a,{item:!0,xs:9,className:n.gridRightColumnBox,children:[Object(Y.jsx)(O.a,{variant:"h4",children:"Administration Panel"}),Object(Y.jsx)(ce.a,{className:n.divider}),t]})]})};var Ba=function(){return Object(Y.jsx)(Ta,{children:Object(Y.jsx)(Sa,{})})},Ra=n(553),Ea=n(550),La=function(){return k.a.get(T+A+H,J())},Da=function(e,t){return k.a.post(T+A+H,{receiverUsername:e,content:t},J())},Wa=n(281),qa=n.n(Wa),Aa=n(551),Pa=Object(m.a)((function(e){return{divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionBody:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionRoot:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},avatarContainer:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2)},usernameContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},avatar:{color:e.palette.getContrastText("#00e3aa"),backgroundColor:"#00e3aa"},buttonContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},button:{flexGrow:1,marginRight:e.spacing(1),marginLeft:e.spacing(1)},dateRegisteredContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"}}}));function Ua(e){var t=e.hasCommonSubClub,n=e.isSelf,a=e.username,c=e.timeRegistered,i=e.numberOfPostsInLastWeek;console.log("Populating AboutMember section: "+a);var r=Object(d.f)(),s=Pa();return Object(Y.jsx)(Ee.a,{variant:"outlined",children:Object(Y.jsxs)(X.a,{className:s.sectionRoot,children:[Object(Y.jsxs)(ae.a,{container:!0,className:s.usernameContainer,children:[Object(Y.jsx)(ae.a,{item:!0,className:s.avatarContainer,children:Object(Y.jsxs)(oe.a,{className:s.avatar,children:[" ",a[0].toUpperCase()," "]})},1),Object(Y.jsx)(ae.a,{item:!0,children:Object(Y.jsx)(O.a,{variant:"h5",children:a})},2)]}),void 0!==i&&Object(Y.jsxs)(X.a,{children:[Object(Y.jsx)(ce.a,{className:s.divider}),Object(Y.jsx)(ae.a,{container:!0,className:s.divider,justify:"center",children:Object(Y.jsx)(ae.a,{item:!0,children:Object(Y.jsxs)(tt.a,{children:[Object(Y.jsx)(O.a,{variant:"h6",children:i}),Object(Y.jsx)(O.a,{variant:"body1",children:"posts last week"})]})},2)})]}),Object(Y.jsx)(ce.a,{className:s.divider}),Object(Y.jsxs)(ae.a,{container:!0,className:s.dateRegisteredContainer,children:[Object(Y.jsx)(ae.a,{item:!0,children:Object(Y.jsxs)(tt.a,{children:[Object(Y.jsx)(at.a,{})," "]})},1),Object(Y.jsx)(ae.a,{item:!0,children:Object(Y.jsx)(O.a,{variant:"body1",children:"Registered on ".concat(new Date(c).toLocaleString(navigator.language,{year:"numeric",month:"long",day:"numeric"}))})},2)]}),Object(Y.jsx)(ce.a,{className:s.divider}),n?null:Object(Y.jsx)(ae.a,{container:!0,className:s.buttonContainer,children:Object(Y.jsx)(Ea.a,{title:t?"Send a private message!":"You are not a member of a common club or sub club!",children:Object(Y.jsx)("span",{className:s.buttonContainer,children:Object(Y.jsx)(et.a,{startIcon:Object(Y.jsx)(qa.a,{}),disabled:!t,variant:"outlined",color:"primary",className:s.button,onClick:function(){Da(a,"").then((function(e){console.log(e.data),r.push("/pm")}))},children:"Send Message"})})})}),Q.getUsername()===a&&Object(Y.jsx)(X.a,{children:Object(Y.jsxs)(ae.a,{container:!0,className:s.buttonContainer,children:[Object(Y.jsx)(et.a,{variant:"outlined",color:"primary",startIcon:Object(Y.jsx)(Aa.a,{}),className:s.button,onClick:function(e){Q.logout(),r.push("/sign-in")},children:"Logout"}),Q.getAuthRoles().includes("ADMIN")&&Object(Y.jsx)(et.a,{variant:"outlined",color:"secondary",startIcon:Object(Y.jsx)(ct.a,{}),className:s.button,onClick:function(e){r.push("/admin")},children:"Admin Panel"})]})})]})})}var Ma=n(552),Fa=Object(m.a)((function(e){return{divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionBody:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},sectionRoot:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},avatarContainer:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2)},usernameContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},avatar:{color:e.palette.getContrastText("#00e3aa"),backgroundColor:"#00e3aa"},buttonContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},button:{flexGrow:1,marginRight:e.spacing(1),marginLeft:e.spacing(1)},dateRegisteredContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"}}}));function Ha(e){var t=e.interests,n=e.isSelf,a=(Object(d.f)(),Fa()),c="Interests";return c=n?"My "+c:"Common "+c,Object(Y.jsx)(X.a,{children:Object(Y.jsxs)(Xt,{titleIcon:Object(Y.jsx)(Ma.a,{}),title:c,children:[0!==t.length&&Object(Y.jsx)(ie.a,{children:t.map((function(e){return Object(Y.jsxs)(re.a,{children:[Object(Y.jsx)(se.a,{className:a.avatarContainer,children:Object(Y.jsx)(oe.a,{className:a.avatar,children:e.subClubName[0].toUpperCase()})}),Object(Y.jsx)(le.a,{primary:e.subClubName,secondary:"% ".concat(e.interestRate)})]})}))}),0===t.length&&Object(Y.jsx)("p",{style:{marginLeft:"2vh"},children:n?"Not enrolled to any sub-club yet.":"No common interests."})]})})}var Ga=Object(m.a)((function(e){return{gridContainer:{},divider:{marginTop:e.spacing(1),marginBottom:e.spacing(2)},feedItem:{marginBottom:e.spacing(2)},sectionTitle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},feedTitle:{flexGrow:1},gridItem:{maxHeight:"100vh",overflow:"auto"},gridLeftColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(2.5),marginRight:e.spacing(0)},gridMiddleColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1)},gridRightColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(0),marginRight:e.spacing(2.5)},sectionBox:{marginBottom:e.spacing(2)},sortingFeedToggleGroup:{flexGrow:1,marginRight:e.spacing(2)},list:{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}));function Ja(){var e=Object(d.g)().username;console.log("Profile Page: "+e);var t=Ga(),n=Object(a.useState)(null),c=Object(j.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)([]),o=Object(j.a)(s,2),l=o[0],u=o[1],b=Object(a.useState)([]),m=Object(j.a)(b,2),g=m[0],h=m[1],p=Object(a.useState)({name:"Loading..."}),f=Object(j.a)(p,2),x=f[0],v=f[1],C=Object(a.useState)([]),y=Object(j.a)(C,2),w=y[0],N=y[1];Object(a.useEffect)((function(){ke(e).then((function(e){r(e.data)}))}),[e]),Object(a.useEffect)((function(){we(e).then((function(t){console.log("Common sub-clubs of ".concat(e," and ").concat(Q.getUsername()),t.data);var n={};t.data.forEach((function(e){e.parentName in n||(n[e.parentName]=[]),n[e.parentName].push(e)}));var a=[];for(var c in n)a.push({name:c,children:n[c]});u(a)})).catch((function(t){console.error("Error while fetching common sub-clubs of ".concat(e," and ").concat(Q.getUsername()),t)}))}),[e]);Object(a.useEffect)((function(){l.length>0&&v(l[0].children[0])}),[l]),Object(a.useEffect)((function(){ye(e,x.name).then((function(t){console.log("Posts of ".concat(e," on ").concat(x.name),t.data),h(t.data)})).catch((function(t){console.error("Error while fetching posts of ".concat(e," on ").concat(x.name),t)}))}),[e,x]),Object(a.useEffect)((function(){Be(e).then((function(t){console.log("Interests of ".concat(e),t.data),N(t.data)})).catch((function(t){console.error("Error while fetching interests of ".concat(e),t)}))}),[e]);var S=Q.getUsername()===e;return Object(Y.jsx)("div",{children:Object(Y.jsxs)(ae.a,{container:!0,spacing:1,className:t.gridContainer,children:[Object(Y.jsx)(ae.a,{item:!0,xs:3,className:t.gridItem,children:Object(Y.jsx)(X.a,{className:t.gridLeftColumnBox,children:Object(Y.jsx)(X.a,{className:t.sectionBox,children:Object(Y.jsx)(ze,{titleIcon:S?Object(Y.jsx)(Ra.a,{}):Object(Y.jsx)(Pe.a,{}),callbackOnTreeItemClick:function(e){void 0!==e.parentName&&v(e)},clubs:l,selected:x.name,title:S?"Your Clubs":"Common Clubs"})})})}),Object(Y.jsx)(ae.a,{item:!0,xs:6,className:t.gridItem,children:Object(Y.jsxs)(X.a,{className:t.gridMiddleColumnBox,children:[Object(Y.jsx)(X.a,{display:"flex",children:Object(Y.jsxs)(O.a,{variant:"h4",children:[i?i.username:"User","'s posts","Loading..."===x.name?"":" in ".concat(x.name)]})}),Object(Y.jsx)(ce.a,{className:t.divider}),Object(Y.jsx)(yn,{posts:g})]})}),Object(Y.jsx)(ae.a,{item:!0,xs:3,className:t.gridItem,children:Object(Y.jsxs)(X.a,{className:t.gridRightColumnBox,children:[Object(Y.jsx)(X.a,{className:t.sectionBox,children:Object(Y.jsx)(Ua,{hasCommonSubClub:l.length>0,isSelf:S,username:e,timeRegistered:i?i.created:null})}),Object(Y.jsx)(X.a,{className:t.sectionBox,children:Object(Y.jsx)(Ha,{isSelf:S,interests:w})})]})})]})})}var za=Object(m.a)({root:{display:"flex",marginTop:"5%",flexDirection:"column",alignItems:"center"},button:{marginTop:"2%"}});function _a(){var e=za(),t=Object(d.f)();return Object(Y.jsxs)(tt.a,{component:"main",className:e.root,children:[Object(Y.jsx)(O.a,{variant:"h2",children:"Page not found :("}),Object(Y.jsx)(X.a,{className:e.button,children:Object(Y.jsx)(et.a,{variant:"outlined",onClick:function(){return t.push("/")},children:"Go to home page"})})]})}var Va=n(554),Qa=n(172),Ya=n.n(Qa);function $a(){return Object(Y.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(Y.jsx)(Va.a,{color:"inherit",href:"https://github.com/hu-overengineers",children:"overengineers"})," ",(new Date).getFullYear(),"."]})}var Ka=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Xa(){var e=Ka(),t=Object(d.f)(),n=c.a.useState(""),a=Object(j.a)(n,2),i=a[0],r=a[1],s=c.a.useState(""),o=Object(j.a)(s,2),u=o[0],b=o[1],m=c.a.useState(""),g=Object(j.a)(m,2),h=g[0],p=g[1],f=c.a.useState(!1),x=Object(j.a)(f,2),v=x[0],C=x[1],y=c.a.useState("success"),w=Object(j.a)(y,2),N=w[0],S=w[1],I=c.a.useState(""),k=Object(j.a)(I,2),T=k[0],B=k[1],R=function(e,t){"clickaway"!==t&&C(!1)};return Object(Y.jsxs)(tt.a,{component:"main",maxWidth:"xs",children:[Object(Y.jsx)(l.a,{}),Object(Y.jsxs)("div",{className:e.paper,children:[Object(Y.jsx)(oe.a,{className:e.avatar,children:Object(Y.jsx)(Ya.a,{})}),Object(Y.jsx)(O.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(Y.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(Y.jsxs)(ae.a,{container:!0,spacing:2,children:[Object(Y.jsx)(ae.a,{item:!0,xs:12,children:Object(Y.jsx)(bt.a,{variant:"outlined",required:!0,fullWidth:!0,id:"uname",label:"Username",name:"uname",autoComplete:"username",value:u,onChange:function(e){b(e.target.value)}})}),Object(Y.jsx)(ae.a,{item:!0,xs:12,children:Object(Y.jsx)(bt.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email address",name:"email",autoComplete:"email",value:h,onChange:function(e){p(e.target.value)}})}),Object(Y.jsx)(ae.a,{item:!0,xs:12,children:Object(Y.jsx)(bt.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){r(e.target.value)}})})]}),Object(Y.jsx)(et.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),console.log("Sign up button clicked."),Q.register({email:h,username:u,password:i}).then((function(e){console.log("Response: "+e.data.toString()),S("success"),B("You've registered successfully!"),C(!0),Vt(1e3).then((function(){t.push("/sign-in")}))})).catch((function(e){S("error"),409===e.response.status?B(e.response.data):B("Something went wrong: "+e.response.data.toString()),C(!0)}))},children:"Sign Up"}),Object(Y.jsx)(ae.a,{container:!0,justify:"flex-end",children:Object(Y.jsx)(ae.a,{item:!0,children:Object(Y.jsx)(Va.a,{href:"/sign-in",variant:"body2",children:"Already have an account? Sign in."})})})]})]}),Object(Y.jsx)(X.a,{mt:5,children:Object(Y.jsx)($a,{})}),Object(Y.jsx)(hn.a,{open:v,autoHideDuration:6e3,onClose:R,children:Object(Y.jsx)(pn.a,{onClose:R,severity:N,children:T})})]})}var Za=n(567),ec=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function tc(){var e=ec(),t=Object(d.f)(),n=c.a.useState(""),a=Object(j.a)(n,2),i=a[0],r=a[1],s=c.a.useState(""),o=Object(j.a)(s,2),u=o[0],b=o[1],m=c.a.useState(!1),g=Object(j.a)(m,2),h=g[0],p=g[1],f=c.a.useState("success"),x=Object(j.a)(f,2),v=x[0],C=x[1],y=c.a.useState("Welcome back!"),w=Object(j.a)(y,2),N=w[0],S=w[1],I=function(e,t){"clickaway"!==t&&p(!1)};return Object(Y.jsxs)(tt.a,{component:"main",maxWidth:"xs",children:[Object(Y.jsx)(l.a,{}),Object(Y.jsxs)("div",{className:e.paper,children:[Object(Y.jsxs)(oe.a,{className:e.avatar,children:[" ",Object(Y.jsx)(Ya.a,{})," "]}),Object(Y.jsx)(O.a,{component:"h1",variant:"h5",children:" Sign in "}),Object(Y.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(Y.jsx)(bt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){b(e.target.value)}}),Object(Y.jsx)(bt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){r(e.target.value)}}),Object(Y.jsx)(ca.a,{control:Object(Y.jsx)(Za.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(Y.jsx)(et.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),console.log("Sign in button clicked."),Q.login(u,i).then((function(e){console.log("Response: "+JSON.stringify(e.data)),Q.saveJwtToken(e.data.token),Q.saveAuthRoles(e.data.auth),C("success"),S("Welcome back!"),p(!0),Vt(1e3).then((function(){0===e.data.enrollmentCount?t.push("/subclub-recommendation"):t.push("/")}))})).catch((function(e){C("error"),void 0!==e.response&&401===e.response.status?S("Entered credentials are incorrect."):S("Something went wrong!"),p(!0)}))},children:"Sign In"}),Object(Y.jsxs)(ae.a,{container:!0,children:[Object(Y.jsx)(ae.a,{item:!0,xs:!0,children:Object(Y.jsx)(Va.a,{href:"/password-reset",variant:"body2",children:" Forgot password? "})}),Object(Y.jsx)(ae.a,{item:!0,children:Object(Y.jsxs)(Va.a,{href:"/sign-up",variant:"body2",children:[" ","Don't have an account? Sign up."," "]})})]})]})]}),Object(Y.jsx)(X.a,{mt:8,children:Object(Y.jsx)($a,{})}),Object(Y.jsx)(hn.a,{open:h,autoHideDuration:6e3,onClose:I,children:Object(Y.jsx)(pn.a,{onClose:I,severity:v,children:N})})]})}var nc=n(556),ac=n(283),cc=n.n(ac),ic=n(199),rc=n.n(ic),sc=n(282),oc=n.n(sc),lc=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},infoText:{marginTop:e.spacing(3)}}}));function uc(){var e=lc(),t=Object(d.f)(),n=c.a.useState(""),a=Object(j.a)(n,2),i=a[0],r=a[1],s=c.a.useState(!1),o=Object(j.a)(s,2),u=o[0],b=o[1],m=c.a.useState(!1),g=Object(j.a)(m,2),h=g[0],p=g[1],f=c.a.useState("success"),x=Object(j.a)(f,2),v=x[0],C=x[1],y=c.a.useState("Welcome back!"),w=Object(j.a)(y,2),N=w[0],S=w[1],I=function(e,t){"clickaway"!==t&&p(!1)};return Object(Y.jsxs)(tt.a,{component:"main",maxWidth:"xs",children:[Object(Y.jsx)(l.a,{}),u?Object(Y.jsxs)("div",{className:e.paper,children:[Object(Y.jsxs)(oe.a,{className:e.avatar,children:[" ",Object(Y.jsx)(oc.a,{})," "]}),Object(Y.jsx)(O.a,{component:"h1",variant:"h5",children:" Email sent successfully! "}),Object(Y.jsx)(O.a,{className:e.infoText,component:"body2",align:"center",children:"A password reset link was sent. Click the link in the email to create a new password. If you do not receive an email within 5 minutes, please click the re-send email link below."}),Object(Y.jsx)(tt.a,{children:Object(Y.jsxs)(ae.a,{container:!0,children:[Object(Y.jsx)(ae.a,{item:!0,children:Object(Y.jsx)(tt.a,{children:Object(Y.jsx)(et.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){b(!1),t.push("/password-reset")},children:"Re-send"})})},1),Object(Y.jsx)(ae.a,{item:!0,children:Object(Y.jsx)(tt.a,{children:Object(Y.jsx)(et.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){t.push("/")},children:"Back to Home"})})},2)]})})]}):Object(Y.jsxs)("div",{className:e.paper,children:[Object(Y.jsxs)(oe.a,{className:e.avatar,children:[" ",Object(Y.jsx)(rc.a,{})," "]}),Object(Y.jsx)(O.a,{component:"h1",variant:"h5",children:" Reset Password "}),Object(Y.jsx)(O.a,{className:e.infoText,component:"body2",align:"center",children:"Enter your email address that you used to register. We'll send you an email with your username and a link to reset your password."}),Object(Y.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(Y.jsx)(bt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,className:e.margin,name:"email",id:"email",label:"E-mail",InputProps:{startAdornment:Object(Y.jsx)(nc.a,{position:"start",children:Object(Y.jsx)(cc.a,{})})},onChange:function(e){r(e.target.value)}}),Object(Y.jsx)(et.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),Q.resetPassword(i).then((function(e){console.log(e.data.message),C("success"),S(e.data.message),p(!0),Vt(200).then((function(){b(!0)}))})).catch((function(e){C("error"),void 0!==e.response&&401===e.response.status?S("Entered credentials are incorrect."):S("Something went wrong!"),p(!0)}))},children:"Reset Password"})]})]}),Object(Y.jsx)(X.a,{mt:8,children:Object(Y.jsx)($a,{})}),Object(Y.jsx)(hn.a,{open:h,autoHideDuration:6e3,onClose:I,children:Object(Y.jsx)(pn.a,{onClose:I,severity:v,children:N})})]})}function dc(e){var t=e.passwordResetToken;console.log(t);var n=lc(),i=Object(d.f)(),r=c.a.useState(""),s=Object(j.a)(r,2),o=s[0],u=s[1],b=c.a.useState(""),m=Object(j.a)(b,2),g=m[0],h=m[1],p=c.a.useState(!1),f=Object(j.a)(p,2),x=f[0],v=f[1];Object(a.useEffect)((function(){v(o===g)}),[o,g]);var C=c.a.useState(!1),y=Object(j.a)(C,2),w=y[0],N=y[1],S=c.a.useState("success"),I=Object(j.a)(S,2),k=I[0],T=I[1],B=c.a.useState("Welcome back!"),R=Object(j.a)(B,2),E=R[0],L=R[1],D=function(e,t){"clickaway"!==t&&N(!1)};return Object(Y.jsxs)(tt.a,{component:"main",maxWidth:"xs",children:[Object(Y.jsx)(l.a,{}),Object(Y.jsxs)("div",{className:n.paper,children:[Object(Y.jsxs)(oe.a,{className:n.avatar,children:[" ",Object(Y.jsx)(rc.a,{})," "]}),Object(Y.jsx)(O.a,{component:"h1",variant:"h5",children:" Reset Password "}),Object(Y.jsxs)("form",{className:n.form,noValidate:!0,children:[Object(Y.jsx)(bt.a,{error:!x,helperText:x?null:"Passwords does not match!",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Create new password",type:"password",id:"password",onChange:function(e){u(e.target.value)}}),Object(Y.jsx)(bt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Confirm your password",type:"password",id:"password",error:!x,helperText:x?null:"Passwords does not match!",onChange:function(e){h(e.target.value)}}),Object(Y.jsx)(et.a,{disabled:!x,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,onClick:function(e){e.preventDefault(),Q.changePasswordWithToken(o,t).then((function(e){console.log(e.data.message),T("success"),L(e.data.message),N(!0),Vt(1e3).then((function(){i.push("/sign-in")}))})).catch((function(e){T("error"),void 0!==e.response&&401===e.response.status?L("Entered credentials are incorrect."):L("Something went wrong!"),N(!0)}))},children:"Reset Password"})]})]}),Object(Y.jsx)(X.a,{mt:8,children:Object(Y.jsx)($a,{})}),Object(Y.jsx)(hn.a,{open:w,autoHideDuration:6e3,onClose:D,children:Object(Y.jsx)(pn.a,{onClose:D,severity:k,children:E})})]})}var jc=function(){var e=Object(d.g)().token;return Object(Y.jsx)("div",{children:e?Object(Y.jsx)(dc,{passwordResetToken:e}):Object(Y.jsx)(uc,{})})},bc=n(557),mc=n(284),gc=n.n(mc),hc=Object(m.a)((function(e){return{root:{},avatar:{color:e.palette.getContrastText("#00e3aa"),backgroundColor:"#00e3aa"}}}));var pc=function(e){var t=hc();return Object(Y.jsxs)(re.a,{button:!0,className:t.root,selected:e.selected,onClick:function(){return e.callback(e.username)},children:[Object(Y.jsx)(Pn.a,{children:Object(Y.jsxs)(oe.a,{className:t.avatar,alt:e.username,children:[" ",e.username[0].toUpperCase()," "]})}),Object(Y.jsx)(le.a,{primary:e.username,children:e.username})]},e.username)};var Oc=function(e){return console.log("Selected:",e.selectedUser),Object(Y.jsx)(ie.a,{children:e.users.map((function(t){return Object(Y.jsx)(pc,{selected:e.selectedUser===t,callback:e.callback,username:t},t)}))})},fc=n(174),xc=Object(m.a)((function(e){return{messageArea:{height:"70vh",overflowY:"auto"}}}));var vc=function(e){var t=e.messages,n=xc(),c=Object(a.useRef)(null);return Object(a.useEffect)((function(){c.current&&c.current.scrollIntoView({behaviour:"smooth"})}),[t]),Object(Y.jsxs)(ie.a,{className:n.messageArea,children:[t.map((function(e){return Object(Y.jsx)(re.a,{children:Object(Y.jsx)(ae.a,{container:!0,children:Object(Y.jsx)(ae.a,{item:!0,xs:12,children:Object(Y.jsx)(le.a,{align:e.senderUsername===Q.getUsername()?"right":"left",primary:e.content,secondary:Object(fc.a)(new Date(e.created),"dd.MM.yyyy HH:mm")})})})},e.id)})),Object(Y.jsx)("li",{ref:c})]})},Cc=Object(m.a)((function(e){return{table:{minWidth:650},divider:{},chatSection:{width:"100%"},headBG:{backgroundColor:"#e0e0e0"},borderRight500:{borderRight:"1px solid ".concat(e.palette.secondary.dark)},messageArea:{height:"70vh",overflowY:"auto"},marginAll:{marginTop:e.spacing(3),marginBottom:e.spacing(2),marginLeft:e.spacing(12),marginRight:e.spacing(12)},title:{marginBottom:e.spacing(2)}}}));var yc=function(){var e=Cc(),t=Object(a.useState)([]),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),o=Object(j.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)([]),b=Object(j.a)(d,2),m=b[0],g=b[1],h=Object(a.useState)([]),p=Object(j.a)(h,2),f=p[0],x=p[1],v=Object(a.useState)(null),C=Object(j.a)(v,2),y=C[0],w=C[1];return Object(a.useEffect)((function(){La().then((function(e){console.log("PM:",e.data),x(e.data)}))}),[]),Object(a.useEffect)((function(){var e=Q.getUsername(),t=new Set;f.forEach((function(n){n.senderUsername===e?t.add(n.receiverUsername):n.receiverUsername===e&&t.add(n.senderUsername)}));var n=Object(te.a)(t);n.sort((function(e,t){var n=f.filter((function(t){return t.senderUsername===e||t.receiverUsername===e})),a=f.filter((function(e){return e.senderUsername===t||e.receiverUsername===t}));return Math.max.apply(Math,a.map((function(e){return new Date(e.created).getTime()})))-Math.max.apply(Math,n.map((function(e){return new Date(e.created).getTime()})))})),n=n.filter((function(t){var n=f.filter((function(n){return n.senderUsername===t&&n.receiverUsername===e}));return 1!==n.length||""!==n[0].content})),r(n)}),[f]),Object(a.useEffect)((function(){console.log("User List:",c),null===l&&c.length>0&&u(c[0])}),[c]),Object(a.useEffect)((function(){var e=f.filter((function(e){return e.senderUsername===l||e.receiverUsername===l}));e.sort((function(e,t){return e.timestamp<=t.timestamp})),e=e.filter((function(e){return""!==e.content})),g(e)}),[f,l]),Object(Y.jsxs)("div",{className:e.marginAll,children:[Object(Y.jsx)(ae.a,{container:!0,className:e.title,children:Object(Y.jsx)(ae.a,{item:!0,xs:12,children:Object(Y.jsx)(O.a,{variant:"h5",className:"header-message",children:"Private Messages"})})}),Object(Y.jsx)(Ee.a,{variant:"outlined",children:Object(Y.jsxs)(ae.a,{container:!0,className:e.chatSection,children:[Object(Y.jsx)(ae.a,{item:!0,xs:3,className:e.borderRight500,children:Object(Y.jsx)(Oc,{users:c,selectedUser:l,callback:function(e){console.log("Clicked:",e),u(e)},username:Q.getUsername()})}),Object(Y.jsxs)(ae.a,{item:!0,xs:9,children:[Object(Y.jsx)(vc,{messages:m}),Object(Y.jsx)(ce.a,{className:e.divider}),Object(Y.jsxs)(ae.a,{container:!0,style:{padding:"20px"},children:[Object(Y.jsx)(ae.a,{item:!0,xs:11,children:Object(Y.jsx)(bt.a,{value:y,label:"Type something...",onChange:function(e){return w(e.target.value)},fullWidth:!0})}),Object(Y.jsx)(ae.a,{item:!0,xs:1,align:"right",children:Object(Y.jsx)(bc.a,{disabled:null===l,onClick:function(){null!==y&&""!==y&&Da(l,y).then((function(e){var t=f.slice();t.push(e.data),Object(i.unstable_batchedUpdates)((function(){x(t),w("")}))}))},color:"primary","aria-label":"add",children:Object(Y.jsx)(gc.a,{})})})]})]})]})})]})},wc=n(461),Nc=n(558),Sc=n(43),Ic=n(561),kc=n(173),Tc=function(e,t,n,a,c,i){return k.a.post(T+L+D,{title:e,details:t,date:n,isOnline:a,location:c,utilLink:i},J())},Bc=function(){return k.a.get(T+L+D,J())},Rc=function(e){return k.a.put(T+L+D,e,J())},Ec=function(e){return k.a.delete(T+L+D,{id:e},J())},Lc=function(){return k.a.get(T+L+U,J())},Dc=function(e){return k.a.post(T+L+M,null,J({reportId:e}))},Wc=function(e){return k.a.post(T+L+"/dismiss",J({username:e}))},qc=function(e){return k.a.post(T+L+"/delete-post",null,J({postId:e}))},Ac=function(e,t,n){return k.a.post(T+L+"/ban",null,J({username:e,subClubName:t,reason:n}))},Pc=function(){return k.a.get(T+L+"/dismiss-list",J())},Uc=Object(m.a)((function(e){return{root:{},explanation:{marginBottom:e.spacing(2)},formInput:{marginBottom:e.spacing(2)},switchInput:{marginLeft:e.spacing(2),marginTop:e.spacing(1),marginBottom:e.spacing(2)},dateInput:{marginTop:0},form:{display:"flex"},submitButton:{}}})),Mc=[{name:"title",label:"Event title",id:"title",type:"text",required:!0},{name:"details",label:"Event details",id:"details-input",multiline:!0,type:"text",required:!0},{name:"date",label:"Date and time",id:"date",type:"date",required:!0},{name:"isOnline",label:"Will it be online?",id:"is-online",type:"switch",required:!0},{name:"utilLink",label:"When2meet",id:"util-link",type:"text",required:!0},{name:"location",conditionalLabel:{condition:"isOnline",correct:"URL of the event medium",wrong:"Location of the event"},id:"location",type:"text",required:!0}],Fc={title:null,details:null,date:new Date,isOnline:!1,location:null,utilLink:null};function Hc(){var e=Uc(),t=Object(a.useState)(!1),n=Object(j.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(Fc),o=Object(j.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)({}),m=Object(j.a)(d,2),g=m[0],h=m[1],p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=Object(ne.a)({},g),n=Mc.filter((function(e){return e.required})).map((function(e){return e.name}));n.forEach((function(n){n in e&&(t[n]=e[n]?"":"This field is required.")})),h(Object(ne.a)({},t))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;console.log("Input event:",e);var t=e.target,n=t.name,a=t.value;console.log("Handle input value:",n,a),u(Object(ne.a)(Object(ne.a)({},l),{},Object(b.a)({},n,a))),p(Object(b.a)({},n,a))};Object(a.useEffect)((function(){console.log("Values:",l)}),[l]),Object(a.useEffect)((function(){console.log("Errors:",g)}),[g]);var x=c.a.useState(!1),v=Object(j.a)(x,2),C=v[0],y=v[1],w=c.a.useState("success"),N=Object(j.a)(w,2),S=N[0],I=N[1],k=c.a.useState("Welcome back!"),T=Object(j.a)(k,2),B=T[0],R=T[1],E=function(e,t){"clickaway"!==t&&y(!1)};return Object(Y.jsxs)(X.a,{children:[Object(Y.jsx)(O.a,{className:e.explanation,children:"Create an event for your sub-club."}),Object(Y.jsxs)(wc.a,{className:e.form,children:[Mc.map((function(t){return function(){var n;switch(t.type){case"text":return Object(Y.jsx)(bt.a,Object(ne.a)({className:e.formInput,onBlur:f,variant:"filled",onChange:f,required:t.required,disabled:i,name:t.name,value:l[t.name],label:void 0===t.conditionalLabel?t.label:"true"===l[t.conditionalLabel.condition]?t.conditionalLabel.correct:t.conditionalLabel.wrong,multiline:null!==(n=t.multiline)&&void 0!==n&&n,rows:t.rows,autoComplete:"none"},g[t.name]&&{error:!0,helperText:g[t.name]}),t.id);case"date":return Object(Y.jsx)(Sc.a,{utils:kc.a,name:t.name,className:e.formInput,children:Object(Y.jsx)(Ic.a,Object(ne.a)({disableToolbar:!0,format:"MM.dd.yyyy HH:mm",margin:"normal",className:e.dateInput,disabled:i,id:t.id,name:t.name,label:t.label,required:t.required,value:l[t.name],inputVariant:"filled",onChange:function(e){f({target:{name:t.name,value:e}})},KeyboardButtonProps:{"aria-label":"change date"}},g[t.name]&&{error:!0,helperText:g[t.name]}))},t.id);case"switch":return Object(Y.jsx)(X.a,{className:e.switchInput,children:Object(Y.jsx)(ca.a,{control:Object(Y.jsx)(Nc.a,{id:t.id,name:t.name,disabled:i,label:t.label,value:l[t.name],onChange:function(e){console.log("Switch:",e.target.checked,typeof e.target.checked),e.target.value=e.target.checked,f(e)},color:"primary"},t.id),label:t.label})});default:return null}}()})),Object(Y.jsx)(et.a,{className:e.submitButton,type:"submit",variant:"outlined",startIcon:Object(Y.jsx)(kt.a,{}),onClick:function(e){console.log("Creating event:",l),Tc(l.title,l.details,l.date.toISOString(),"true"===l.isOnline,l.location,l.utilLink).then((function(e){console.log("Event created:",e),I("success"),R("Event successfully created!"),y(!0),r(!0),Vt(2e3).then((function(){return window.location.reload()}))})).catch((function(e){console.error("Error while creating event:",e),I("error"),R("Something is wrong. "+e),y(!0)}))},disabled:!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=Mc.filter((function(e){return e.required})).map((function(e){return e.name}));console.log("Required fields:",t),console.log("Is valid fields:",e);var n=!0;return t.forEach((function(t){n=n&&void 0!==e[t]&&null!==e[t]})),n=n&&Object.values(g).every((function(e){return""===e})),console.log("Is valid:",n),n}()||i,children:"CREATE EVENT"},"submit")]}),Object(Y.jsx)(hn.a,{open:C,autoHideDuration:6e3,onClose:E,children:Object(Y.jsx)(pn.a,{onClose:E,severity:S,children:B})})]})}var Gc=Object(m.a)((function(e){return{root:{width:"100%"},inline:{display:"inline"},paper:{paddingTop:0,paddingBottom:0},button:{marginRight:e.spacing(2)},title:{marginBottom:e.spacing(1),marginTop:e.spacing(2)},gridReportInfoContainer:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"flex"},gridHorizontalSection:{paddingRight:e.spacing(2)},dismissBtn:{marginTop:e.spacing(2)}}}));function Jc(){var e=Gc(),t=Object(a.useState)([]),n=Object(j.a)(t,2),i=n[0],r=n[1];Object(a.useEffect)((function(){Pc().then((function(e){r(e.data)}))}),[]);var s=Object(a.useState)(null),o=Object(j.a)(s,2),l=o[0],u=o[1];return Object(Y.jsxs)(ae.a,{container:!0,children:[Object(Y.jsxs)(ae.a,{item:!0,xs:6,children:[Object(Y.jsx)(O.a,{variant:"h6",className:e.title,children:"List of Dismissible Members"}),Object(Y.jsx)(Ee.a,{variant:"outlined",className:e.paper,children:Object(Y.jsx)(ie.a,{className:e.root,children:null===i||0===i.length?Object(Y.jsx)(Vn,{}):i.map((function(t){return Object(Y.jsx)("div",{children:Object(Y.jsxs)(re.a,{button:!0,alignItems:"flex-start",onClick:function(e){return function(e,t){u(t)}(0,t)},children:[Object(Y.jsx)(Pn.a,{children:Object(Y.jsx)(Mn.a,{})}),Object(Y.jsx)(le.a,{primary:"Member Name: ".concat(t.username),secondary:Object(Y.jsxs)(c.a.Fragment,{children:[Object(Y.jsx)(O.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary"}),"You can dismiss this member."]})})]},t.email)})}))})})]},1),Object(Y.jsx)(ae.a,{className:e.gridReportInfoContainer,container:!0,xs:6,children:l?Object(Y.jsx)(X.a,{children:Object(Y.jsxs)(ae.a,{item:!0,children:[Object(Y.jsx)(O.a,{variant:"h6",className:e.title,children:"Selected Member"}),Object(Y.jsx)(X.a,{children:l?Object(Y.jsx)(Jn,{info:l}):null}),Object(Y.jsx)(et.a,{className:e.dismissBtn,variant:"outlined",onClick:function(){Wc(l.username).then((function(e){Vt(1e3).then((function(e){window.location.reload()}))}))},children:"Dismiss "})]})}):Object(Y.jsx)(O.a,{className:e.title,children:"Select a member to see the details."})},2)]})}var zc=Object(m.a)((function(e){return{root:{},explanation:{marginBottom:e.spacing(2)},formInput:{marginBottom:e.spacing(2)},switchInput:{marginLeft:e.spacing(2),marginTop:e.spacing(1),marginBottom:e.spacing(2)},dateInput:{marginTop:0},form:{display:"flex"},submitButton:{marginBottom:e.spacing(2)}}})),_c={id:-1,title:null,details:null,date:new Date,isOnline:!1,location:null,utilLink:null};function Vc(){var e=zc(),t=Object(a.useState)([_c]),n=Object(j.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(_c),s=Object(j.a)(r,2),o=s[0],l=s[1],u=Object(a.useState)(!1),d=Object(j.a)(u,2),b=d[0],m=d[1];return Object(a.useEffect)((function(){Bc().then((function(e){i(e.data)}))}),[]),Object(Y.jsxs)(X.a,{children:[Object(Y.jsx)(O.a,{className:e.explanation,children:"Edit this event for your sub-club."}),Object(Y.jsxs)($n.a,{className:e.form,variant:"filled",children:[Object(Y.jsx)(ta.a,{children:"Select an event to edit"}),Object(Y.jsxs)(ja.a,{className:e.formInput,value:o?o.id:-1,onChange:function(e){var t=e.target.value;-1!==t?(l(c.find((function(e){return e.id===t}))),console.log(o)):l(_c)},children:[Object(Y.jsx)(mn.a,{value:-1,children:Object(Y.jsx)("em",{children:"None"})},-1),c.map((function(e){return Object(Y.jsx)(mn.a,{filled:!0,value:e?e.id:-1,children:e.title},e?e.id:-1)}))]})]}),-1===o.id?null:Object(Y.jsxs)(wc.a,{className:e.form,children:[Object(Y.jsx)(bt.a,{className:e.formInput,required:!0,variant:"filled",onChange:function(e){var t=JSON.parse(JSON.stringify(o));t.title=e.target.value,l(t)},disabled:b,value:o.title,label:"Event title"},"event title"),Object(Y.jsx)(bt.a,{className:e.formInput,required:!0,variant:"filled",disabled:b,onChange:function(e){var t=JSON.parse(JSON.stringify(o));t.details=e.target.value,l(t)},value:o.details,label:"Event details"},"event details"),Object(Y.jsx)(Sc.a,{utils:kc.a,className:e.formInput,children:Object(Y.jsx)(Ic.a,{className:e.dateInput,disableToolbar:!0,required:!0,inputVariant:"filled",format:"MM.dd.yyyy HH:mm",margin:"normal",name:"{inputField.name}",label:"Date and time",value:o.date,disabled:b,onChange:function(e){var t=JSON.parse(JSON.stringify(o));t.date=e,l(t)},KeyboardButtonProps:{"aria-label":"change date"}})},"{inputField.id}"),Object(Y.jsx)(X.a,{className:e.switchInput,children:Object(Y.jsx)(ca.a,{control:Object(Y.jsx)(Nc.a,{name:"{inputField.name}",label:"Will it be online?",color:"primary",disabled:b,onChange:function(e){e.target.value=e.target.checked;var t=JSON.parse(JSON.stringify(o));t.isOnline=e.target.value,l(t)}},"{inputField.id}"),label:"Will it be online?"})}),Object(Y.jsx)(bt.a,{className:e.formInput,required:!0,variant:"filled",disabled:b,onChange:function(e){var t=JSON.parse(JSON.stringify(o));t.location=e.target.value,l(t)},value:o.location,label:"Location of event"},"event location"),Object(Y.jsx)(bt.a,{className:e.formInput,required:!0,variant:"filled",disabled:b,onChange:function(e){var t=JSON.parse(JSON.stringify(o));t.utilLink=e.target.value,l(t)},value:o.utilLink,label:"When2meet"},"event util link"),Object(Y.jsx)(et.a,{className:e.submitButton,type:"submit",variant:"outlined",disabled:b,startIcon:Object(Y.jsx)(ga.a,{}),onClick:function(){console.log("event will be: ",o),Rc(o).then((function(e){console.log("Successfully updated:",e.data),m(!0),Vt(2e3).then((function(){return window.location.reload()}))}))},children:"EDIT EVENT"},"submit"),Object(Y.jsx)(et.a,{className:e.submitButton,type:"submit",variant:"outlined",disabled:b,startIcon:Object(Y.jsx)(ha.a,{}),onClick:function(){Ec(o.id).then((function(e){console.log("Successfully deleted:",e.data),m(!0),Vt(2e3).then((function(){return window.location.reload()}))}))},children:"DELETE EVENT"},"delete")]})]})}var Qc=Object(m.a)((function(e){return{root:{width:"100%"},inline:{display:"inline"},paper:{paddingTop:0,paddingBottom:0},button:{marginRight:e.spacing(2)},title:{marginBottom:e.spacing(1),marginTop:e.spacing(2)},gridReportInfoContainer:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"flex"},gridHorizontalSection:{paddingRight:e.spacing(2)}}}));function Yc(){var e=Qc(),t=Object(a.useState)(null),n=Object(j.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(null),o=Object(j.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)(null),b=Object(j.a)(d,2),m=b[0],g=b[1],h=Object(a.useState)({}),p=Object(j.a)(h,2),f=p[0],x=p[1];Object(a.useEffect)((function(){Lc().then((function(e){r(e.data)}))}),[m]);return Object(Y.jsxs)(ae.a,{container:!0,children:[Object(Y.jsxs)(ae.a,{item:!0,xs:4,children:[Object(Y.jsx)(O.a,{variant:"h6",className:e.title,children:"List of Reports"}),Object(Y.jsx)(Ee.a,{variant:"outlined",className:e.paper,children:Object(Y.jsx)(ie.a,{className:e.root,children:null===i||0===i.length?Object(Y.jsx)(Vn,{}):i.map((function(t){return Object(Y.jsxs)("div",{children:[Object(Y.jsxs)(re.a,{button:!0,selected:l&&t.postId===l.id,alignItems:"flex-start",onClick:function(e){return function(e,t){g(t),yt(t.postId).then((function(e){u(e.data),In(e.data.author,0,1).then((function(e){x(e.data[0])}))}))}(0,t)},children:[Object(Y.jsx)(Pn.a,{children:Object(Y.jsx)(Mn.a,{})}),Object(Y.jsx)(le.a,{primary:"Reported by: ".concat(t.author),secondary:Object(Y.jsxs)(c.a.Fragment,{children:[Object(Y.jsx)(O.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary",children:"Reason: "}),t.content]})})]},t.postId),Object(Y.jsx)(ce.a,{variant:"inset",component:"li"})]})}))})})]},1),Object(Y.jsx)(ae.a,{className:e.gridReportInfoContainer,container:!0,xs:8,children:l?Object(Y.jsxs)(X.a,{children:[Object(Y.jsxs)(ae.a,{item:!0,children:[Object(Y.jsx)(O.a,{variant:"h6",className:e.title,children:"Reported Post"}),Object(Y.jsx)(X.a,{children:l?Object(Y.jsx)(vn,{props:l},l.postId):null})]}),Object(Y.jsxs)(ae.a,{container:!0,children:[Object(Y.jsxs)(ae.a,{item:!0,xs:6,className:e.gridHorizontalSection,children:[Object(Y.jsx)(O.a,{variant:"h6",className:e.title,children:"Author Information"}),f?Object(Y.jsx)(Jn,{info:f}):null]},1),Object(Y.jsxs)(ae.a,{item:!0,xs:6,className:e.gridHorizontalSection,children:[Object(Y.jsx)(O.a,{variant:"h6",className:e.title,children:"Actions"}),Object(Y.jsxs)(ae.a,{container:!0,spacing:1,children:[Object(Y.jsx)(ae.a,{item:!0,className:e.button,children:Object(Y.jsx)(et.a,{variant:"outlined",onClick:function(){Ac(f.username,l.parentName,"no-reason").then((function(e){qc(l.id).then((function(e){console.log("DELETE POST",e.data),g(null),u(null),Vt(1e3).then((function(e){window.location.reload()}))}))}))},children:"Ban Member"})},1),Object(Y.jsx)(ae.a,{item:!0,className:e.button,children:Object(Y.jsx)(et.a,{variant:"outlined",onClick:function(){Dc(m.id).then((function(e){console.log("DELETE REPORT",e.data),g(null),u(null),x(null)}))},children:"Delete Report"})},2),Object(Y.jsx)(ae.a,{item:!0,className:e.button,children:Object(Y.jsx)(et.a,{variant:"outlined",onClick:function(){qc(l.id).then((function(e){console.log("DELETE POST",e.data),g(null),u(null)}))},children:"Delete Post"})},3)]})]},2)]})]}):Object(Y.jsx)(O.a,{className:e.title,children:"Select a report to see the details."})},2)]})}function $c(){return Object(Y.jsxs)(d.c,{children:[Object(Y.jsx)(d.a,{path:"/mod/create-event",children:Object(Y.jsx)(Hc,{})}),Object(Y.jsx)(d.a,{path:"/mod/manage-event",children:Object(Y.jsx)(Vc,{})}),Object(Y.jsx)(d.a,{path:"/mod/reported-posts",children:Object(Y.jsx)(Yc,{})}),Object(Y.jsx)(d.a,{path:"/mod/dismiss",children:Object(Y.jsx)(Jc,{})})]})}var Kc=[{text:"Events",children:[{text:"Create event",path:"/mod/create-event"},{text:"Manage event",path:"/mod/manage-event"}]},{text:"Reports",children:[{text:"Reported posts",path:"/mod/reported-posts"},{text:"Dismiss list",path:"/mod/dismiss"}]}],Xc=Object(m.a)((function(e){return{root:{},divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},gridLeftColumnBox:{paddingTop:e.spacing(3),paddingLeft:e.spacing(2.5),paddingRight:e.spacing(0)},gridRightColumnBox:{paddingTop:e.spacing(3),paddingLeft:e.spacing(2.5),paddingRight:e.spacing(2.5)}}}));var Zc=function(e){var t=e.children,n=Xc(),a=Object(d.f)();return Object(Y.jsxs)(ae.a,{container:!0,className:n.root,children:[Object(Y.jsx)(ae.a,{item:!0,xs:3,className:n.gridLeftColumnBox,children:Object(Y.jsx)(X.a,{children:Object(Y.jsx)(He,{title:"Menu",titleIcon:Object(Y.jsx)(ct.a,{}),menuItems:Kc,defaultExpanded:Kc.map((function(e){return e.text})),callbackOnTreeItemClick:function(e){console.log(e),console.log(e.path),a.push(e.path)}})})}),Object(Y.jsxs)(ae.a,{item:!0,xs:9,className:n.gridRightColumnBox,children:[Object(Y.jsx)(O.a,{variant:"h4",children:"Moderator Panel"}),Object(Y.jsx)(ce.a,{className:n.divider}),Object(Y.jsx)(ae.a,{item:!0,xs:12,children:t})]})]})};var ei=function(){return Object(Y.jsx)(Zc,{children:Object(Y.jsx)($c,{})})},ti=n(559),ni=Object(m.a)({avatar:{backgroundColor:function(e){return 5===e.rating?"#57bb8a":4===e.rating?"#9ace6a":3===e.rating?"#ffcf02":2===e.rating?"#ff9f02":1===e.rating?"#ff6f31":"#ffffff"}}});function ai(e){var t=e.review,n=ni(t);return Object(Y.jsx)("div",{children:Object(Y.jsxs)(Zt.a,{children:[Object(Y.jsx)(en.a,{avatar:Object(Y.jsx)(oe.a,{className:n.avatar,children:t.rating}),action:Object(Y.jsx)(f.a,{children:Object(Y.jsx)(ti.a,{})}),title:t.author,subheader:Object(On.a)(new Date(t.created),new Date)}),Object(Y.jsx)(tn.a,{children:Object(Y.jsx)(O.a,{variant:"body",color:"textSecondary",children:t.content})})]})})}var ci=n(577),ii=n(285),ri=n.n(ii),si=n(27),oi=function(e){return k.a.get(T+R+"/reviews",J({subClubName:e}))},li=function(e,t,n,a){var c={content:t,rating:n,author:a,parentName:e};return console.log(T+R+q,c,J({subClubName:e})),k.a.post(T+R+q,c,J({subClubName:e}))},ui=n(95),di=Object(m.a)((function(e){return{root:{padding:e.spacing(3)},ratingStars:{display:"flex",alignItems:"center",paddingBottom:e.spacing(2)},dialogTextField:{marginTop:e.spacing(2)},numReviewsText:{marginBottom:e.spacing(2),marginTop:e.spacing(2),marginRight:e.spacing(2)}}}));function ji(e){var t=e.subClubName,n=e.reviews,i=(Object(d.f)(),di()),r=Object(a.useState)(!1),s=Object(j.a)(r,2),o=s[0],l=s[1],u=Object(a.useState)(-1),b=Object(j.a)(u,2),m=b[0],g=b[1],h=Object(a.useState)(null),p=Object(j.a)(h,2),f=p[0],x=p[1];Object(a.useEffect)((function(){xe.getSubClubs().then((function(e){var n=e.data.filter((function(e){return e.name===t}))[0];xe.getSubClubStatistics(n.name).then((function(e){n.numberOfMembers=e.data.numberOfMembers,n.numberOfPostsInLastWeek=e.data.numberOfPostsInTimeFrame,x(n)}))}))}),[t]);for(var v=function(e){l(!1)},C=c.a.useState(3),y=Object(j.a)(C,2),w=y[0],N=y[1],S=Object(a.useState)(""),I=Object(j.a)(S,2),k=I[0],T=I[1],B=0,R={state:"+1",one:0,two:0,three:0,four:0,five:0},E=0;E<n.length;E++)B+=n[E].rating,1===n[E].rating?R.one+=1:2===n[E].rating?R.two+=1:3===n[E].rating?R.three+=1:4===n[E].rating?R.four+=1:5===n[E].rating&&(R.five+=1);return R.one=R.one/B,R.two=R.two/B,R.three=R.three/B,R.four=R.four/B,R.five=R.five/B,f?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(Ee.a,{children:Object(Y.jsx)(tt.a,{className:i.root,children:Object(Y.jsxs)(ae.a,{container:!0,spacing:3,children:[Object(Y.jsxs)(ae.a,{item:!0,xs:4,children:[Object(Y.jsx)(O.a,{color:"textSecondary",variant:"h2",align:"left",children:(B/n.length).toPrecision(3)}),Object(Y.jsx)(ci.a,{value:(B/n.length).toPrecision(3),readOnly:!0}),Object(Y.jsxs)(ae.a,{container:!0,children:[Object(Y.jsx)(ae.a,{item:!0,children:Object(Y.jsx)(ri.a,{className:i.numReviewsText})}),Object(Y.jsx)(ae.a,{item:!0,children:Object(Y.jsxs)(O.a,{className:i.numReviewsText,color:"textSecondary",variant:"body1",children:[n.length," total"]})})]}),Object(Y.jsx)(X.a,{children:Object(Y.jsx)(et.a,{size:"medium",variant:"contained",color:"primary",startIcon:Object(Y.jsx)($t.a,{}),onClick:function(){l(!0)},fullWidth:!0,disableElevation:!0,children:"Write a Review"})})]},"1"),Object(Y.jsx)(ae.a,{item:!0,xs:4,children:Object(Y.jsx)(Ee.a,{children:Object(Y.jsxs)(ui.b,{data:[R],rotated:!0,height:"250",children:[Object(Y.jsx)(ui.c,{}),Object(Y.jsx)(ui.a,{valueField:"five",argumentField:"state",color:"#57bb8a"}),Object(Y.jsx)(ui.a,{valueField:"four",argumentField:"state",color:"#9ace6a"}),Object(Y.jsx)(ui.a,{valueField:"three",argumentField:"state",color:"#ffcf02"}),Object(Y.jsx)(ui.a,{valueField:"two",argumentField:"state",color:"#ff9f02"}),Object(Y.jsx)(ui.a,{valueField:"one",argumentField:"state",color:"#ff6f31"}),Object(Y.jsx)(si.h,{})]})})},"3"),Object(Y.jsx)(ae.a,{item:!0,xs:4,children:Object(Y.jsx)(rt,{feedInfo:f})},"2")]})})}),Object(Y.jsxs)(ue.a,{open:o,onClose:v,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md",children:[Object(Y.jsxs)(de.a,{id:"form-dialog-title",children:["Meta / ",f.name]}),Object(Y.jsxs)(je.a,{children:[Object(Y.jsxs)("div",{className:i.ratingStars,children:[Object(Y.jsx)(ci.a,{required:!0,value:w,onChange:function(e,t){N(t)},onChangeActive:function(e,t){g(t)}}),null!==w&&Object(Y.jsx)(X.a,{ml:2,children:{1:"Useless",2:"Lots of bad posts",3:"OK",4:"Good place to hang out",5:"Excellent people and quality"}[-1!==m?m:w]})]}),Object(Y.jsx)(bt.a,{autoFocus:!0,required:!0,multiline:!0,className:i.dialogTextField,label:"Your opinions",rows:5,variant:"filled",type:"input",onChange:function(e){T(e.target.value)},fullWidth:!0})]}),Object(Y.jsxs)(be.a,{children:[Object(Y.jsx)(et.a,{onClick:v,color:"primary",children:"Exit"}),Object(Y.jsx)(et.a,{onClick:function(e){li(t,k,w,Q.getUsername()).then((function(e){console.log("RESPONSE",e.data),l(!1),Vt(1e3).then((function(){return window.location.reload()}))}))},color:"primary",children:"Submit"})]})]})]}):Object(Y.jsx)("div",{})}var bi=n(286),mi=Object(m.a)((function(e){return{summaryContainer:{paddingTop:e.spacing(3)}}}));function gi(){var e=mi(),t=Object(d.g)().subClubName,n=Object(a.useState)([]),c=Object(j.a)(n,2),i=c[0],r=c[1];return Object(a.useEffect)((function(){oi(t).then((function(e){console.log("get reviews",e.data),r(e.data)}))}),[t]),Object(Y.jsxs)(tt.a,{children:[Object(Y.jsx)(tt.a,{className:e.summaryContainer,children:Object(Y.jsx)(ji,{subClubName:t,reviews:i})}),Object(Y.jsx)(tt.a,{children:Object(Y.jsx)(bi.a,{breakpointCols:3,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:i.map((function(e){return Object(Y.jsx)("div",{children:Object(Y.jsx)(ai,{review:e})},e.author)}))})})]})}var hi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return k.a.get(T+G,{params:{query:e,page:t,size:n}})},pi=Object(m.a)((function(e){return{root:{display:"flex",marginTop:"5%",flexDirection:"column",alignItems:"center"},title:{marginBottom:e.spacing(1),marginTop:e.spacing(4)},gridContainer:{},gridItem:{maxHeight:"100vh",overflow:"auto"},gridLeftColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(2.5),marginRight:e.spacing(0)},gridMiddleColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1)},gridRightColumnBox:{marginTop:e.spacing(3),marginLeft:e.spacing(0),marginRight:e.spacing(2.5)},sectionBox:{marginBottom:e.spacing(2)},avatarContainer:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2)},avatar:{color:e.palette.getContrastText("#00e3aa"),backgroundColor:"#00e3aa"},usernameContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}));function Oi(){var e=pi(),t=Object(d.f)(),n=Object(d.g)(),c=Object(a.useState)({posts:[],clubs:[],subClubs:[],members:[]}),i=Object(j.a)(c,2),r=i[0],s=i[1];return Object(a.useEffect)((function(){hi(n.query.trim()).then((function(e){s(e.data)}))}),[n]),Object(Y.jsx)("div",{children:Object(Y.jsxs)(ae.a,{container:!0,spacing:1,className:e.gridContainer,children:[Object(Y.jsx)(ae.a,{item:!0,xs:3,className:e.gridItem,children:Object(Y.jsx)(X.a,{className:e.gridLeftColumnBox})}),Object(Y.jsx)(ae.a,{item:!0,xs:6,className:e.gridItem,children:Object(Y.jsxs)(X.a,{className:e.gridMiddleColumnBox,children:[Object(Y.jsx)(O.a,{className:e.title,variant:"h4",children:"Clubs & Sub-clubs"}),Object(Y.jsx)(ce.a,{className:e.divider}),Object(Y.jsx)(Ee.a,{variant:"outlined",children:Object(Y.jsxs)(ie.a,{children:[0===r.clubs.length||0===r.subClubs.length?Object(Y.jsx)(Vn,{}):r.clubs.slice(0,2).map((function(n){return Object(Y.jsxs)(re.a,{button:!0,onClick:function(){return t.push("/feed/".concat(n.name))},children:[Object(Y.jsx)(se.a,{className:e.avatarContainer,children:Object(Y.jsx)(oe.a,{className:e.avatar,children:n.name[0].toUpperCase()})}),Object(Y.jsx)(le.a,{primary:n.name,secondary:"Club"})]},n.name)})),r.subClubs.slice(0,3).map((function(n){return Object(Y.jsxs)(re.a,{onClick:function(){return t.push("/feed/".concat(n.name))},children:[Object(Y.jsx)(se.a,{className:e.avatarContainer,children:Object(Y.jsx)(oe.a,{className:e.avatar,children:n.name[0].toUpperCase()})}),Object(Y.jsx)(le.a,{primary:n.name,secondary:"Sub-club of ".concat(n.parentName)})]},n.name)}))]})}),Object(Y.jsx)(O.a,{className:e.title,variant:"h4",children:"Members"}),Object(Y.jsx)(ce.a,{className:e.divider}),Object(Y.jsx)(Ee.a,{variant:"outlined",children:Object(Y.jsx)(ie.a,{children:0===r.members.length?Object(Y.jsx)(Vn,{}):r.members.map((function(n){return Object(Y.jsxs)(re.a,{button:!0,onClick:function(){return t.push("/profile/".concat(n.username))},children:[Object(Y.jsx)(se.a,{className:e.avatarContainer,children:Object(Y.jsx)(oe.a,{className:e.avatar,children:Object(Y.jsx)(Fn.a,{})})}),Object(Y.jsx)(le.a,{children:n.username})]},n.username)}))})}),Object(Y.jsx)(O.a,{className:e.title,variant:"h4",children:"Posts"}),Object(Y.jsx)(ce.a,{className:e.divider}),Object(Y.jsx)(X.a,{children:0===r.posts.length?Object(Y.jsx)(Vn,{}):Object(Y.jsx)(yn,{posts:r.posts})})]})}),Object(Y.jsx)(ae.a,{item:!0,xs:3,className:e.gridItem,children:Object(Y.jsx)(X.a,{className:e.gridRightColumnBox})})]})})}var fi=Object(m.a)((function(e){return{root:{},divider:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},gridRightColumnBox:{paddingTop:e.spacing(3),paddingLeft:e.spacing(2.5),paddingRight:e.spacing(2.5)},submitButton:{marginTop:e.spacing(5),marginBottom:e.spacing(5)}}}));function xi(e){var t=e.enrolledSubClubs,n=Object(a.useState)(!0),c=Object(j.a)(n,2),i=c[0],r=c[1],s=Object(d.f)();return Object(Y.jsxs)(ue.a,{open:i,onClose:function(){r(!1)},"aria-labelledby":"form-dialog-title",maxWidth:"md",children:[Object(Y.jsx)(de.a,{id:"form-dialog-title",children:"Recommended Sub-clubs"}),Object(Y.jsx)(je.a,{children:Object(Y.jsx)(X.a,{margin:"10px",children:t.map((function(e){return Object(Y.jsx)("h3",{children:e})}))})}),Object(Y.jsx)(be.a,{children:Object(Y.jsx)(et.a,{onClick:function(e){s.push("/")},color:"primary",children:"Go to Feed"})})]})}var vi=function(){var e=fi(),t=Object(a.useState)([]),n=Object(j.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)([]),s=Object(j.a)(r,2),o=s[0],l=s[1],u=Object(a.useState)([]),d=Object(j.a)(u,2),b=d[0],m=d[1],g=Object(a.useState)(!1),h=Object(j.a)(g,2),p=h[0],f=h[1];return Object(a.useEffect)((function(){xe.getRandomQuestionnaire().then((function(e){i(e.data)}))}),[]),Object(Y.jsxs)(ae.a,{container:!0,children:[Object(Y.jsxs)(ae.a,{item:!0,xs:12,className:e.gridRightColumnBox,children:[Object(Y.jsx)(O.a,{variant:"h4",children:"Sub-club Recommendation Form"}),Object(Y.jsx)(ce.a,{className:e.divider})]}),Object(Y.jsx)(ae.a,{item:!0,xs:3}),Object(Y.jsxs)(ae.a,{item:!0,xs:6,children:[0!==c.length&&Object(Y.jsx)(Gt,{questions:c,callBackOnAnswer:l}),Object(Y.jsx)(et.a,{className:e.submitButton,size:"medium",variant:"contained",color:"primary",onClick:function(){Te(o).then((function(e){var t=e.data.split("[")[1];t=t.split("]")[0].split(", "),m(t),f(!0)}))},fullWidth:!0,disableElevation:!0,children:"SUBMIT"}),p&&Object(Y.jsx)(xi,{enrolledSubClubs:b})]}),Object(Y.jsx)(ae.a,{item:!0,xs:3})]})};function Ci(){return Object(Y.jsx)(d.c,{children:Object(Y.jsx)(d.a,{path:"/feed/:feedName/:sort?/:page?",children:Object(Y.jsx)(Sn,{})})})}function yi(){return Object(Y.jsx)(u.a,{children:Object(Y.jsx)(ee,{children:Object(Y.jsxs)(d.c,{children:[Object(Y.jsx)(d.a,{exact:!0,path:"/",children:Object(Y.jsx)(Sn,{})}),Object(Y.jsx)(d.a,{path:"/feed",children:Object(Y.jsx)(Ci,{})}),Object(Y.jsx)(d.a,{path:"/admin",children:Object(Y.jsx)(Ba,{})}),Object(Y.jsx)(d.a,{path:"/profile/:username",children:Object(Y.jsx)(Ja,{})}),Object(Y.jsx)(d.a,{path:"/sign-up",children:Object(Y.jsx)(Xa,{})}),Object(Y.jsx)(d.a,{path:"/sign-in",children:Object(Y.jsx)(tc,{})}),Object(Y.jsx)(d.a,{path:"/subclub-recommendation",children:Object(Y.jsx)(vi,{})}),Object(Y.jsx)(d.a,{path:"/password-reset/:token?",children:Object(Y.jsx)(jc,{})}),Object(Y.jsx)(d.a,{path:"/pm",children:Object(Y.jsx)(yc,{})}),Object(Y.jsx)(d.a,{path:"/mod",children:Object(Y.jsx)(ei,{})}),Object(Y.jsx)(d.a,{path:"/meta/:subClubName",children:Object(Y.jsx)(gi,{})}),Object(Y.jsx)(d.a,{path:"/search/:query",children:Object(Y.jsx)(Oi,{})}),Object(Y.jsx)(d.a,{path:"*",children:Object(Y.jsx)(_a,{})})]})})})}var wi=function(){var e=Object(da.a)("(prefers-color-scheme: dark)"),t=c.a.useMemo((function(){return Object(s.a)(e?{overrides:{MuiAppBar:{colorPrimary:{backgroundColor:"#171c23",color:"#ffffff"}}},palette:{type:"dark",primary:{main:"#00e3aa"},secondary:{main:"#00e3aa"},background:{default:"#12161b",paper:"#1a1f26"},typography:{fontFamily:["Inter","Roboto","Arial","sans-serif"]}}}:{overrides:{MuiAppBar:{colorPrimary:{backgroundColor:"#ffffff",color:"#12151a"}}},palette:{type:"light",primary:{main:"#00e3aa"},secondary:{main:"#00e3aa"},background:{default:"#fafafa",paper:"#ffffff"},typography:{fontFamily:["Inter","Roboto","Arial","sans-serif"]}}})}),[e]);return Object(Y.jsxs)(o.a,{theme:t,children:[Object(Y.jsx)(l.a,{}),Object(Y.jsx)(yi,{})]})},Ni=document.getElementById("root");r.a.render(Object(Y.jsx)(wi,{}),Ni)}},[[449,1,2]]]);
//# sourceMappingURL=main.e8de151b.chunk.js.map